!function(t){var n={};function e(r){if(n[r])return n[r].exports;var l=n[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var l in t)e.d(r,l,function(n){return t[n]}.bind(null,l));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t){t.exports={screen:{width:400,height:400},fps:60,camera:{x:0,y:0},stage:{width:1800,height:1800},tilemap:{data:[1,1,1,1,2,1,1,1,1,1,0,9,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,4,0,1,0,1,0,1,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1],columns:10,gridWidth:40,gridHeight:40}}},function(t,n,e){"use strict";e.r(n);var r=e(0);class l{constructor(){this.id=i()}}var u=1;function i(){return u++}class c{constructor(t=0){this.entityId=t,this.id=t}}class s{constructor(t=0,n=0){this.id=i(),this.entityId=t,this.priority=n}}class o{constructor(t=0){this.id=i(),this.priority=t}onStart(){}onUpdate(t=0){}onEnd(){}}class a{constructor(t=null,n=null,e=null){this.data=t,this.prep=n,this.next=e}}class d{constructor(){this.head=new a,this.tail=new a,this.head.next=this.tail,this.tail.prep=this.head,this._map=new Map,this._size=0,this._delList=[],this._curr=this.head,this._lock=!1}}function h(){return new d}function f(t=null,n=0,e=!1){if(!t)return void console.error("link is null.");let r=t._map.get(n);return r?r.data:(e&&console.error("can't find keyId: ",n),null)}function p(t=null,n=null){return x(t,n,t.tail)}function y(t=null,n=null){let e=n&&n.priority?n.priority:0,r=t.head.next;for(;r!=t.tail&&!(e>r.data.priority);)r=r.next;return x(t,n,r)}function x(t=null,n=null,e=null){if(!t||!n||!n.id)return console.error("error param: ",t,n,n.id),null;if(t._map.get(n.id))return console.error("error id:%d is exist",n.id),null;let r=e.prep,l=new a(n,r,e);return r.next=l,e.prep=l,t._map.set(n.id,l),t._size++,l}function g(t=null,n=0){t&&0!=n?t._lock?t._delList.push(n):v(t,n):console.error("error param: ",t,n)}function v(t=null,n=0){let e=t._map.get(n);if(!e)return;t._map.delete(n);let r=e.prep,l=e.next;r.next=l,l.prep=r,t._size--}function w(t=null,n=null){if(!t||!n)return;t._lock=!0;let e=t.head.next;for(;e!=t.tail&&!n(e.data);)e=e.next;for(;t._delList.length>0;)v(t,t._delList.pop());t._lock=!1}var m=h();const k=1;const b=2;class _ extends s{constructor(t=0,n=0){super(t,n),this.state=0}isEnd(){return!1}onStop(){this.onEnd()}}function S(t=null,n=0){t.onUpdate(n)}function I(t=null){t.state=b,t.onEnd()}class U extends o{constructor(){super(999)}onUpdate(t=0){w(m,n=>{S(n,t),n.isEnd()&&I(n)})}}var H=null;class E{constructor(t=0,n=0){this.x=t,this.y=n}}function L(t=0,n=0){return new E(t,n)}class P{constructor(t=0,n=0){this.x=t,this.y=n,this.distance=t*t+n*n}}function B(t=0,n=0){return new P(t,n)}class z{constructor(t=null,n=0,e=0,r=null){this.offset=t,this.width=n,this.height=e,this.center=r}}function M(t=0,n=0,e=0,r=0){if(0==e||0==r)return null;let l=B(t,n);return new z(l,e,r,L())}function j(t=null){return L(t.center.x-D(t),t.center.y-G(t))}function O(t=null){return L(t.center.x+D(t),t.center.y+G(t))}function V(t=null){return t.width}function C(t=null){return t.height}function D(t=null){return.5*t.width}function G(t=null){return.5*t.height}class R extends c{constructor(t=0,n=0,e=0){super(t),this.pos=L(n,e),this.vec=B()}}var W=h();function T(t=0){let n=f(W,t);return n||function(t=0){let n=new R(t);return p(W,n),n}(t)}function A(t=0,n=0,e=0){let r=T(t).pos;return r.x=n,r.y=e,r}function F(t=0){return T(t).pos}function X(t=0){return T(t).vec}var Y=h();class q{constructor(t=0,n=0,e=0,r=null){this.entityId=t,this.unitPos=null,this.unitVec=null,this.offset=B(n,e),this.rect=r}}function J(t=0,n=0,e=0,r=null){if(!r)return null;let l=new q(t,n,e,r);return l.unitPos=F(t),l.unitVec=X(t),l}function K(t=null){return L(t.unitPos.x+t.offset.x,t.unitPos.y+t.offset.y)}function N(t=null){let n=K(t);return L(n.x-D(t.rect),n.y-G(t.rect))}function Q(t=null){let n=K(t);return L(n.x+D(t.rect),n.y+G(t.rect))}new Map;h();var Z=h();function $(t=0){return t>=0?t:-t}function tt(t=0,n=0){return t>n?t:n}function nt(t=0,n=0){return t<n?t:n}function et(t=null,n=null){let e=K(t),r=K(n);return!($(e.x-r.x)>D(t.rect)+D(n.rect))&&!($(e.y-r.y)>G(t.rect)+G(n.rect))}class rt extends l{constructor(){super(),this.pos=null,this.rect=null}}function lt(t=0,n=0,e=0,r=0){let l=new rt;return l.pos=A(l.id,t,n),l.rect=J(l.id,0,0,M(0,0,e,r)),l}function ut(t=null,n=null){return et(t.rect,n)}function it(t=null,n=null){return function(t=null,n=null){return L(t.x-n.x,t.y-n.y)}(n,N(t.rect))}const ct=87,st=65,ot=83,at=68;var dt={ctx:null,canvas:null,fps:0,tick:0};function ht(){return dt}var ft=ht();Math.PI;function pt(t=null,n=null){return!!function(t=null,n=null){let e=j(t),r=j(n),l=O(t),u=O(n),i=e.x,c=r.x,s=i>c?i:c,o=l.x,a=u.x,d=o<a?o:a;if(d<s)return null;let h=e.y,f=r.y,p=h>f?h:f,y=l.y,x=u.y,g=y<x?y:x;return g<p?null:M(0,0,d-s,g-p)}(t,n)}class yt extends l{constructor(t=0,n=null,e=0){super(),this.entityId=t,this.rect=n,this.tag=e}}class xt extends o{constructor(t=null){this.callback=t}check(t=0,n=null,e=null){return!!pt(n.rect,e.rect)&&(this.callback(t,n,e),!0)}}var gt=h();function vt(){return gt}var wt=h();function mt(){return wt}class kt extends o{onUpdate(t=0){!function(){let t=ft.canvas;ft.ctx.clearRect(0,0,t.width,t.height)}(),w(Z,t=>{let n=F(t.entityId);UpdateRectPosByUnit(t.displayArea,n.x,n.y),function(t=null){let n=_n(),e=t.displayArea;if(!ut(n,e))return;let r=it(n,GetRectStartPos(e)),l=t.spriteFrame.textureArea;!function(t,n=0,e=0,r=0,l=0,u=0,i=0,c=0,s=0){ft.ctx.drawImage(t,n,e,r,l,u,i,c,s)}(t.spriteFrame.bitmapData,l.x,l.y,l.width,l.height,r.x,r.y,V(e),C(e))}(t)})}}var bt=null;class _t extends o{onUpdate(t=0){w(mt(),t=>{It(t.rect)}),w(vt(),t=>{It(t.rect)})}}var St=null;function It(t=null){let n=_n();if(!ut(n,t))return;let e=it(n,N(t));!function(t=0,n=0,e=0,r=0){ft.ctx.strokeRect(t,n,e,r)}(e.x,e.y,V(t.rect),C(t.rect))}class Ut extends o{constructor(){super(100)}onUpdate(t=0){w(Y,t=>{0;let n=t.vec;if(0==n.x&&0==n.y)return;let e=t.pos;e.x+=n.x,e.y+=n.y,n.x=0,n.y=0})}}var Ht=null;var Et,Lt=ht();var Pt=!1;var Bt=null,zt=(new Date).getTime();var Mt=new Map;var jt=h(),Ot=h();function Vt(t=!1){y(jt,(H||(H=new U),H)),y(jt,(Ht||(Ht=new Ut),Ht)),p(Ot,(bt||(bt=new kt),bt)),t&&p(Ot,(St||(St=new _t),St))}var Ct=16,Dt=41,Gt=0,Rt=0;function Wt(t){w(jt,t=>{t.onStart()}),w(Ot,t=>{t.onStart()}),t.onStart(),function(t=null){Pt=!1,Et=t,setInterval(()=>{Bt=(new Date).getTime(),Pt||Et(Bt-zt),zt=(new Date).getTime()},Lt.tick)}(n=>{(Gt+=n)>=Ct&&(Gt-=Ct,t.onUpdate(n),w(jt,t=>{t.onUpdate(n)})),(Rt+=n)>=Dt&&(Rt-=Dt,w(Ot,t=>{t.onUpdate(n)}))})}class Tt{constructor(t=0,n=0,e=null){this.rowIndex=t,this.colIndex=n,this.data=e}}class At{constructor(t=0,n=0,e=0,r=0,l=null){this.rows=t,this.columns=n,this.gridWidth=e,this.gridHeight=r,this.grids=l}}function Ft(t=null){return t.gridWidth}function Xt(t=null){return t.gridHeight}function Yt(t=null){return t.columns*t.gridWidth}function qt(t=null){return t.rows*t.gridHeight}class Jt{constructor(t=null,n=0,e=0){this.gridmap=t,this.pos=L(n,e)}}function Kt(t=0,n=0,e=0,r=0,l=0,u=0){let i=function(t=0,n=0,e=0,r=0){let l=[];for(let e=0;e<t;e++)for(let t=0;t<n;t++){let n=new Tt(e,t);l.push(n)}return new At(t,n,e,r,l)}(t,n,e,r);return new Jt(i,l,u)}function Nt(t=null){return L(t.pos.x-.5*Yt(t.gridmap),t.pos.y-.5*qt(t.gridmap))}class Qt{constructor(t=0,n=null,e=0,r=null){this.type1=t,this.type2=e,this.team1=n,this.team2=r,this.mask=t|e,this.id=this.mask}}var Zt=new Map;function $t(t=0){let n=Zt.get(t);return n||(n=new Link,Zt.set(t,n)),n}var tn=h();class nn extends xt{constructor(t=null){super(t)}onUpdate(t=0){w(tn,n=>{n.mask==n.type1?function(t=null,n=null){if(!t||!n)return;t._lock=!0;let e=t.head.next;for(;e!=t.tail;){let r=e.next;for(;r!=t.tail;)n(e.data,r.data),r=r.next;e=e.next}t._lock=!1,t._delList.forEach(n=>{g(t,n)})}(n.team1,(e,r)=>{super.check(t,e,r,n.type1,n.type2)}):w(n.team1,e=>{w(n.team2,r=>{super.check(t,e,r,n.type1,n.type2)})})})}}var en=null;h();h();h();class rn extends o{constructor(){super(900)}onUpdate(t=0){w(vt(),t=>{(function(t=null){if(0==(xn=X(t.entityId)).x&&0==xn.y)return!1;gn=D(t.rect.rect),vn=G(t.rect.rect),hn=N(t.rect),fn=Q(t.rect),sn=fn.x+xn.x,on=hn.x+xn.x,an=fn.y+xn.y,dn=hn.y+xn.y;let n=K(t.rect);return un=n.x+xn.x,cn=n.y+xn.y,!0})(t)&&(w(mt(),n=>{!function(t=null,n=null){if(!function(t=null,n=null){let e=K(t),r=L(e.x+t.unitVec.x,e.y+t.unitVec.y),l=K(n),u=L(l.x+n.unitVec.x,l.y+n.unitVec.y);return!($(r.x-u.x)>D(t.rect)+D(n.rect)||$(r.y-u.y)>G(t.rect)+G(n.rect))}(t.rect,n.rect))return;pn=N(n.rect),yn=Q(n.rect),function(){if(0==xn.x)return!1;let t=tt(hn.y,pn.y);if(nt(fn.y,yn.y)<=t)return!1;xn.x>0?pn.x<sn&&(sn=pn.x):yn.x>on&&(on=yn.x);return!0}()||function(){if(0==xn.y)return!1;let t=tt(hn.x,pn.x);if(nt(fn.x,yn.x)<=t)return!1;xn.y>0?pn.y<an&&(an=pn.y):yn.y>dn&&(dn=yn.y)}()}(t,n)}),function(t=null){let n=0;n=xn.x>0?sn-gn:xn.x<0?on+gn:un;let e=0;e=xn.y>0?an-vn:xn.y<0?dn+vn:cn;!function(t=null,n=0,e=0){t.unitVec.x=n-t.unitPos.x,t.unitVec.y=e-t.unitPos.y}(t.rect,n,e)}(t))})}}var ln=null;var un=0,cn=0,sn=0,on=0,an=0,dn=0,hn=null,fn=null,pn=null,yn=null,xn=null,gn=0,vn=0;var wn={useGroup:!1,pairs:[],useBox:!1,callback:null,sysList:[]};function mn(t=null){wn.useGroup=t.useGroup?t.useGroup:wn.useGroup,wn.pairs=t.pairs?t.pairs:wn.pairs,wn.useBox=t.useBox?t.useBox:wn.useBox,wn.callback=t.callback,wn.useBox&&wn.sysList.push(function(t=null){return ln||(ln=new rn(t)),ln}(t.callback)),wn.useGroup&&(wn.sysList.push(function(t=null){return en||(en=new nn(t)),en}(t.callback)),wn.pairs.forEach(t=>{!function(t=0,n=0){let e=$t(t),r=$t(n),l=new Qt(t,e,n,r);p(tn,l)}(t[0],t[1])})),wn.sysList.forEach(t=>{!function(t=null){t&&y(jt,t)}(t)})}function kn(t=null){!function(t=0,n=0,e=10){let r=document.getElementById("canvas");r.width=t,r.height=n,dt.canvas=r,dt.ctx=r.getContext("2d"),dt.ctx.strokeStyle="#0000ff",dt.fps=e,dt.tick=1e3/e}(t.screen.width,t.screen.height,t.fps),t.keyDownHandler&&t.keyUpHanler&&function(t=null,n=null){window.addEventListener("keydown",n=>{let e=n.keyCode;Mt.get(e)||(Mt.set(e,1),t(n.keyCode))}),window.addEventListener("keyup",t=>{let e=t.keyCode;Mt.delete(e),n(t.keyCode)})}(t.keyDownHandler,t.keyUpHanler),t.mousedownHandler&&t.mouseupHandler&&function(t=null,n=null){Lt.canvas.addEventListener("mousedown",n=>{let e=canvas.getBoundingClientRect(),r=n.clientX-e.left*(canvas.width/e.width),l=n.clientY-e.top*(canvas.height/e.height);t(r,l)}),Lt.canvas.addEventListener("mouseup",t=>{let e=canvas.getBoundingClientRect(),r=t.clientX-e.left*(canvas.width/e.width),l=t.clientY-e.top*(canvas.height/e.height);n(r,l)})}(t.mousedownHandler,t.mouseupHandler),function(t=null,n=null){let e=t.width?t.width:n.width,r=t.height?t.height:n.height;bn=lt(t.x,t.y,e,r)}(t.camera,t.screen),Vt(t.debug),t.tilemap&&function(t=null){(function(t=null,n=null){if(!t||t.columns<=0||!t.data||0==t.data.length||t.gridWidth<=0||t.gridHeight<=0)return null;let e=t.columns,r=parseInt(t.data.length/e);if(r*e!=t.data.length)return console.log("error param: len(grids):",t.data.length," columns:",e),null;let l=Kt(r,e,t.gridWidth,t.gridHeight,t.x,t.y);return n&&function(t=null,n=null){t.grids.forEach(t=>{n(t)})}(l.gridmap,r=>{let u=t.data[r.rowIndex*e+r.colIndex];n(u,l,r)}),l})(t,t.initHandler)}(t.tilemap),t.collide&&mn(t.collide)}var bn=null;function _n(){return bn}class Sn extends _{constructor(t=0,n=0,e=0,r=0){super(t,n),this.dx=e,this.dy=r}onStart(){this.vec=X(this.entityId),function(t=0){f(Y,t)||p(Y,T(t))}(this.entityId)}onUpdate(t=0){this.vec.x+=this.dx,this.vec.y+=this.dy}onEnd(){!function(t=0){g(Y,t)}(this.entityId)}}class In extends c{constructor(t=0){super(t),this.val=0}}var Un=h();function Hn(t=0){let n=f(Un,t);return n||function(t=0){let n=new In(t);return p(Un,n),n}(t)}function En(t=null,n=0){t.val=t.val|n}function Ln(t=null,n=0){t.val=t.val^n}class Pn extends Sn{constructor(t=0,n=0,e=0,r=0){super(t,n,e,r)}onStart(){super.onStart(),this.cmd=Hn(this.entityId)}onUpdate(t=0){let n=this.cmd.val;0!=(15&n)&&(n&Bn?this.vec.x+=this.dx:n&zn&&(this.vec.x-=this.dx),n&jn?this.vec.y+=this.dy:n&Mn&&(this.vec.y-=this.dy))}}const Bn=1,zn=2,Mn=4,jn=8;var On=Object.assign(r,{debug:!0,collide:{useBox:!0},keyDownHandler:function(t=0){switch(t){case ct:En(Cn,Mn);break;case st:En(Cn,zn);break;case ot:En(Cn,jn);break;case at:En(Cn,Bn)}},keyUpHanler:function(t=0){switch(t){case ct:Ln(Cn,Mn);break;case st:Ln(Cn,zn);break;case ot:Ln(Cn,jn);break;case at:Ln(Cn,Bn)}},dx:8,dy:8,bodySize:25,blockSize:40});On.tilemap.initHandler=function(t=0,n=null,e=null){let r=function(t=null,n=null){let e=Nt(t);return L(e.x+Ft(t.gridmap)*(n.colIndex+.5),e.y+Xt(t.gridmap)*(n.rowIndex+.5))}(n,e);switch(t){case 0:break;case 9:!function(t=0,n=0){A(Vn=(new l).id,t,n),function(t=0,n=null,e=0){let r=new yt(t,n,e);p(gt,r)}(Vn,J(Vn,0,0,M(0,0,On.bodySize,On.bodySize))),Cn=Hn(Vn),function(t=null,n=0){t.state!=k&&(p(m,t,t.id),t.state=k,t.onStart(),t.onUpdate(n))}(function(t=0,n=0,e=0,r=0){return 0==e&&0==r?null:new Pn(t,n,e,r)}(Vn,0,On.dx,On.dy))}(r.x,r.y);break;default:!function(t=0,n=0,e=0,r=0){let u=(new l).id;A(u,t,n),function(t=0,n=null,e=0){let r=new yt(t,n,e);p(wt,r)}(u,J(u,0,0,M(0,0,e,r)))}(r.x,r.y,On.blockSize*t,On.blockSize*t)}};var Vn=0,Cn=null;class Dn{onStart(){}onUpdate(t=0){}}console.log(On),function(t,n=null){kn(t),Wt(n)}(On,new Dn)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvYWN0aW9uL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvYWN0aW9uL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zeXN0ZW0vYWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvcG9zL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy9yZWN0L2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3ZpZXcvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9nZW9tZXRyaWMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9wb3MvcmVjdC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jYW1lcmEvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2VuZ2luZS9oNS9tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vZW5naW5lL2g1L3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L2NvbGxpZGUvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2JveDIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zeXN0ZW0vcmVuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivc3lzdGVtL21vdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2VuZ2luZS9oNS9wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zeXN0ZW0vcnVuLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ3JpZG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC90aWxlL3RpbGVtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ncm91cC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2dyb3VwL3N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2JveC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL25vcm1hbC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2JveDIvc3lzdGVtLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L2NvbGxpZGUvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci93b3JsZC9yZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci93b3JsZC9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvYWN0aW9uL21vdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY21kLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3IvdXRpbHMvZ2FtZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkVudGl0eSIsIltvYmplY3QgT2JqZWN0XSIsInRoaXMiLCJpZCIsIk5ld0VudGl0eUlkIiwiZWNzX2lkIiwiQ29tcG9uZW50IiwiZW50aXR5SWQiLCJlY3NfVHVwbGUiLCJwcmlvcml0eSIsIlN5c3RlbSIsImR0IiwiTGlua05vZGUiLCJkYXRhIiwicHJlcCIsIm5leHQiLCJsaW5rX0xpbmsiLCJoZWFkIiwidGFpbCIsIl9tYXAiLCJNYXAiLCJfc2l6ZSIsIl9kZWxMaXN0IiwiX2N1cnIiLCJfbG9jayIsIk5ld0xpbmsiLCJHZXRMaW5rRGF0YSIsImxpbmsiLCJrZXlJZCIsInJlcXVpcmVkIiwiY29uc29sZSIsImVycm9yIiwibm9kZSIsIlB1c2hUb0xpbmsiLCJhZGRUb0xpbmsiLCJJbnNlcnRUb0xpbmsiLCJzZXQiLCJSZW1vdmVCeUtleUlkIiwicHVzaCIsInJlbW92ZSIsImRlbGV0ZSIsIkxpbmtJdGVyYXRvciIsImNhbGxiYWNrIiwibGVuZ3RoIiwicG9wIiwiYWN0aW9uTGlzdCIsIkFDVElPTl9TVEFURV9SVU5OSU5HIiwiYmFzZV9BQ1RJT05fU1RBVEVfRU5EIiwiYmFzZV9BY3Rpb24iLCJzdXBlciIsInN0YXRlIiwib25FbmQiLCJhY3Rpb25VcGRhdGUiLCJhY3Rpb24iLCJvblVwZGF0ZSIsImFjdGlvbkVuZCIsImFjdGlvbl9BY3Rpb25TeXN0ZW0iLCJpc0VuZCIsImFjdGlvbl9zeXMiLCJQb3MiLCJ4IiwieSIsIk5ld1BvcyIsIlZlYyIsImRpc3RhbmNlIiwiTmV3VmVjIiwiUmVjdGFuZ2xlIiwib2Zmc2V0Iiwid2lkdGgiLCJoZWlnaHQiLCJjZW50ZXIiLCJOZXdSZWN0IiwieE9mZnNldCIsInlPZmZzZXQiLCJyZWN0X0dldFJlY3RTdGFydFBvcyIsInJlY3QiLCJHZXRSZWN0SGFsZldpZHRoIiwiR2V0UmVjdEhhbGZIZWlnaHQiLCJHZXRSZWN0RW5kUG9zIiwiR2V0UmVjdFdpZHRoIiwiR2V0UmVjdEhlaWdodCIsImNvbXBvbmVudF9Qb3NDb21wb25lbnQiLCJwb3MiLCJ2ZWMiLCJwb3NDb21zIiwiR2V0UG9zQ29tcG9uZW50IiwiY29tIiwiY3JlYXRlUG9zQ29tcG9uZW50IiwiU2V0UG9zIiwiR2V0UG9zIiwiR2V0VmVjIiwibW92ZUxpc3QiLCJjb21wb25lbnRfUmVjdFBvc1R1cGxlIiwidW5pdFBvcyIsInVuaXRWZWMiLCJOZXdSZWN0UG9zVHVwbGUiLCJHZXRSZWN0UG9zQ2VudGVyIiwicmVjdFBvc1R1cGxlIiwiR2V0UmVjdFBvc1N0YXJ0IiwiR2V0UmVjdFBvc0VuZCIsImRpc3BsYXlMaXN0IiwiQWJzIiwidmFsIiwiTWF4IiwidmFsMSIsInZhbDIiLCJNaW4iLCJJc1JlY3RzQ3Jvc3MiLCJyZWN0UG9zVHVwbGUxIiwicmVjdFBvc1R1cGxlMiIsInBvczEiLCJwb3MyIiwidXRpbHNfQ2FtZXJhIiwiTmV3Q2FtZXJhIiwiY2FtZXJhIiwiSXNJbkNhbWVyYSIsIlRvU2NyZWVuUG9zIiwidGFyZ2V0UG9zIiwicmVmZXJQb3MiLCJUb0xvY2F0ZVBvcyIsIktFWV9XIiwiS0VZX0EiLCJLRVlfUyIsIktFWV9EIiwiX2VuZ2luZSIsImN0eCIsImNhbnZhcyIsImZwcyIsInRpY2siLCJnZXRFbmdpbmUiLCJyZW5kZXJfZW5naW5lIiwiTWF0aCIsIlBJIiwidXRpbHNfSXNSZWN0c0Nyb3NzIiwicmVjdDEiLCJyZWN0MiIsInN0YXJ0MSIsInN0YXJ0MiIsImVuZDEiLCJlbmQyIiwicjF4MSIsInIyeDEiLCJtYXhYMSIsInIxeDIiLCJyMngyIiwibWluWDIiLCJyMXkxIiwicjJ5MSIsIm1heFkxIiwicjF5MiIsInIyeTIiLCJtaW5ZMiIsInV0aWxzX05ld0lubmVyUmVjdCIsImJhc2VfQ29sbGlkZXIiLCJ0YWciLCJiYXNlX0NvbGxpZGVyU3lzdGVtIiwiY29sbGlkZXIxIiwiY29sbGlkZXIyIiwiYm9keUNvbGxpZGVyTGlzdCIsIkdldEJvZHlDb2xsaWRlckxpc3QiLCJibG9ja0NvbGxpZGVyTGlzdCIsIkdldEJsb2NrQ29sbGlkZXJMaXN0IiwicmVuZGVyX1JlbmRlclVwZGF0ZVN5c3RlbSIsImNsZWFyUmVjdCIsImNsZWFyIiwiZGlzcGxheVR1cGxlIiwiVXBkYXRlUmVjdFBvc0J5VW5pdCIsImRpc3BsYXlBcmVhIiwiR2V0Q2FtZXJhIiwic2NyZWVuUG9zIiwiR2V0UmVjdFN0YXJ0UG9zIiwidGV4dHVyZUFyZWEiLCJzcHJpdGVGcmFtZSIsImltZ0RhdGEiLCJzeCIsInN5Iiwic3dpZHRoIiwic2hlaWdodCIsImRyYXdJbWFnZSIsImJpdG1hcERhdGEiLCJkcmF3RnJhbWVJbkNhbWVyYSIsInJlbmRlclN5cyIsInJlbmRlcl9EcmF3UmVjdFN5c3RlbSIsImNvbGxpZGVyIiwiZHJhd1JlY3RJbkNhbWVyYSIsImRlYnVnU3lzIiwic3Ryb2tlUmVjdCIsImRyYXdSZWN0IiwibW92ZV9Qb3NVcGRhdGVTeXN0ZW0iLCJtb3ZlQ29tIiwibW92ZV9pZCIsIm1vdmVfc3lzIiwiX2NhbGxiYWNrIiwicHJvY2Vzc29yX2VuZ2luZSIsIl9pc0VuZCIsInByb2Nlc3Nvcl9zdGFydCIsImxhc3QiLCJEYXRlIiwiZ2V0VGltZSIsIl9rZXlEb3duTWFwIiwibG9naWNTeXN0ZW1zIiwicmVuZGVyU3lzdGVtcyIsImluaXRTeXN0ZW1zIiwiZGVidWciLCJsb2dpY1RpY2siLCJyZW5kZXJUaWNrIiwiX3QxIiwiX3QyIiwicnVuV2l0aFNjZW5lIiwic2NlbmUiLCJzeXN0ZW0iLCJvblN0YXJ0Iiwib25VcGRhdGVDYWxsYmFjayIsInNldEludGVydmFsIiwicnVuVGljayIsIkdyaWQiLCJyb3dJbmRleCIsImNvbEluZGV4IiwiR3JpZE1hcCIsInJvd3MiLCJjb2x1bW5zIiwiZ3JpZFdpZHRoIiwiZ3JpZEhlaWdodCIsImdyaWRzIiwiR2V0R3JpZFdpZHRoIiwiZ3JpZG1hcCIsIkdldEdyaWRIZWlnaHQiLCJHZXRHcmlkTWFwV2lkdGgiLCJHZXRHcmlkTWFwSGVpZ2h0IiwidGlsZW1hcF9UaWxlTWFwIiwiTmV3VGlsZU1hcCIsImdyaWQiLCJOZXdHcmlkTWFwIiwiR2V0VGlsZW1hcFN0YXJ0IiwidGlsZW1hcCIsIkdyb3VwUGFpciIsInR5cGUxIiwidGVhbTEiLCJ0eXBlMiIsInRlYW0yIiwibWFzayIsInRlYW1zIiwiZ2V0VGVhbSIsInR5cGUiLCJ0ZWFtIiwiTGluayIsInBhaXJzIiwic3lzdGVtX0dyb3VwQ29sbGlkZXJTeXN0ZW0iLCJwYWlyIiwib3V0Tm9kZSIsImluTm9kZSIsImZvckVhY2giLCJMaW5rQ29tcGFyZSIsImNoZWNrIiwic3lzdGVtX3N5cyIsInN5c3RlbV9Cb3hDb2xsaWRlclN5c3RlbSIsImJvZHkiLCJib2R5Q29sbGlkZXIiLCJib2R5SGFsZldpZHRoIiwiYm9keUhhbGZIZWlnaHQiLCJib2R5U3RhcnQiLCJib2R5RW5kIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsImJvZHlYIiwiYm9keVkiLCJib2R5QmVmb3JlIiwiYmxvY2siLCJibG9ja0NvbGxpZGVyIiwicnAxIiwicnAyIiwiSXNSZWN0c0Nyb3NzV2l0aFZlYyIsImJsb2NrU3RhcnQiLCJibG9ja0VuZCIsImlzTFIiLCJpc1VEIiwibG9naWMiLCJyZWN0WCIsInJlY3RZIiwiRml4VW5pdFZlYyIsImJvZHlBZnRlciIsImJveENvbGxpZGVyU3lzIiwiY2ZnIiwidXNlR3JvdXAiLCJ1c2VCb3giLCJzeXNMaXN0IiwiT3BlbkNvbGxpZGVyIiwib3B0aW9ucyIsIkdldEJveENvbGxpZGVyU3lzdGVtIiwiR2V0R3JvdXBDb2xsaWRlclN5c3RlbSIsIkFkZEdyb3VwUGFpciIsInN5cyIsIkFkZFN5c3RlbSIsImluaXRHYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJzdHJva2VTdHlsZSIsImluaXRDYW52YXMiLCJzY3JlZW4iLCJrZXlEb3duSGFuZGxlciIsImtleVVwSGFubGVyIiwia2V5RG93bkNhbGxiYWNrIiwia2V5VXBDYWxsYmFjayIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY29kZSIsImtleUNvZGUiLCJvbktleUNhbGxiYWNrIiwibW91c2Vkb3duSGFuZGxlciIsIm1vdXNldXBIYW5kbGVyIiwibW91c2Vkb3duQ2FsbGJhY2siLCJtb3VzZXVwQ2FsbGJhY2siLCJldmVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsIm9uTW91c2VDYWxsYmFjayIsImNhbWVyYURhdGEiLCJzY3JlZW5EYXRhIiwicmVzX2NhbWVyYSIsImluaXRDYW1lcmEiLCJ0aWxlbWFwRGF0YSIsImluaXRIYW5kbGVyIiwicGFyc2VJbnQiLCJsb2ciLCJJdGVyYXRvckdyaWRtYXAiLCJjcmVhdGVUaWxlTWFwV2l0aERhdGEiLCJpbml0VGlsZSIsImNvbGxpZGUiLCJtb3ZlX01vdmVBY3Rpb24iLCJkeCIsImR5IiwiQWRkTW92ZXIiLCJSZW1vdmVNb3ZlciIsImNtZF9DbWRDb21wb25lbnQiLCJjbWRDb21zIiwiR2V0Q21kQ29tcG9uZW50IiwiY3JlYXRlQ21kQ29tcG9uZW50IiwiUHVzaENtZCIsImNtZENvbSIsIlJlbGVhc2VDbWQiLCJjbWRfQ01ETW92ZUFjdGlvbiIsImNtZCIsImNtZF9tdl9yaWdodCIsImNtZF9tdl9sZWZ0IiwiY21kX212X2Rvd24iLCJjbWRfbXZfdXAiLCJtYWluX29wdGlvbnMiLCJhc3NpZ24iLCJib2R5U2l6ZSIsImJsb2NrU2l6ZSIsInN0YXJ0IiwiR2V0R3JpZENlbnRlciIsInBseUlkIiwiQWRkQm9keUNvbGxpZGVyIiwiUnVuQWN0aW9uIiwiQ3JlYXRlQ01ETW92ZUFjdGlvbiIsIk5ld1BsYXllciIsIkFkZEJsb2NrQ29sbGlkZXIiLCJOZXdCbG9jayIsIk15U2NlbmUiLCJTdGFydFRlc3QiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxT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QnVCLElDOURoQixTQUFBaEUsRUFBQWhGLEVBQUEsTUFDSXNGLEdBQVFOLEdBQ1JqRixHQUFZQyxHRDZEWjhKLENBQVVkLEdBQU8sSUFBQWEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyoqXHJcbiAqIDIwMTkuMTAuMTBcclxuICogXHTms6jmhI/vvIxsaW5rLWludGVyZmFjZe+8jOmcgOimgeaciWlkLCBwcmlvcml0eeS4pOS4quWxnuaAp1xyXG4gKi9cclxuXHJcblxyXG4vKipcclxuKiAgIFRoZSBCYXNlIFN0cnVjdFxyXG4qXHTlsL3nrqHmiJHku6zlj6rpnIDopoFOZXdFbnRpdHlJZCgp77yM5L2G5piv5omA5pyJ6ZyA6KaBaWTnmoTnsbvpg73opoHnu6fmib/mraTnsbtcclxuKi9cclxuY2xhc3MgRW50aXR5IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuaWQgPSBOZXdFbnRpdHlJZCgpO1xyXG5cdH1cclxufVxyXG5cclxudmFyIGlkID0gMTtcclxuZnVuY3Rpb24gTmV3RW50aXR5SWQoKXtcclxuXHRyZXR1cm4gaWQrKztcclxufVxyXG5cclxuLyoqXHJcbipcdFRoZSBiYXNlIENvbXBvbmVudFxyXG4qXHTmr4/kuKplbnRpdHnlr7nmr4/np43nu4Tku7blj6rog73mjIHmnInkuIDkuKpcclxuKi9cclxuY2xhc3MgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDApIHtcclxuXHRcdHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuXHRcdHRoaXMuaWQgPSBlbnRpdHlJZDtcdFx0XHQvL+e7mWxpbmvkvb/nlKhcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlhYPku7ZcclxuICogVE9ETyDmmoLml7bmsqHku4DkuYjnlKhcclxuICovXHJcbmNsYXNzIFR1cGxlIHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIHByaW9yaXR5ID0gMCl7XHJcblx0XHR0aGlzLmlkID0gTmV3RW50aXR5SWQoKTtcclxuXHRcdHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuXHRcdHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcdC8v57uZbGlua+S9v+eUqFxyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbipcdFRoZSBiYXNlIFN5c3RlbVxyXG4qL1xyXG5jbGFzcyBTeXN0ZW0ge1xyXG5cdGNvbnN0cnVjdG9yKHByaW9yaXR5ID0gMCl7XHJcblx0XHR0aGlzLmlkID0gTmV3RW50aXR5SWQoKTtcclxuXHRcdHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcdC8v57uZbGlua+S9v+eUqFxyXG5cdH1cclxuICAgIG9uU3RhcnQoKXt9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe31cclxuICAgIG9uRW5kKCl7fVxyXG59XHJcblxyXG5leHBvcnQge0VudGl0eSwgQ29tcG9uZW50LCBUdXBsZSwgU3lzdGVtfSIsImNsYXNzIExpbmtOb2RlIHtcclxuXHRjb25zdHJ1Y3RvcihkYXRhID0gbnVsbCwgcHJlcCA9IG51bGwsIG5leHQgPSBudWxsKSB7XHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5wcmVwID0gcHJlcDtcclxuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgTGluayB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmhlYWQgPSBuZXcgTGlua05vZGUoKTtcdFx0Ly9lbXB0eSBkYXRhIG5vZGVcclxuXHRcdHRoaXMudGFpbCA9IG5ldyBMaW5rTm9kZSgpO1xyXG5cdFx0dGhpcy5oZWFkLm5leHQgPSB0aGlzLnRhaWw7XHJcblx0XHR0aGlzLnRhaWwucHJlcCA9IHRoaXMuaGVhZDtcclxuXHRcdHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcclxuXHRcdHRoaXMuX3NpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuX2RlbExpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLl9jdXJyID0gdGhpcy5oZWFkO1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0xpbmsoKXtcclxuICAgIHJldHVybiBuZXcgTGluaygpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOiOt+WPllxyXG4gKi9cclxuZnVuY3Rpb24gR2V0TGlua0RhdGEobGluayA9IG51bGwsIGtleUlkID0gMCwgcmVxdWlyZWQgPSBmYWxzZSl7XHJcbiAgICBpZighbGluaykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJsaW5rIGlzIG51bGwuXCIpO1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGV0IG5vZGUgPSBsaW5rLl9tYXAuZ2V0KGtleUlkKTtcclxuICAgIGlmKG5vZGUpe1xyXG4gICAgICAgIHJldHVybiBub2RlLmRhdGE7XHJcbiAgICB9XHJcbiAgICBpZihyZXF1aXJlZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNhbid0IGZpbmQga2V5SWQ6IFwiLCBrZXlJZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGlua1NpemUobGluayA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmspIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGluay5fc2l6ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa3u+WKoOWIsOacq+WwvlxyXG4gKi9cclxuZnVuY3Rpb24gUHVzaFRvTGluayhsaW5rID0gbnVsbCwgZGF0YSA9IG51bGwpIHtcclxuICAgIHJldHVybiBhZGRUb0xpbmsobGluaywgZGF0YSwgbGluay50YWlsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOaPkuWFpeWIsOWIl+ihqOS4rVxyXG4gKiBkYXRhLnByaW9yaXR56aG65bqP5Y+377yM55Sx5aSn5Yiw5bCP5o6S5bqP77yM6buY6K6k5Li6MFxyXG4gKi9cclxuZnVuY3Rpb24gSW5zZXJ0VG9MaW5rKGxpbmsgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICBsZXQgcHJpb3JpdHkgPSBkYXRhICYmIGRhdGEucHJpb3JpdHkgPyBkYXRhLnByaW9yaXR5IDogMDtcclxuICAgIGxldCBub2RlID0gbGluay5oZWFkLm5leHQ7XHJcblx0d2hpbGUobm9kZSAhPSBsaW5rLnRhaWwpe1xyXG4gICAgICAgIGlmKHByaW9yaXR5ID4gbm9kZS5kYXRhLnByaW9yaXR5KXtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cdFx0bm9kZSA9IG5vZGUubmV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiBhZGRUb0xpbmsobGluaywgZGF0YSwgbm9kZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFRvTGluayhsaW5rID0gbnVsbCwgZGF0YSA9IG51bGwsIG5leHQgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rIHx8ICFkYXRhIHx8ICFkYXRhLmlkKXtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIHBhcmFtOiBcIiwgbGluaywgZGF0YSwgZGF0YS5pZCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvL+S4jeiDvemHjeWkjea3u+WKoFxyXG4gICAgaWYobGluay5fbWFwLmdldChkYXRhLmlkKSl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIGlkOiVkIGlzIGV4aXN0XCIsIGRhdGEuaWQpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy/mlrDoioLngrnov57mjqVcclxuICAgIGxldCBwcmVwID0gbmV4dC5wcmVwO1xyXG4gICAgbGV0IG5vZGUgPSBuZXcgTGlua05vZGUoZGF0YSwgcHJlcCwgbmV4dCk7XHJcbiAgICBwcmVwLm5leHQgPSBub2RlO1xyXG4gICAgbmV4dC5wcmVwID0gbm9kZTtcclxuXHJcbiAgICBsaW5rLl9tYXAuc2V0KGRhdGEuaWQsIG5vZGUpO1xyXG4gICAgbGluay5fc2l6ZSsrO1xyXG4gICAgcmV0dXJuIG5vZGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKDpmaRcclxuICovXHJcbmZ1bmN0aW9uIFJlbW92ZUJ5S2V5SWQobGluayA9IG51bGwsIGtleUlkID0gMCl7XHJcbiAgICBpZighbGluayB8fCBrZXlJZD09MCkge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJyb3IgcGFyYW06IFwiLCBsaW5rLCBrZXlJZCk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZihsaW5rLl9sb2NrKXtcclxuICAgICAgICBsaW5rLl9kZWxMaXN0LnB1c2goa2V5SWQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlbW92ZShsaW5rLCBrZXlJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZShsaW5rID0gbnVsbCwga2V5SWQgPSAwKXtcclxuICAgIGxldCBub2RlID0gbGluay5fbWFwLmdldChrZXlJZCk7XHJcbiAgICBpZighbm9kZSl7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGluay5fbWFwLmRlbGV0ZShrZXlJZCk7XHJcbiAgICBsZXQgcCA9IG5vZGUucHJlcDtcclxuICAgIGxldCBuID0gbm9kZS5uZXh0O1xyXG4gICAgcC5uZXh0ID0gbjtcclxuICAgIG4ucHJlcCA9IHA7XHJcbiAgICBsaW5rLl9zaXplLS07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDova7or6IsIGNhbGxiYWNrID0gZnVuY3Rpb24oPD8gZXh0ZW5kcyBlbnRpdHk+KXt9XHJcbiAqL1xyXG5mdW5jdGlvbiBMaW5rSXRlcmF0b3IobGluayA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighbGluayB8fCAhY2FsbGJhY2spIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsaW5rLl9sb2NrID0gdHJ1ZTtcclxuICAgIGxldCBub2RlID0gbGluay5oZWFkLm5leHQ7XHJcblx0d2hpbGUobm9kZSAhPSBsaW5rLnRhaWwpe1xyXG5cdFx0aWYoY2FsbGJhY2sobm9kZS5kYXRhKSl7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHRcdG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICB9XHJcbiAgICB3aGlsZShsaW5rLl9kZWxMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgIHJlbW92ZShsaW5rLCBsaW5rLl9kZWxMaXN0LnBvcCgpKTtcclxuICAgIH1cclxuICAgIGxpbmsuX2xvY2sgPSBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Rmlyc3QobGluayA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmspIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsZXQgbm9kZSA9IGxpbmsuaGVhZC5uZXh0O1xyXG4gICAgaWYobm9kZSl7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUuZGF0YVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExhc3QobGluayA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmspIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsZXQgbm9kZSA9IGxpbmsudGFpbC5wcmVwO1xyXG4gICAgaWYobm9kZSl7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUuZGF0YVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIbliJfooajkuK3nmoTlhYPntKDkuKTkuKTlr7nmr5TvvIxjYWxsYmFjayA9IGZ1bmN0aW9uKDw/IGV4dGVuZHMgZW50aXR5IG9yIGNvbXBvbmVudD4gZnJvbnQsIG5leHQpe31cclxuICovXHJcbmZ1bmN0aW9uIExpbmtDb21wYXJlKGxpbmsgPSBudWxsLCBjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmsgfHwgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGluay5fbG9jayA9IHRydWU7XHJcbiAgICBsZXQgb3V0Tm9kZSA9IGxpbmsuaGVhZC5uZXh0O1xyXG4gICAgd2hpbGUob3V0Tm9kZSAhPSBsaW5rLnRhaWwpe1xyXG4gICAgICAgIGxldCBpbk5vZGUgPSBvdXROb2RlLm5leHQ7XHJcbiAgICAgICAgd2hpbGUoaW5Ob2RlICE9IGxpbmsudGFpbCl7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG91dE5vZGUuZGF0YSwgaW5Ob2RlLmRhdGEpO1xyXG4gICAgICAgICAgICBpbk5vZGUgPSBpbk5vZGUubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgb3V0Tm9kZSA9IG91dE5vZGUubmV4dDtcclxuICAgIH1cclxuICAgIGxpbmsuX2xvY2sgPSBmYWxzZTtcclxuICAgIGxpbmsuX2RlbExpc3QuZm9yRWFjaChrZXlJZCA9PiB7XHJcbiAgICAgICAgUmVtb3ZlQnlLZXlJZChsaW5rLCBrZXlJZCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IHtMaW5rLCBMaW5rTm9kZSwgTmV3TGluaywgR2V0Rmlyc3QsIEdldExhc3QsIEdldExpbmtEYXRhLCBHZXRMaW5rU2l6ZSwgUHVzaFRvTGluaywgSW5zZXJ0VG9MaW5rLCBSZW1vdmVCeUtleUlkLCBMaW5rSXRlcmF0b3IsIExpbmtDb21wYXJlfSIsImltcG9ydCB7IFB1c2hUb0xpbmssIFJlbW92ZUJ5S2V5SWQsIE5ld0xpbmsgfSBmcm9tICcuLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rJztcclxuXHJcbnZhciBhY3Rpb25MaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRSdW5uaWdBY3Rpb25MaXN0KCl7XHJcbiAgICByZXR1cm4gYWN0aW9uTGlzdDtcclxufVxyXG5cclxuY29uc3QgQUNUSU9OX1NUQVRFX1JVTk5JTkcgPSAxO1xyXG5jb25zdCBBQ1RJT05fU1RBVEVfRU5EID0gMjtcclxuXHJcbi8qKlxyXG4gKiDov5DooYxhY3Rpb27vvIzlubbliqDlhaXliLBhY3Rpb27ns7vnu59saW5r5Lit77yM5LiA6Iis5L6b5aSW6YOo6LCD55SoIFxyXG4gKi9cclxuZnVuY3Rpb24gUnVuQWN0aW9uKGFjdGlvbiA9IG51bGwsIGR0ID0gMCl7XHJcbiAgICBpZihhY3Rpb24uc3RhdGUgPT0gQUNUSU9OX1NUQVRFX1JVTk5JTkcpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFB1c2hUb0xpbmsoYWN0aW9uTGlzdCwgYWN0aW9uLCBhY3Rpb24uaWQpO1xyXG4gICAgYWN0aW9uLnN0YXRlID0gQUNUSU9OX1NUQVRFX1JVTk5JTkc7XHJcbiAgICBhY3Rpb24ub25TdGFydCgpO1xyXG4gICAgYWN0aW9uLm9uVXBkYXRlKGR0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOeri+WNs+e7iOatomFjdGlvbuW5tuenu+WHumFjdGlvbuezu+e7n2xpbmvvvIzkuIDoiKzkvpvlpJbpg6josIPnlKhcclxuICovXHJcbmZ1bmN0aW9uIFN0b3BBY3Rpb24oYWN0aW9uID0gbnVsbCl7XHJcbiAgICBpZihhY3Rpb24uc3RhdGUgIT0gQUNUSU9OX1NUQVRFX1JVTk5JTkcpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFJlbW92ZUJ5S2V5SWQoYWN0aW9uTGlzdCwgYWN0aW9uLmlkKTtcclxuICAgIGFjdGlvbi5zdGF0ZSA9IEFDVElPTl9TVEFURV9FTkQ7XHJcbiAgICBhY3Rpb24ub25FbmQoKTtcclxufVxyXG5cclxuZXhwb3J0IHtHZXRSdW5uaWdBY3Rpb25MaXN0LCBSdW5BY3Rpb24sIFN0b3BBY3Rpb259IiwiaW1wb3J0IHsgVHVwbGUgfSBmcm9tIFwiLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCJcclxuXHJcbmNvbnN0IEFDVElPTl9TVEFURV9SVU5OSU5HID0gMTtcclxuY29uc3QgQUNUSU9OX1NUQVRFX0VORCA9IDI7XHJcblxyXG4vKipcclxuKiAgIGFjdGlvbuaooeWdl+eahOiuvuiuoeeQhuW/teaYr++8mlxyXG4qICAgICAgIOe7meetluWIkuS6uuWRmOaTjeS9nOeahOWKqOaAgemFjee9ru+8jOeUsWpzb27pqbHliqjvvIhkYXRhLWRyaXZlbu+8ie+8jOWGjeeUseiEmuacrOezu+e7n+eUn+aIkOS4uumdmeaAgeS7o+eggVxyXG4qICAg55uu5YmN5YWI55So56a75pWj6YWN572u5Luj5pu/XHJcblxyXG4qICAg55Sf5ZG95ZGo5pyf566h55CGXHJcbiAgICAgICAgb25TdGFydCAtPiDliJ3lp4vljJbvvIznlLF1dGlscy5SdW5BY3Rpb27op6blj5FcclxuICAgICAgICBvblVwZGF0ZSAtPiDnlLFzeXN0ZW3kuLvmtYHnqIvosIPnlKjvvIzlj6rmiafooYzkuLvpgLvovpHvvIzkuI3pnIDopoHliKTmlq3nu4jmraLmnaHku7ZcclxuICAgICAgICBpc0VuZDog55Sxc3lzdGVt5Zyo5omn6KGMb25VcGRhdGXlkI7orr/pl67vvIzov5Tlm55ib29s77yM5Yaz5a6a5piv5ZCm6L6+5Yiw57uI5q2i5p2h5Lu25LqG77yM6L+U5ZuedHJ1ZeWImeihqOekuuWPr+S7pee7iOatouatpGFjdGlvblxyXG4gICAgICAgIG9uRW5kOiDlnKhzeXN0ZW3or7fmsYJpc0VuZD10cnVl5ZCO6LCD55So77yM55So5LqO5pS25bC+77yM5aaC6LWE5rqQ5Zue5pS2XHJcbiAgICAgICAgb25TdG9wOiDnlLF1dGlscy5TdG9wQWN0aW9u6Kem5Y+R77yM5by65Yi25Lit5pat77yM5LiN6LWwaXNFbmTmtYHnqIvvvIzpu5jorqTosIPnlKhvbkVuZO+8jOWboOatpOagueaNruaDheWGteWPr+iDvemcgOimgemineWkluWkhOeQhlxyXG4qL1xyXG5jbGFzcyBBY3Rpb24gZXh0ZW5kcyBUdXBsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIHByaW9yaXR5ID0gMCl7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQsIHByaW9yaXR5KTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgIH1cclxuICAgIC8vIG9uU3RhcnQoKXt9XHJcbiAgICAvLyBvblVwZGF0ZShkdCA9IDApe31cclxuICAgIC8vIG9uRW5kKCl7fVxyXG4gICAgaXNFbmQoKXsgICAgcmV0dXJuIGZhbHNlOyAgICB9XHJcbiAgICBvblN0b3AoKXsgICB0aGlzLm9uRW5kKCk7ICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWN0aW9uU3RhcnQoYWN0aW9uID0gbnVsbCl7XHJcbiAgICBhY3Rpb24uc3RhdGUgPSBBQ1RJT05fU1RBVEVfUlVOTklORztcclxuICAgIGFjdGlvbi5vblN0YXJ0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGlvblVwZGF0ZShhY3Rpb24gPSBudWxsLCBkdCA9IDApe1xyXG4gICAgYWN0aW9uLm9uVXBkYXRlKGR0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWN0aW9uRW5kKGFjdGlvbiA9IG51bGwpe1xyXG4gICAgYWN0aW9uLnN0YXRlID0gQUNUSU9OX1NUQVRFX0VORDtcclxuICAgIGFjdGlvbi5vbkVuZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhY3Rpb25TdG9wKGFjdGlvbiA9IG51bGwpe1xyXG4gICAgYWN0aW9uLnN0YXRlID0gQUNUSU9OX1NUQVRFX0VORDtcclxuICAgIGFjdGlvbi5vblN0b3AoKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzU3RhcnQoYWN0aW9uID0gbnVsbCl7XHJcbiAgICByZXR1cm4gYWN0aW9uLnN0YXRlID09IEFDVElPTl9TVEFURV9SVU5OSU5HO1xyXG59XHJcbmZ1bmN0aW9uIGlzU3RvcChhY3Rpb24gPSBudWxsKXtcclxuICAgIHJldHVybiBhY3Rpb24uc3RhdGUgPT0gQUNUSU9OX1NUQVRFX0VORDtcclxufVxyXG5cclxuZXhwb3J0IHtBY3Rpb24sIGFjdGlvblN0YXJ0LCBhY3Rpb25VcGRhdGUsIGFjdGlvbkVuZCwgYWN0aW9uU3RvcCwgaXNTdGFydCwgaXNTdG9wfSIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuaW1wb3J0IHsgR2V0UnVubmlnQWN0aW9uTGlzdCB9IGZyb20gXCIuLi8uLi9hY3Rpb24vdXRpbHNcIjtcclxuaW1wb3J0IHsgTGlua0l0ZXJhdG9yIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuaW1wb3J0IHsgYWN0aW9uVXBkYXRlLCBhY3Rpb25FbmQgfSBmcm9tIFwiLi4vLi4vYWN0aW9uL2Jhc2VcIjtcclxuXHJcbi8qKlxyXG4gKiDliqjkvZzns7vnu59cclxuICovXHJcbmNsYXNzIEFjdGlvblN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKDk5OSk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApIHtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0UnVubmlnQWN0aW9uTGlzdCgpLCBhY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICBhY3Rpb25VcGRhdGUoYWN0aW9uLCBkdCk7XHJcbiAgICAgICAgICAgIGlmKGFjdGlvbi5pc0VuZCgpKXtcclxuICAgICAgICAgICAgICAgIGFjdGlvbkVuZChhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBzeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRBY3Rpb25TeXN0ZW0oKXtcclxuICAgIGlmKCFzeXMpe1xyXG4gICAgICAgIHN5cyA9IG5ldyBBY3Rpb25TeXN0ZW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzeXM7XHJcbn1cclxuXHJcbmV4cG9ydHtHZXRBY3Rpb25TeXN0ZW19IiwiLyoqXHJcbiAqIOWfuuehgDJE5Z2Q5qCHXHJcbiAqL1xyXG5jbGFzcyBQb3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwKXtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1Bvcyh4ID0gMCwgeSA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBQb3MoeCwgeSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDorqHnrpfnm7jlr7nlnZDmoIdcclxuICog5LuldGFyZ2V0UG9z5Li65YeG77yM6K6h566XcmVmZXJQb3Pkuo50YXJnZXRQb3PnmoTnm7jlr7nlnZDmoIdcclxuICog5Li+5L6L77yaXHJcbiAqICAgICAg5pGE5YOP5py65L2N5LqOKDUwLCA1MCnlpITvvIxyZWZlclBvc1xyXG4gKiAgICAgIOWNleS9jUHkvY3kuo4oMTIwLCAzMCnlpITvvIx0YXJnZXRQb3NcclxuICogICAgICDpgqPkuYjvvIzljZXkvY1B5Zyo5pGE5YOP5py655qEKDEyMC01MCwgMzAtNTAp5aSEXHJcbiAqL1xyXG5mdW5jdGlvbiBUb0xvY2F0ZVBvcyh0YXJnZXRQb3MgPSBudWxsLCByZWZlclBvcyA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICB0YXJnZXRQb3MueCAtIHJlZmVyUG9zLngsXHJcbiAgICAgICAgdGFyZ2V0UG9zLnkgLSByZWZlclBvcy55KTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gVG9Mb2NhdGVYKHRhcmdldFggPSAwLCByZWZlclggPSAwKXtcclxuLy8gICAgIHJldHVybiB0YXJnZXRYIC0gcmVmZXJYO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBUb0xvY2F0ZVkodGFyZ2V0WSA9IDAsIHJlZmVyWSA9IDApe1xyXG4vLyAgICAgcmV0dXJuIHRhcmdldFkgLSByZWZlclk7XHJcbi8vIH1cclxuXHJcblxyXG4vKipcclxuICog5Z+656GA5ZCR6YePXHJcbiAqIGRpc3RhbmNlOiDot53nprvns7vmlbDvvIzms6jmhI/kuI3mmK/lrp7pmYXot53nprvvvIzlj6rnlKjkuo7mr5TovoPot53nprvlpKflsI9cclxuICovXHJcbmNsYXNzIFZlYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLmRpc3RhbmNlID0geCAqIHggKyB5ICogeTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3VmVjKHggPSAwLCB5ID0gMCl7XHJcbiAgICByZXR1cm4gbmV3IFZlYyh4LCB5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gTmV3VmVjV2l0aFBvcyh4MSA9IDAsIHkxID0gMCwgeDIgPSAwLCB5MiA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBOZXdWZWMoeDIgLSB4MSwgeTIgLSB5MSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDot53nprvns7vmlbBcclxuICog5rOo5oSP77yM5bm26Z2e5a6e6ZmF6Led56a75YC877yM5Zug5Li65byA5qC55Y+36K6h566X5raI6ICX5aSnXHJcbiAqIOiLpeWPqueUqOS6juWvueavlOWkp+Wwj++8jOatpOezu+aVsOWNs+WPr1xyXG4gKi9cclxuZnVuY3Rpb24gR2V0RGlzdGFuY2UodmVjID0gbnVsbCl7XHJcbiAgICByZXR1cm4gdmVjLmRpc3RhbmNlO1xyXG59XHJcblxyXG5leHBvcnQge05ld1BvcywgVG9Mb2NhdGVQb3MsXHJcbiAgICBOZXdWZWMsIE5ld1ZlY1dpdGhQb3MsIEdldERpc3RhbmNlfSIsImltcG9ydCB7IE5ld1BvcywgTmV3VmVjIH0gZnJvbSBcIi4vcG9pbnRcIjtcclxuXHJcblxyXG4vKipcclxuICogMkTln7rnoYDnn6nlvaLvvIznlLHlj4LogIPlnZDmoIfvvIzlgY/np7vph4/vvIzlrr3pq5jnu4TmiJBcclxuICog5L2N572u5piv5qC55o2u55u45a+55Z2Q5qCH566X5Ye65p2lXHJcbiAqIHhPZmZzZXQsIHlPZmZzZXQgOiDnm7jlr7nlnZDmoIflgY/np7vph49cclxuICogd2lkdGgsIGhlaWdodCA6IOWuvemrmFxyXG4gKiBjZW50ZXIgOiDlrp7pmYXkvY3nva7vvIjnn6nlvaLkuK3lv4PvvInvvIzlhoXpg6jkvb/nlKjvvIxjZW50ZXIgPSB1bml0LnBvcyArIHJlY3Qub2Zmc2V0XHJcbiAqL1xyXG5jbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3Iob2Zmc2V0ID0gbnVsbCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBjZW50ZXIgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog55+p5b2i6buY6K6k5bGF5Lit5LqOb3duZXJcclxuICog5q2k5pa55rOV5LiA6Iis55SxY29sbGlkZXLosIPnlKhcclxuICovXHJcbmZ1bmN0aW9uIE5ld1JlY3QoeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgaWYod2lkdGg9PTAgfHwgaGVpZ2h0PT0wKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBvZmZzZXQgPSBOZXdWZWMoeE9mZnNldCwgeU9mZnNldCk7XHJcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZShvZmZzZXQsIHdpZHRoLCBoZWlnaHQsIE5ld1BvcygpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOabtOaWsOW9k+WJjeefqeW9ouWxnuaAp++8iOS9jee9ruOAgeWBj+enu+mHj+OAgeWkp+Wwj+etie+8ie+8jOWQjumdouaJgOaciea2ieWPiuefqeW9ouiuoeeul+eahOWHveaVsO+8jOmDveW/hemhu+W7uueri+WcqOW3suabtOaWsOS6hue7neWvueWdkOagh+eahOefqeW9oueahOWfuuehgOS5i+S4ilxyXG4gKiB4LCB55piv57ud5a+55Z2Q5qCHXHJcbiAqL1xyXG5mdW5jdGlvbiBVcGRhdGVSZWN0U2l6ZShyZWN0ID0gbnVsbCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIHJlY3Qud2lkdGggPSB3aWR0aDtcclxuICAgIHJlY3QuaGVpZ2h0ID0gaGVpZ2h0O1xyXG59XHJcbmZ1bmN0aW9uIFVwZGF0ZVJlY3RPZmZzZXQocmVjdCA9IG51bGwsIHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCl7XHJcbiAgICByZWN0Lm9mZnNldC54ID0geE9mZnNldDtcclxuICAgIHJlY3Qub2Zmc2V0LnkgPSB5T2Zmc2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVSZWN0Q2VudGVyUG9zKHJlY3QgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgcmVjdC5jZW50ZXIueCA9IHg7XHJcbiAgICByZWN0LmNlbnRlci55ID0geTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOagueaNruaJgOWxnuWNleS9jeeahOS9jee9ruabtOaWsOefqeW9ouS9jee9ru+8iOS4gOiIrOWcuuaZr+iwg+eUqO+8iVxyXG4gKi9cclxuZnVuY3Rpb24gVXBkYXRlUmVjdFBvc0J5VW5pdChyZWN0ID0gbnVsbCwgdW5pdFBvc1ggPSAwLCB1bml0UG9zWSA9IDApe1xyXG4gICAgcmVjdC5jZW50ZXIueCA9IHVuaXRQb3NYICsgcmVjdC5vZmZzZXQueDtcclxuICAgIHJlY3QuY2VudGVyLnkgPSB1bml0UG9zWSArIHJlY3Qub2Zmc2V0Lnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlj43lkJHkv67lpI11bml05L2N572u77yIZml4SW5SZWN06LCD55So77yJXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhVbml0UG9zKHJlY3QgPSBudWxsLCB1bml0UG9zID0gbnVsbCl7XHJcbiAgICB1bml0UG9zLnggPSByZWN0LmNlbnRlci54IC0gcmVjdC5vZmZzZXQueDtcclxuICAgIHVuaXRQb3MueSA9IHJlY3QuY2VudGVyLnkgLSByZWN0Lm9mZnNldC55O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOefqeW9ouWQhOS4queCueS9jee9ruWSjOWPguaVsO+8jOiusOS9j+imgeWcqHVwZGF0ZeWQjuWGjeiwg+eUqO+8jOS7peWFjeaVsOaNruacieivr1xyXG4gKi9cclxuZnVuY3Rpb24gR2V0UmVjdE9mZnNldFZlYyhyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC5vZmZzZXQ7XHJcbn1cclxuZnVuY3Rpb24gR2V0UmVjdENlbnRlclBvcyhyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC5jZW50ZXI7XHJcbn1cclxuZnVuY3Rpb24gR2V0UmVjdFN0YXJ0UG9zKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcmVjdC5jZW50ZXIueCAtIEdldFJlY3RIYWxmV2lkdGgocmVjdCksXHJcbiAgICAgICAgcmVjdC5jZW50ZXIueSAtIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QpXHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RFbmRQb3MocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICByZWN0LmNlbnRlci54ICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0KSxcclxuICAgICAgICByZWN0LmNlbnRlci55ICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdClcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RXaWR0aChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC53aWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGFsZldpZHRoKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LndpZHRoICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodCAqIDAuNTtcclxufVxyXG5cclxuXHJcbi8v5rGC6Z2i56evXHJcbmZ1bmN0aW9uIEdldEFyZWEocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggKiByZWN0LmhlaWdodDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdSZWN0LCBVcGRhdGVSZWN0U2l6ZSwgVXBkYXRlUmVjdE9mZnNldCwgVXBkYXRlUmVjdENlbnRlclBvcywgVXBkYXRlUmVjdFBvc0J5VW5pdCwgRml4VW5pdFBvcyxcclxuICAgIEdldFJlY3RPZmZzZXRWZWMsIEdldFJlY3RDZW50ZXJQb3MsIEdldFJlY3RTdGFydFBvcywgR2V0UmVjdEVuZFBvcyxcclxuICAgIEdldFJlY3RXaWR0aCwgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhlaWdodCwgR2V0UmVjdEhhbGZIZWlnaHQsXHJcbiAgICBHZXRBcmVhXHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RDZW50ZXJYKHJlY3QgPSBudWxsKXtcclxuLy8gICAgIHJldHVybiByZWN0LmNlbnRlci54O1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RYMShyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gR2V0UmVjdENlbnRlclgocmVjdCkgLSByZWN0LndpZHRoICogMC41O1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RYMihyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gR2V0UmVjdENlbnRlclgocmVjdCkgKyByZWN0LndpZHRoICogMC41O1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBHZXRSZWN0T2Zmc2V0WShyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gcmVjdC5vZmZzZXQueTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gR2V0UmVjdENlbnRlclkocmVjdCA9IG51bGwpe1xyXG4vLyAgICAgcmV0dXJuIHJlY3QuY2VudGVyLnk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gR2V0UmVjdFkxKHJlY3QgPSBudWxsKXtcclxuLy8gICAgIHJldHVybiBHZXRSZWN0Q2VudGVyWShyZWN0KSAtIHJlY3QuaGVpZ2h0ICogMC41O1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RZMihyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gR2V0UmVjdENlbnRlclkocmVjdCkgKyByZWN0LmhlaWdodCAqIDAuNTtcclxuLy8gfSIsImltcG9ydCB7IE5ld1BvcywgTmV3VmVjIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3BvaW50XCI7XHJcbmltcG9ydCB7IFB1c2hUb0xpbmssIEdldExpbmtEYXRhLCBOZXdMaW5rLCBSZW1vdmVCeUtleUlkIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjc1wiO1xyXG5cclxuLyoqXHJcbiAqIOS9jee9rue7hOS7tlxyXG4gKi9cclxuY2xhc3MgUG9zQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eUlkID0gMCwgeCA9IDAsIHkgPSAwKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBOZXdQb3MoeCwgeSk7XHJcbiAgICAgICAgdGhpcy52ZWMgPSBOZXdWZWMoKTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIHBvc0NvbXMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVBvc0NvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBuZXcgUG9zQ29tcG9uZW50KGVudGl0eUlkKTtcclxuICAgIFB1c2hUb0xpbmsocG9zQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBHZXRMaW5rRGF0YShwb3NDb21zLCBlbnRpdHlJZCk7XHJcbiAgICByZXR1cm4gY29tID8gY29tIDogY3JlYXRlUG9zQ29tcG9uZW50KGVudGl0eUlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlUG9zQ29tcG9uZW50KGVudGl0eUlkID0gMCl7XHJcbiAgICBSZW1vdmVCeUtleUlkKHBvc0NvbXMsIGVudGl0eUlkKTtcclxufVxyXG5cclxuZXhwb3J0eyBHZXRQb3NDb21wb25lbnQsIFJlbW92ZVBvc0NvbXBvbmVudH0iLCJpbXBvcnQgeyBHZXRQb3NDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XHJcbmltcG9ydCB7IFJlbW92ZUJ5S2V5SWQsIE5ld0xpbmssIEdldExpbmtEYXRhLCBQdXNoVG9MaW5rIH0gZnJvbSAnLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGluayc7XHJcblxyXG5mdW5jdGlvbiBTZXRQb3MoZW50aXR5SWQgPSAwLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgbGV0IHBvcyA9IEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCkucG9zO1xyXG4gICAgcG9zLnggPSB4O1xyXG4gICAgcG9zLnkgPSB5O1xyXG4gICAgcmV0dXJuIHBvcztcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UG9zKGVudGl0eUlkID0gMCl7XHJcbiAgICByZXR1cm4gR2V0UG9zQ29tcG9uZW50KGVudGl0eUlkKS5wb3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNldFZlYyhlbnRpdHlJZCA9IDAsIHggPSAwLCB5ID0gMCl7XHJcbiAgICBsZXQgdmVjID0gR2V0UG9zQ29tcG9uZW50KGVudGl0eUlkKS52ZWM7XHJcbiAgICB2ZWMueCA9IHg7XHJcbiAgICB2ZWMueSA9IHk7XHJcbiAgICByZXR1cm4gdmVjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRWZWMoZW50aXR5SWQgPSAwKXtcclxuICAgIHJldHVybiBHZXRQb3NDb21wb25lbnQoZW50aXR5SWQpLnZlYztcclxufVxyXG5cclxudmFyIG1vdmVMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRNb3Zlckxpc3QoKXtcclxuICAgIHJldHVybiBtb3ZlTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkTW92ZXIoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBsZXQgbSA9IEdldExpbmtEYXRhKG1vdmVMaXN0LCBlbnRpdHlJZCk7XHJcbiAgICBpZihtKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBQdXNoVG9MaW5rKG1vdmVMaXN0LCBHZXRQb3NDb21wb25lbnQoZW50aXR5SWQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlTW92ZXIoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBSZW1vdmVCeUtleUlkKG1vdmVMaXN0LCBlbnRpdHlJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7U2V0UG9zLCBHZXRQb3MsIEdldFZlYywgU2V0VmVjLCBHZXRNb3Zlckxpc3QsIEFkZE1vdmVyLCBSZW1vdmVNb3Zlcn0iLCJpbXBvcnQgeyBOZXdQb3MsIE5ld1ZlYyB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludFwiO1xyXG5pbXBvcnQgeyBHZXRSZWN0SGFsZldpZHRoLCBHZXRSZWN0SGFsZkhlaWdodCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0XCI7XHJcbmltcG9ydCB7IEdldFBvcywgR2V0VmVjIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG4vKipcclxuICog55+p5b2i5LiO5L2N572u55qE5YWz57O75YWD5Lu2XHJcbiAqL1xyXG5jbGFzcyBSZWN0UG9zVHVwbGV7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCwgcmVjdCA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuICAgICAgICB0aGlzLnVuaXRQb3MgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudW5pdFZlYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBOZXdWZWMoeE9mZnNldCwgeU9mZnNldCk7XHJcbiAgICAgICAgdGhpcy5yZWN0ID0gcmVjdDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3UmVjdFBvc1R1cGxlKGVudGl0eUlkID0gMCwgeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwLCByZWN0ID0gbnVsbCkge1xyXG4gICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IHIgPSBuZXcgUmVjdFBvc1R1cGxlKGVudGl0eUlkLCB4T2Zmc2V0LCB5T2Zmc2V0LCByZWN0KTtcclxuICAgIHIudW5pdFBvcyA9IEdldFBvcyhlbnRpdHlJZCk7XHJcbiAgICByLnVuaXRWZWMgPSBHZXRWZWMoZW50aXR5SWQpO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZVJlY3RQb3NPZmZzZXQocmVjdFBvc1R1cGxlID0gbnVsbCwgeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwKXtcclxuICAgIHJlY3RQb3NUdXBsZS5vZmZzZXQueCA9IHhPZmZzZXQ7XHJcbiAgICByZWN0UG9zVHVwbGUub2Zmc2V0LnkgPSB5T2Zmc2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0VW5pdFBvcyhyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0UG9zVHVwbGUudW5pdFBvcztcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc09mZnNldChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0UG9zVHVwbGUub2Zmc2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICByZWN0UG9zVHVwbGUudW5pdFBvcy54ICsgcmVjdFBvc1R1cGxlLm9mZnNldC54LFxyXG4gICAgICAgIHJlY3RQb3NUdXBsZS51bml0UG9zLnkgKyByZWN0UG9zVHVwbGUub2Zmc2V0LnksXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0UG9zU3RhcnQocmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBwb3MueCAtIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlLnJlY3QpLFxyXG4gICAgICAgIHBvcy55IC0gR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlLnJlY3QpXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcG9zLnggKyBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZS5yZWN0KSxcclxuICAgICAgICBwb3MueSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZS5yZWN0KVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0e1xyXG4gICAgTmV3UmVjdFBvc1R1cGxlLCBVcGRhdGVSZWN0UG9zT2Zmc2V0LFxyXG4gICAgR2V0UmVjdFVuaXRQb3MsIEdldFJlY3RQb3NPZmZzZXQsIEdldFJlY3RQb3NDZW50ZXIsIEdldFJlY3RQb3NTdGFydCwgR2V0UmVjdFBvc0VuZFxyXG59IiwiXHJcbi8qKlxyXG4gKiDorrDlvZViaXRtYXBEYXRh55qE5Ymq6KOB5Yy65Z+fXHJcbiAqL1xyXG5jbGFzcyBUZXh0dXJlQXJlYSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOS4gOW8oOWbvuS4reeahOS4gOS4quWMuuWfn++8jOe6ueeQhuW4p+aIlueyvueBteW4p++8jOWNleS+i++8jOWSjOW8leaTjuacieWFs1xyXG4gKiDnsr7ngbXluKfnlKjkuo7moIflh7rkuIDlvKDnurnnkIblm77nmoTmjIflrprlj5bmnZDljLrln5/vvIzku6Xlj4rnm7jlr7nnmoTmmL7npLrkvY3nva5cclxuICovXHJcbmNsYXNzIFNwcml0ZUZyYW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUgPSBcIlwiLCBiaXRtYXBEYXRhID0gbnVsbCwgdGV4dHVyZUFyZWEgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmJpdG1hcERhdGEgPSBiaXRtYXBEYXRhO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZUFyZWEgPSB0ZXh0dXJlQXJlYTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmib7kuI3liLDluKfml7bnmoTpu5jorqTnqbrluKfvvIzlj6/ku6XmmK/kuIDlvKDnuqLlj4nlm77niYfvvIxcclxuICogVE9ETyDlvJXlhaXpu5jorqTotYTmupDmnLrliLZcclxuICovXHJcbnZhciBfc3ByaXRlRnJhbWVNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGdldFNwcml0ZUZyYW1lQnlOYW1lKG5hbWUgPSBcIlwiKXtcclxuICAgIGxldCBmID0gX3Nwcml0ZUZyYW1lTWFwLmdldChuYW1lKTtcclxuICAgIHJldHVybiBmID8gZiA6IF9zcHJpdGVGcmFtZU1hcC5nZXQoXCJkZWZhbHV0XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTcHJpdGVGcmFtZShuYW1lID0gXCJcIiwgYml0bWFwRGF0YSA9IG51bGwsIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGlmKF9zcHJpdGVGcmFtZU1hcC5nZXQobmFtZSkpe1xyXG4gICAgICAgIC8vZXhpc3RzXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgZiA9IG5ldyBTcHJpdGVGcmFtZShuYW1lLCBiaXRtYXBEYXRhLCBuZXcgVGV4dHVyZUFyZWEoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgX3Nwcml0ZUZyYW1lTWFwLnNldChuYW1lLCBmKTtcclxuICAgIHJldHVybiBmO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUudGV4dHVyZUFyZWEud2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS50ZXh0dXJlQXJlYS5oZWlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydHtnZXRTcHJpdGVGcmFtZUJ5TmFtZSwgY3JlYXRlU3ByaXRlRnJhbWUsIEdldFNwcml0ZUZyYW1lV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0fSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuaW1wb3J0IHsgUHVzaFRvTGluaywgR2V0TGlua0RhdGEsIFJlbW92ZUJ5S2V5SWQsIE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0UG9zVHVwbGUgfSBmcm9tIFwiLi4vcG9zL3JlY3QvY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IE5ld1JlY3QgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRTcHJpdGVGcmFtZVdpZHRoLCBHZXRTcHJpdGVGcmFtZUhlaWdodCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZVwiO1xyXG5pbXBvcnQgeyBHZXRQb3MgfSBmcm9tIFwiLi4vcG9zL3V0aWxzXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIOaYvuekuue7hOS7tu+8jOWMheWQq+S4gOS6m+efqemYteaVsOaNrlxyXG4gKi9cclxuY2xhc3MgUmVuZGVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIGFuZ2xlID0gMCwgc2NhbGUgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XHJcblx0fVxyXG59XHJcblxyXG52YXIgcmVuZGVyQ29tcyA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyQ29tcG9uZW50KGVudGl0eUlkID0gMCwgdmlld0RhdGEgPSBudWxsKSB7XHJcbiAgICB2aWV3RGF0YSA9IHZpZXdEYXRhID8gdmlld0RhdGEgOiB7fTtcclxuICAgIGxldCBjb20gPSBuZXcgUmVuZGVyQ29tcG9uZW50KGVudGl0eUlkLCB2aWV3RGF0YS5hbmdsZSwgdmlld0RhdGEuc2NhbGUpO1xyXG4gICAgUHVzaFRvTGluayhyZW5kZXJDb21zLCBjb20pO1xyXG4gICAgcmV0dXJuIGNvbTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVuZGVyQ29tcG9uZW50KGVudGl0eUlkID0gMCwgdmlld0RhdGEgPSBudWxsKSB7XHJcbiAgICBsZXQgY29tID0gR2V0TGlua0RhdGEocmVuZGVyQ29tcywgZW50aXR5SWQpO1xyXG4gICAgcmV0dXJuIGNvbSA/IGNvbSA6IGNyZWF0ZVJlbmRlckNvbXBvbmVudChlbnRpdHlJZCwgdmlld0RhdGEpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOaYvuekuuWFg+S7tlxyXG4gKiDnm67liY3kvb/nlKh0dXBsZe+8jOWPr+S7peWFvOWuueS4gOS4qnVuaXTlkIzml7bmjILlpJrkuKpzcHJpdGVGcmFtZeeahOmcgOaxglxyXG4gKiDlpoLmnpzpnIDopoHpmZDliLbkuIDkuKp1bml05LuF5pyJ5LiA5Liqc3ByaXRlRnJhbWXvvIzlsLHkvb/nlKhjb21wb25lbnRcclxuICovXHJcbmNsYXNzIERpc3BsYXlUdXBsZSBleHRlbmRzIFR1cGxlIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eUlkID0gMCwgc3ByaXRlRnJhbWUgPSBudWxsLCBkaXNwbGF5QXJlYSA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKGVudGl0eUlkKTtcclxuICAgICAgICB0aGlzLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5QXJlYSA9IGRpc3BsYXlBcmVhO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog55S75biD5LiK55qE5pi+56S66Zif5YiXXHJcbiAqL1xyXG52YXIgZGlzcGxheUxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldERpc3BsYXlMaXN0KCl7XHJcbiAgICByZXR1cm4gZGlzcGxheUxpc3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliqDlhaXmuLLmn5PpmJ/liJdcclxuICogQHBhcmFtIHsqfSBkaXNwbGF5QXJlYSBSZWN057G75Z6LXHJcbiAqL1xyXG5mdW5jdGlvbiBBZGREaXNwbGF5KGVudGl0eUlkID0gMCwgc3ByaXRlRnJhbWUgPSBudWxsLCB4T2Zmc2V0ID0gMCwgeU9mZnNldCA9IDApIHtcclxuICAgIGxldCBwb3MgPSBHZXRQb3MoZW50aXR5SWQpO1xyXG4gICAgbGV0IHJlY3RQb3MgPSBOZXdSZWN0UG9zVHVwbGUocG9zLCB4T2Zmc2V0LCB5T2Zmc2V0LFxyXG4gICAgICAgIE5ld1JlY3QoXHJcbiAgICAgICAgICAgIEdldFNwcml0ZUZyYW1lV2lkdGgoc3ByaXRlRnJhbWUpLFxyXG4gICAgICAgICAgICBHZXRTcHJpdGVGcmFtZUhlaWdodChzcHJpdGVGcmFtZSkpKTtcclxuICAgIGxldCB0ID0gbmV3IERpc3BsYXlUdXBsZShlbnRpdHlJZCwgc3ByaXRlRnJhbWUsIHJlY3RQb3MpO1xyXG4gICAgUHVzaFRvTGluayhkaXNwbGF5TGlzdCwgdCk7XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlRGlzcGxheShkaXNwbGF5SWQgPSAwKSB7XHJcbiAgICBSZW1vdmVCeUtleUlkKGRpc3BsYXlMaXN0LCBkaXNwbGF5SWQpO1xyXG59XHJcblxyXG5leHBvcnQge0dldFJlbmRlckNvbXBvbmVudCwgR2V0RGlzcGxheUxpc3QsIEFkZERpc3BsYXksIFJlbW92ZURpc3BsYXl9IiwiXHJcbmZ1bmN0aW9uIEFicyh2YWwgPSAwKXtcclxuICAgIHJldHVybiB2YWwgPj0gMCA/IHZhbCA6IC12YWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1heCh2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPiB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1pbih2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPCB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIEFicywgTWF4LCBNaW5cclxufSIsImltcG9ydCB7IEdldFJlY3RQb3NTdGFydCwgR2V0UmVjdFBvc0VuZCwgTmV3UmVjdFBvc1R1cGxlLCBHZXRSZWN0UG9zQ2VudGVyIH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IE5ld1BvcyB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludFwiO1xyXG5pbXBvcnQgeyBOZXdSZWN0LCBHZXRSZWN0SGFsZldpZHRoLCBHZXRSZWN0SGFsZkhlaWdodCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0XCI7XHJcbmltcG9ydCB7IEFicyB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9tYXRoXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIOebruWJjeeahOacuuWItu+8jOWPr+S7peS9v+eUqOefqeW9ouS4reW/g+eCueS5i+mXtOeahOi3neemu+WIpOaWreaYr+WQpuebuOS6pFxyXG4gKi9cclxuZnVuY3Rpb24gSXNSZWN0c0Nyb3NzKHJlY3RQb3NUdXBsZTEgPSBudWxsLCByZWN0UG9zVHVwbGUyID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgcG9zMiA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMik7XHJcbiAgICBsZXQgdyA9IEFicyhwb3MxLnggLSBwb3MyLngpO1xyXG4gICAgaWYodyA+IEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGggPSBBYnMocG9zMS55IC0gcG9zMi55KTtcclxuICAgIGlmKGggPiBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIElzUmVjdHNDcm9zc1dpdGhWZWMocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKSB7XHJcbiAgICBsZXQgcnAxID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBwb3MxID0gTmV3UG9zKFxyXG4gICAgICAgIHJwMS54ICsgcmVjdFBvc1R1cGxlMS51bml0VmVjLngsXHJcbiAgICAgICAgcnAxLnkgKyByZWN0UG9zVHVwbGUxLnVuaXRWZWMueVxyXG4gICAgKTtcclxuICAgIGxldCBycDIgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IHBvczIgPSBOZXdQb3MoXHJcbiAgICAgICAgcnAyLnggKyByZWN0UG9zVHVwbGUyLnVuaXRWZWMueCxcclxuICAgICAgICBycDIueSArIHJlY3RQb3NUdXBsZTIudW5pdFZlYy55XHJcbiAgICApO1xyXG4gICAgbGV0IHcgPSBBYnMocG9zMS54IC0gcG9zMi54KTtcclxuICAgIGlmKHcgPiBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCBoID0gQWJzKHBvczEueSAtIHBvczIueSk7XHJcbiAgICBpZihoID4gR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICog5Lik5Liq55+p5b2i5piv5ZCm55u45Lqk77yM5Z+656GA56Kw5pKe5qOA5rWL77yI6ZyA6KaB5YWI5pu05paw5Z2Q5qCH77yJXHJcbiAqIOWOn+eQhu+8mlxyXG4gKiAg5bemeO+8jOWPluS4pOiAheacgOWkp+WAvFxyXG4gKiAg5Y+zeO+8jOWPluS4pOiAheacgOWwj+WAvFxyXG4gKiAg5aaC5p6c5Y+zeOWkp+S6juW3pnjvvIzliJl46L2055u45LqkXHJcbiAqIFnlkIznkIbvvJpcclxuICogIOS4innvvIzlj5bkuKTogIXmnIDlpKflgLxcclxuICogIOS4i3nvvIzlj5bkuKTogIXmnIDlsI/lgLxcclxuICogIOWmguaenOS4i3nlpKfkuo7kuIp577yM5YiZeei9tOebuOS6pFxyXG4gKiAg55uu5YmN77yM5Y2z5L2/5Lik6L656YeN5Y+g77yM5Lmf5LiN566X55u45Lqk77yM6L+Z5qC36IO96YG/5YWN5b6I5aSa6Zeu6aKYXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdJbm5lclJlY3QocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKXtcclxuICAgIGlmKCFJc1JlY3RzQ3Jvc3MocmVjdFBvc1R1cGxlMSwgcmVjdFBvc1R1cGxlMikpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGFydDEgPSBHZXRSZWN0UG9zU3RhcnQocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgc3RhcnQyID0gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IGVuZDEgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IGVuZDIgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTIpO1xyXG5cclxuICAgIGxldCByMXgxID0gc3RhcnQxLng7XHJcbiAgICBsZXQgcjJ4MSA9IHN0YXJ0Mi54O1xyXG4gICAgbGV0IG1heFgxID0gcjF4MSA+IHIyeDEgPyByMXgxIDogcjJ4MTtcclxuXHJcbiAgICBsZXQgcjF4MiA9IGVuZDEueDtcclxuICAgIGxldCByMngyID0gZW5kMi54O1xyXG4gICAgbGV0IG1pblgyID0gcjF4MiA8IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IHN0YXJ0MS55O1xyXG4gICAgbGV0IHIyeTEgPSBzdGFydDIueTtcclxuICAgIGxldCBtYXhZMSA9IHIxeTEgPiByMnkxID8gcjF5MSA6IHIyeTE7XHJcblxyXG4gICAgbGV0IHIxeTIgPSBlbmQxLnk7XHJcbiAgICBsZXQgcjJ5MiA9IGVuZDIueTtcclxuICAgIGxldCBtaW5ZMiA9IHIxeTIgPCByMnkyID8gcjF5MiA6IHIyeTI7XHJcblxyXG4gICAgbGV0IHdpZHRoID0gbWluWDIgLSBtYXhYMTtcclxuICAgIGxldCBoZWlnaHQgPSBtaW5ZMiAtIG1heFkxO1xyXG4gICAgbGV0IHJlY3QgPSBOZXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXdSZWN0UG9zVHVwbGUoXHJcbiAgICAgICAgTmV3UG9zKFxyXG4gICAgICAgICAgICBtYXhYMSArIEdldFJlY3RIYWxmV2lkdGgocmVjdCksXHJcbiAgICAgICAgICAgIG1heFkxICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdClcclxuICAgICAgICApLCAwLCAwLCByZWN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS/ruWkjeS9jee9ru+8jOagueaNrnJlY3TnmoTkuK3lv4PkvY3nva7kv67lpI11bml0LnBvc1xyXG4gKi9cclxuZnVuY3Rpb24gRml4VW5pdFBvcyhyZWN0UG9zVHVwbGUgPSBudWxsLCByZWN0WCA9IDAsIHJlY3RZID0gMCl7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFBvcy54ID0gcmVjdFggLSByZWN0UG9zVHVwbGUub2Zmc2V0Lng7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFBvcy55ID0gcmVjdFkgLSByZWN0UG9zVHVwbGUub2Zmc2V0Lnk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEZpeFVuaXRWZWMocmVjdFBvc1R1cGxlID0gbnVsbCwgcmVjdFggPSAwLCByZWN0WSA9IDApIHtcclxuICAgIHJlY3RQb3NUdXBsZS51bml0VmVjLnggPSByZWN0WCAtIHJlY3RQb3NUdXBsZS51bml0UG9zLng7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFZlYy55ID0gcmVjdFkgLSByZWN0UG9zVHVwbGUudW5pdFBvcy55OyAgICBcclxufVxyXG5cclxuLyoqXHJcbiAqIGlubmVyLnJlY3TkuI3lh4botorlh7pvdXR0ZXIucmVjdO+8jOS/ruato2lubnJlci5wb3PkvY3nva5cclxuICogaW5uZXLlkoxvdXR0ZXLpg73mmK9SZWN0UG9zVHVwbGVcclxuICovXHJcbmZ1bmN0aW9uIEZpeEluUmVjdChvdXR0ZXIgPSBudWxsLCBpbm5lciA9IG51bGwpe1xyXG4gICAgbGV0IGNlbnRlclBvcyA9IEdldFJlY3RQb3NDZW50ZXIoaW5uZXIpO1xyXG4gICAgbGV0IGlubmVyU3RhcnRQb3MgPSBHZXRSZWN0UG9zU3RhcnQoaW5uZXIpO1xyXG4gICAgbGV0IGlubmVyRW5kUG9zID0gR2V0UmVjdFBvc0VuZChpbm5lcik7XHJcbiAgICBsZXQgb3V0dGVyU3RhcnRQb3MgPSBHZXRSZWN0UG9zU3RhcnQob3V0dGVyKTtcclxuICAgIGxldCBvdXR0ZXJFbmRQb3MgPSBHZXRSZWN0UG9zRW5kKG91dHRlcik7XHJcblxyXG4gICAgbGV0IHggPSBjZW50ZXJQb3MueDtcclxuICAgIGlmKGlubmVyU3RhcnRQb3MueCA8IG91dHRlclN0YXJ0UG9zLngpe1xyXG4gICAgICAgIHggPSBvdXR0ZXJTdGFydFBvcy54ICsgR2V0UmVjdEhhbGZXaWR0aChpbm5lcik7XHJcbiAgICB9ZWxzZSBpZihpbm5lckVuZFBvcy54ID4gb3V0dGVyRW5kUG9zLngpe1xyXG4gICAgICAgIHggPSBvdXR0ZXJFbmRQb3MueCAtIEdldFJlY3RIYWxmV2lkdGgoaW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB5ID0gY2VudGVyUG9zLnk7XHJcbiAgICBpZihpbm5lclN0YXJ0UG9zLnkgPCBvdXR0ZXJTdGFydFBvcy55KXtcclxuICAgICAgICB5ID0gb3V0dGVyU3RhcnRQb3MueSArIEdldFJlY3RIYWxmSGVpZ2h0KGlubmVyKTtcclxuICAgIH1lbHNlIGlmKGlubmVyRW5kUG9zLnkgPiBvdXR0ZXJFbmRQb3MueSl7XHJcbiAgICAgICAgeSA9IG91dHRlclN0YXJ0UG9zLnkgLSBHZXRSZWN0SGFsZkhlaWdodChpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgRml4VW5pdFBvcyhpbm5lciwgeCwgeSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5b2T5YmN5L2N572u5piv5ZCm5Zyo55+p5b2i5Lit77yI5ZCM5qC36ZyA6KaB5YWI5pu05pawcmVjdOS9jee9ru+8iVxyXG4gKiDljIXlkKvouKnnur/mg4XlhrVcclxuICovXHJcbmZ1bmN0aW9uIElzUG9zSW5SZWN0KHggPSAwLCB5ID0gMCwgcmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnRQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICBsZXQgZW5kUG9zID0gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIHggPj0gc3RhcnRQb3MueCAmJiB4IDw9IGVuZFBvcy54XHJcbiAgICAgICAgJiYgeSA+PSBzdGFydFBvcy55ICYmIHkgPD0gZW5kUG9zLnk7XHJcbn1cclxuXHJcbmV4cG9ydCB7TmV3SW5uZXJSZWN0LCBJc1JlY3RzQ3Jvc3MsIElzUmVjdHNDcm9zc1dpdGhWZWMsIEZpeFVuaXRQb3MsIEZpeFVuaXRWZWMsIEZpeEluUmVjdCwgSXNQb3NJblJlY3R9XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tIOS7peS4i+W+heWumlxyXG5cclxuLyoqXHJcbiAqIOagueaNrue6v+auteS9nOefqeW9olxyXG4gKi9cclxuZnVuY3Rpb24gTmV3T3V0dGVyUmVjdCh4MSA9IDAsIHkxID0gMCwgeDIgPSAwLCB5MiA9IDApe1xyXG4gICAgbGV0IHdpZHRoID0geDIgLSB4MTtcclxuICAgIGxldCBoZWlnaHQgPSB5MiAtIHkxO1xyXG4gICAgaWYod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgY2VudGVyWCA9IHgxICsgKHgyIC0geDEpICogMC41O1xyXG4gICAgbGV0IGNlbnRlclkgPSB5MSArICh5MiAtIHkxKSAqIDAuNTtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdERlZmF1bHQod2lkdGgsIGhlaWdodCk7XHJcbiAgICBVcGRhdGVSZWN0UG9zKHJlY3QsIGNlbnRlclgsIGNlbnRlclkpO1xyXG4gICAgcmV0dXJuIHJlY3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuKTkuKrnn6nlvaLpl7TnmoTlpJbmjqXnn6nlvaJcclxuICovXHJcbmZ1bmN0aW9uIE5ld091dHRlclJlY3RCeVJlY3RzKHJlY3QxID0gbnVsbCwgcmVjdDIgPSBudWxsKXtcclxuICAgIGxldCByMXgxID0gR2V0UmVjdFgxKHJlY3QxKTtcclxuICAgIGxldCByMngxID0gR2V0UmVjdFgxKHJlY3QyKTtcclxuICAgIGxldCB4MSA9IHIxeDEgPCByMngxID8gcjF4MSA6IHIyeDE7XHJcbiAgICBsZXQgcjF4MiA9IEdldFJlY3RYMihyZWN0MSk7XHJcbiAgICBsZXQgcjJ4MiA9IEdldFJlY3RYMihyZWN0Mik7XHJcbiAgICBsZXQgeDIgPSByMXgyID4gcjJ4MiA/IHIxeDIgOiByMngyO1xyXG5cclxuICAgIGxldCByMXkxID0gR2V0UmVjdFkxKHJlY3QxKTtcclxuICAgIGxldCByMnkxID0gR2V0UmVjdFkxKHJlY3QyKTtcclxuICAgIGxldCB5MSA9IHIxeTEgPCByMnkxID8gcjF5MSA6IHIyeTE7XHJcbiAgICBsZXQgcjF5MiA9IEdldFJlY3RZMihyZWN0MSk7XHJcbiAgICBsZXQgcjJ5MiA9IEdldFJlY3RZMihyZWN0Mik7XHJcbiAgICBsZXQgeTIgPSByMXkyID4gcjJ5MiA/IHIxeTIgOiByMnkyO1xyXG5cclxuICAgIHJldHVybiBOZXdPdXR0ZXJSZWN0KHgxLCB5MSwgeDIsIHkyKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLmjpLmlqXvvIx0YXJnZXRSZWN05Lya6KKrYmxvY2tSZWN05by55Ye65Y67XHJcbiAqIFRPRE/vvIzku6XlkI7lrozlloTms6jph4pcclxuICovXHJcbmZ1bmN0aW9uIEZpeEV4Y2x1ZGVSZWN0KGJsb2NrUmVjdCA9IG51bGwsIHRhcmdldFJlY3QgPSBudWxsKXtcclxuICAgIGxldCBwb3MxID0gYmxvY2tSZWN0LnBvcztcclxuICAgIGxldCBwb3MyID0gdGFyZ2V0UmVjdC5wb3M7XHJcbiAgICAvL+iuoeeul+WFs+ezu++8jOS4iuS4i+W3puWPs1xyXG4gICAgbGV0IHZ4ID0gcG9zMS54IC0gcG9zMi54O1xyXG4gICAgbGV0IHZ5ID0gcG9zMS55IC0gcG9zMi55O1xyXG4gICAgbGV0IHggPSB2eCA8IDAgPyB2eCotMSA6IHZ4O1xyXG4gICAgbGV0IHkgPSB2eSA8IDAgPyB2eSotMSA6IHZ5O1xyXG4gICAgaWYoeCA+IHkpe1xyXG4gICAgICAgIC8v5bem5Y+zXHJcbiAgICAgICAgaWYodnggPiAwKXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOW3plxyXG4gICAgICAgICAgICBwb3MyLnggPSBibG9ja1JlY3QucG9zU3RhcnQueCAtIHRhcmdldFJlY3Qud2lkdGggLSB0YXJnZXRSZWN0LnhPZmZzZXQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjlj7NcclxuICAgICAgICAgICAgcG9zMi54ID0gYmxvY2tSZWN0LnBvc0VuZC54IC0gdGFyZ2V0UmVjdC54T2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIC8v5LiK5LiLXHJcbiAgICAgICAgaWYodnkgPiAwKXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOS4ilxyXG4gICAgICAgICAgICBwb3MyLnkgPSBibG9ja1JlY3QucG9zU3RhcnQueSAtIHRhcmdldFJlY3QuaGVpZ2h0IC0gdGFyZ2V0UmVjdC55T2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5LiLXHJcbiAgICAgICAgICAgIHBvczIueSA9IGJsb2NrUmVjdC5wb3NFbmQueSAtIHRhcmdldFJlY3QueU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBVcGRhdGVSZWN0KHRhcmdldFJlY3QpO1xyXG59IiwiaW1wb3J0IHsgU2V0UG9zIH0gZnJvbSBcIi4uL3Bvcy91dGlsc1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3JlY3RcIjtcclxuaW1wb3J0IHsgVG9Mb2NhdGVQb3MsIE5ld1BvcyB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludFwiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IElzUmVjdHNDcm9zcyB9IGZyb20gXCIuLi9wb3MvcmVjdC91dGlsc1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0UG9zVHVwbGUsIEdldFJlY3RQb3NTdGFydCB9IGZyb20gXCIuLi9wb3MvcmVjdC9jb21wb25lbnRcIjtcclxuXHJcblxyXG4vKipcclxuICog5Luj56CB6YeP5bCR77yM5pqC5pe26L+Z5qC35pS+XHJcbiAqL1xyXG5jbGFzcyBDYW1lcmEgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucG9zID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdDYW1lcmEoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgbGV0IGNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcclxuICAgIGNhbWVyYS5wb3MgPSBTZXRQb3MoY2FtZXJhLmlkLCB4LCB5KTtcclxuICAgIGNhbWVyYS5yZWN0ID0gTmV3UmVjdFBvc1R1cGxlKGNhbWVyYS5pZCwgMCwgMCwgTmV3UmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICByZXR1cm4gY2FtZXJhO1xyXG59XHJcblxyXG4vL+ebruagh+efqeW9ouaYr+WQpuWcqOmVnOWktOWGhVxyXG5mdW5jdGlvbiBJc0luQ2FtZXJhKGNhbWVyYSA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiBJc1JlY3RzQ3Jvc3MoY2FtZXJhLnJlY3QsIHJlY3QpO1xyXG59XHJcblxyXG4vKipcclxuICog6L2s5Li66ZWc5aS05Z2Q5qCHXHJcbiAqIHRhcmdldFBvc++8jOWmguaenOaYr3JlY3TvvIzor7fnlKhzdGFydFBvc1xyXG4gKi9cclxuZnVuY3Rpb24gVG9TY3JlZW5Qb3MoY2FtZXJhID0gbnVsbCwgdGFyZ2V0UG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gVG9Mb2NhdGVQb3ModGFyZ2V0UG9zLCBHZXRSZWN0UG9zU3RhcnQoY2FtZXJhLnJlY3QpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOmVnOWktOWdkOagh+i9rOS4uuWFqOWxgOWdkOagh1xyXG4gKi9cclxuZnVuY3Rpb24gVG9Xb3JsZFBvcyhjYW1lcmEgPSBudWxsLCBzY3JlZW5YID0gMCwgc2NyZWVuWSA9IDApe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0UmVjdFBvc1N0YXJ0KGNhbWVyYS5yZWN0KTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgc3RhcnQueCArIHNjcmVlblgsXHJcbiAgICAgICAgc3RhcnQueSArIHNjcmVlbllcclxuICAgICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDplZzlpLTnp7vliqhcclxuICovXHJcbmZ1bmN0aW9uIENhbWVyYU1vdmUoY2FtZXJhID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIFNldFBvcyhjYW1lcmEuaWQsIHgsIHkpO1xyXG4gICAgVXBkYXRlUmVjdFBvc0J5VW5pdChjYW1lcmEucmVjdCwgeCwgeSk7XHJcbn1cclxuXHJcbmV4cG9ydHtOZXdDYW1lcmEsIElzSW5DYW1lcmEsIFRvU2NyZWVuUG9zLCBUb1dvcmxkUG9zfSIsIlxyXG4vKipcclxuICog5rWP6KeI5Zmo55qEa2V5LWNvZGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBLRVlfUklHSFQgPSAzOTtcclxuZXhwb3J0IGNvbnN0IEtFWV9MRUZUID0gMzc7XHJcbmV4cG9ydCBjb25zdCBLRVlfVVAgPSAzODtcclxuZXhwb3J0IGNvbnN0IEtFWV9ET1dOID0gNDA7XHJcblxyXG5leHBvcnQgY29uc3QgS0VZX1NQQUNFID0gMzI7XHJcblxyXG5leHBvcnQgY29uc3QgS0VZX1cgPSA4NztcclxuZXhwb3J0IGNvbnN0IEtFWV9BID0gNjU7XHJcbmV4cG9ydCBjb25zdCBLRVlfUyA9IDgzO1xyXG5leHBvcnQgY29uc3QgS0VZX0QgPSA2ODtcclxuXHJcbi8qKlxyXG4gKiAgZW5naW5lID0gd2ViLWJyb3dzZXIsIGNhbnZhc1xyXG4gKi9cclxudmFyIF9lbmdpbmUgPSB7XHJcblx0Y3R4IDogbnVsbCxcclxuICAgIGNhbnZhcyA6IG51bGwsXHJcbiAgICBmcHMgOiAwLFxyXG4gICAgdGljayA6IDBcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEVuZ2luZSgpe1xyXG4gICAgcmV0dXJuIF9lbmdpbmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRDYW52YXMod2lkdGggPSAwLCBoZWlnaHQgPSAwLCBmcHMgPSAxMCl7XHJcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICBfZW5naW5lLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIF9lbmdpbmUuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIF9lbmdpbmUuY3R4LnN0cm9rZVN0eWxlPVwiIzAwMDBmZlwiOyAgICAgICAgICAvL+eUu+efqeW9ouahhueUqOeahFxyXG4gICAgX2VuZ2luZS5mcHMgPSBmcHM7XHJcbiAgICBfZW5naW5lLnRpY2sgPSAxMDAwIC8gZnBzO1xyXG59XHJcblxyXG5leHBvcnR7Z2V0RW5naW5lLCBpbml0Q2FudmFzfSIsImltcG9ydCB7IGdldEVuZ2luZSB9IGZyb20gXCIuL21vZGVsXCI7XHJcblxyXG52YXIgX2VuZ2luZSA9IGdldEVuZ2luZSgpO1xyXG5cclxuZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICBsZXQgYyA9IF9lbmdpbmUuY2FudmFzO1xyXG4gICAgX2VuZ2luZS5jdHguY2xlYXJSZWN0KDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhdyhpbWdEYXRhLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG5cdGN0eC5kcmF3SW1hZ2UoaW1nRGF0YSwgeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcbn1cclxuXHJcbmNvbnN0IFJhZGl1cyA9IE1hdGguUEkvMTgwO1xyXG5mdW5jdGlvbiBEcmF3SW1hZ2VXaXRoQW5nbGUoYW5nbGUgPSAwLCBpbWdEYXRhLCBzeCA9IDAsIHN5ID0gMCwgc3dpZHRoID0gMCwgc2hlaWdodCA9IDAsIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XHJcbiAgICBsZXQgY3R4ID0gX2VuZ2luZS5jdHg7XHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LnRyYW5zbGF0ZSh4ICsgd2lkdGgvMiwgeSArIGhlaWdodC8yKTtcclxuICAgIGN0eC5yb3RhdGUoYW5nbGUgKiBSYWRpdXMpO1xyXG4gICAgRHJhd0ltYWdlKGltZ0RhdGEsIHN4LCBzeSwgc3dpZHRoLCBzaGVpZ2h0LCAtd2lkdGgvMiwgLWhlaWdodC8yLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgLy8gY3R4LnRyYW5zbGF0ZSgxMDAsIDEwMCk7XHJcblx0Ly8gY3R4LnJvdGF0ZSg5MCAqIE1hdGguUEkvMTgwKTtcdC8v5Lul5LiK6Z2i55qE5YGP56e754K55Li65YeG77yM6L+b6KGM5peL6L2sXHJcblx0Ly8gY3R4LmRyYXdJbWFnZShpLCAxODcsIDAsIDE4NiwgMTMwLCAtMCwgLTAsIDEwMCwgMTAwKTtcclxufVxyXG5cclxuLy/lj4LogIPvvJpjb250ZXh0LmRyYXdJbWFnZShpbWcsc3gsc3ksc3dpZHRoLHNoZWlnaHQseCx5LHdpZHRoLGhlaWdodCk7XHJcbmZ1bmN0aW9uIGRyYXdJbWFnZShpbWdEYXRhLCBzeCA9IDAsIHN5ID0gMCwgc3dpZHRoID0gMCwgc2hlaWdodCA9IDAsIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XHJcbiAgICBsZXQgY3R4ID0gX2VuZ2luZS5jdHg7XHJcblx0Y3R4LmRyYXdJbWFnZShpbWdEYXRhLCBzeCwgc3ksIHN3aWR0aCwgc2hlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdSZWN0KHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCBjdHggPSBfZW5naW5lLmN0eDtcclxuICAgIGN0eC5zdHJva2VSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3TGluZSh4MSA9IDAsIHkxID0gMCwgeDIgPSAwLCB5MiA9IDApe1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyh4MSwgeTEpO1xyXG4gICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3Q2lyY2xlKHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMCl7XHJcbiAgICBsZXQgY3R4ID0gX2VuZ2luZS5jdHg7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5leHBvcnR7Y2xlYXIsIGRyYXdJbWFnZSwgZHJhd1JlY3QsIGRyYXdMaW5lLCBkcmF3Q2lyY2xlfSIsImltcG9ydCB7IE5ld1BvcyB9IGZyb20gXCIuL3BvaW50XCI7XHJcbmltcG9ydCB7IE5ld1JlY3QsIEdldFJlY3RTdGFydFBvcywgR2V0UmVjdEVuZFBvcywgR2V0UmVjdENlbnRlclBvcywgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQsIEZpeFVuaXRQb3MsIFVwZGF0ZVJlY3RDZW50ZXJQb3MgfSBmcm9tIFwiLi9yZWN0XCI7XHJcbmltcG9ydCB7IGludGVyU2VjdGlvblBvcyB9IGZyb20gXCIuL2Zvcm11bGEvYWJjXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIOaxguS4pOebtOe6v+S6pOeCuVxyXG4gKiDnlKjnm7Tnur/kuIDoiKzmlrnnqIvlvI9cclxuICovXHJcbmZ1bmN0aW9uIEludGVyU2VjdGlvblBvcyhsaW5lMSA9IG51bGwsIGxpbmUyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gaW50ZXJTZWN0aW9uUG9zKGxpbmUxLmZvcm11bGEsIGxpbmUyLmZvcm11bGEpO1xyXG59XHJcblxyXG4vKipcclxuICog5piv5ZCm5bmz6KGM5LqOeCx56L2055qE57q/XHJcbiAqL1xyXG5mdW5jdGlvbiBJc0hvcml6b250YWxMaW5lKGxpbmUgPSBudWxsKXtcclxuICAgIHJldHVybiBsaW5lLnZlYy55ID09IDA7XHJcbn1cclxuZnVuY3Rpb24gSXNWZXJ0aWNhbExpbmUobGluZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGxpbmUudmVjLnggPT0gMDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4pOS4quefqeW9ouaYr+WQpuebuOS6pO+8jOWfuuehgOeisOaSnuajgOa1i++8iOmcgOimgeWFiOabtOaWsOWdkOagh++8iVxyXG4gKiDljp/nkIbvvJpcclxuICogIOW3pnjvvIzlj5bkuKTogIXmnIDlpKflgLxcclxuICogIOWPs3jvvIzlj5bkuKTogIXmnIDlsI/lgLxcclxuICogIOWmguaenOWPs3jlpKfkuo7lt6Z477yM5YiZeOi9tOebuOS6pFxyXG4gKiBZ5ZCM55CG77yaXHJcbiAqICDkuIp577yM5Y+W5Lik6ICF5pyA5aSn5YC8XHJcbiAqICDkuIt577yM5Y+W5Lik6ICF5pyA5bCP5YC8XHJcbiAqICDlpoLmnpzkuIt55aSn5LqO5LiKee+8jOWImXnovbTnm7jkuqRcclxuICogIOebruWJje+8jOWNs+S9v+S4pOi+uemHjeWPoO+8jOS5n+S4jeeul+ebuOS6pO+8jOi/meagt+iDvemBv+WFjeW+iOWkmumXrumimFxyXG4gKi9cclxuZnVuY3Rpb24gTmV3SW5uZXJSZWN0KHJlY3QxID0gbnVsbCwgcmVjdDIgPSBudWxsKXtcclxuXHJcbiAgICBsZXQgc3RhcnQxID0gR2V0UmVjdFN0YXJ0UG9zKHJlY3QxKTtcclxuICAgIGxldCBzdGFydDIgPSBHZXRSZWN0U3RhcnRQb3MocmVjdDIpO1xyXG4gICAgbGV0IGVuZDEgPSBHZXRSZWN0RW5kUG9zKHJlY3QxKTtcclxuICAgIGxldCBlbmQyID0gR2V0UmVjdEVuZFBvcyhyZWN0Mik7XHJcblxyXG4gICAgbGV0IHIxeDEgPSBzdGFydDEueDtcclxuICAgIGxldCByMngxID0gc3RhcnQyLng7XHJcbiAgICBsZXQgbWF4WDEgPSByMXgxID4gcjJ4MSA/IHIxeDEgOiByMngxO1xyXG5cclxuICAgIGxldCByMXgyID0gZW5kMS54O1xyXG4gICAgbGV0IHIyeDIgPSBlbmQyLng7XHJcbiAgICBsZXQgbWluWDIgPSByMXgyIDwgcjJ4MiA/IHIxeDIgOiByMngyO1xyXG4gICAgaWYobWluWDIgPCBtYXhYMSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHIxeTEgPSBzdGFydDEueTtcclxuICAgIGxldCByMnkxID0gc3RhcnQyLnk7XHJcbiAgICBsZXQgbWF4WTEgPSByMXkxID4gcjJ5MSA/IHIxeTEgOiByMnkxO1xyXG4gICAgbGV0IHIxeTIgPSBlbmQxLnk7XHJcbiAgICBsZXQgcjJ5MiA9IGVuZDIueTtcclxuICAgIGxldCBtaW5ZMiA9IHIxeTIgPCByMnkyID8gcjF5MiA6IHIyeTI7XHJcbiAgICBpZihtaW5ZMiA8IG1heFkxKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV3UmVjdCgwLCAwLCBtaW5YMiAtIG1heFgxLCBtaW5ZMiAtIG1heFkxKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIpOaWreaYr+WQpuebuOS6pFxyXG4gKiDmmoLml7bkvb/nlKhOZXdJbm5lclJlY3TvvIzlkI7mnJ/nnIvmg4XlhrXmmK/lkKbpnIDopoHmiYvliqjlm57mlLbotYTmupAgXHJcbiAqL1xyXG5mdW5jdGlvbiBJc1JlY3RzQ3Jvc3MocmVjdDEgPSBudWxsLCByZWN0MiA9IG51bGwpe1xyXG4gICAgbGV0IHJlY3QgPSBOZXdJbm5lclJlY3QocmVjdDEsIHJlY3QyKTtcclxuICAgIHJldHVybiByZWN0ID8gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIGlubmVyLnJlY3TkuI3lh4botorlh7pvdXR0ZXIucmVjdO+8jOS/ruato3Bvc+S9jee9rlxyXG4gKiBpbm5lcuWSjG91dHRlcumDveaYr3JlY3RUdXBsZVxyXG4gKi9cclxuZnVuY3Rpb24gRml4SW5SZWN0KG91dHRlciA9IG51bGwsIGlubmVyID0gbnVsbCwgaW5uZXJVbml0UG9zID0gbnVsbCl7XHJcbiAgICBsZXQgaW5uZXJQb3MgPSBHZXRSZWN0Q2VudGVyUG9zKGlubmVyKTtcclxuICAgIGxldCBpbm5lclN0YXJ0UG9zID0gR2V0UmVjdFN0YXJ0UG9zKGlubmVyKTtcclxuICAgIGxldCBpbm5lckVuZFBvcyA9IEdldFJlY3RFbmRQb3MoaW5uZXIpO1xyXG4gICAgbGV0IG91dHRlclN0YXJ0UG9zID0gR2V0UmVjdFN0YXJ0UG9zKG91dHRlcik7XHJcbiAgICBsZXQgb3V0dGVyRW5kUG9zID0gR2V0UmVjdEVuZFBvcyhvdXR0ZXIpO1xyXG5cclxuICAgIGxldCB4ID0gaW5uZXJQb3MueDtcclxuICAgIGlmKGlubmVyU3RhcnRQb3MueCA8IG91dHRlclN0YXJ0UG9zLngpe1xyXG4gICAgICAgIHggPSBvdXR0ZXJTdGFydFBvcy54ICsgR2V0UmVjdEhhbGZXaWR0aChpbm5lcik7XHJcbiAgICB9ZWxzZSBpZihpbm5lckVuZFBvcy54ID4gb3V0dGVyRW5kUG9zLngpe1xyXG4gICAgICAgIHggPSBvdXR0ZXJFbmRQb3MueCAtIEdldFJlY3RIYWxmV2lkdGgoaW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB5ID0gaW5uZXJQb3MueTtcclxuICAgIGlmKGlubmVyU3RhcnRQb3MueSA8IG91dHRlclN0YXJ0UG9zLnkpe1xyXG4gICAgICAgIHkgPSBvdXR0ZXJTdGFydFBvcy55ICsgR2V0UmVjdEhhbGZIZWlnaHQoaW5uZXIpO1xyXG4gICAgfWVsc2UgaWYoaW5uZXJFbmRQb3MueSA+IG91dHRlckVuZFBvcy55KXtcclxuICAgICAgICB5ID0gb3V0dGVyU3RhcnRQb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KGlubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih4ICE9IGlubmVyUG9zLnggfHwgeSAhPSBpbm5lclBvcy55KXtcclxuICAgICAgICBVcGRhdGVSZWN0Q2VudGVyUG9zKGlubmVyLCB4LCB5KTtcclxuICAgICAgICBGaXhVbml0UG9zKHJlY3QsIGlubmVyVW5pdFBvcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5b2T5YmN5L2N572u5piv5ZCm5Zyo55+p5b2i5Lit77yI5ZCM5qC36ZyA6KaB5YWI5pu05pawcmVjdOS9jee9ru+8iVxyXG4gKiDov5nph4zkuI3ljIXlkKvouKnnur/vvIzlm6DmraTkuI3og73nlKg+PeWSjDw9XHJcbiAqIOS4uuS6humBv+WFjeexu+S8vCB0aWxl55qEIHJvd0luZGV4ID0geC9ncmlkV2lkdGjlr7zoh7TmlbDnu4TotornlYzpl67pophcclxuICovXHJcbmZ1bmN0aW9uIElzUG9zSW5SZWN0KHggPSAwLCB5ID0gMCwgcmVjdCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0UG9zID0gR2V0UmVjdFN0YXJ0UG9zKHJlY3QpO1xyXG4gICAgbGV0IGVuZFBvcyA9IEdldFJlY3RFbmRQb3MocmVjdCk7XHJcbiAgICByZXR1cm4geCA+IHN0YXJ0UG9zLnggJiYgeCA8IGVuZFBvcy54XHJcbiAgICAgICAgJiYgeSA+IHN0YXJ0UG9zLnkgJiYgeSA8IGVuZFBvcy55O1xyXG59XHJcblxyXG5leHBvcnQge0ludGVyU2VjdGlvblBvcywgXHJcbiAgICBJc0hvcml6b250YWxMaW5lLCBJc1ZlcnRpY2FsTGluZSxcclxuICAgIElzUmVjdHNDcm9zcywgRml4SW5SZWN0LCBJc1Bvc0luUmVjdH1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0g5Lul5LiL5b6F5a6aXHJcblxyXG4vKipcclxuICog5qC55o2u57q/5q615L2c55+p5b2iXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdPdXR0ZXJSZWN0KHgxID0gMCwgeTEgPSAwLCB4MiA9IDAsIHkyID0gMCl7XHJcbiAgICBsZXQgd2lkdGggPSB4MiAtIHgxO1xyXG4gICAgbGV0IGhlaWdodCA9IHkyIC0geTE7XHJcbiAgICBpZih3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBjZW50ZXJYID0geDEgKyAoeDIgLSB4MSkgKiAwLjU7XHJcbiAgICBsZXQgY2VudGVyWSA9IHkxICsgKHkyIC0geTEpICogMC41O1xyXG4gICAgbGV0IHJlY3QgPSBOZXdSZWN0RGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIFVwZGF0ZVJlY3RQb3MocmVjdCwgY2VudGVyWCwgY2VudGVyWSk7XHJcbiAgICByZXR1cm4gcmVjdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4pOS4quefqeW9oumXtOeahOWkluaOpeefqeW9olxyXG4gKi9cclxuZnVuY3Rpb24gTmV3T3V0dGVyUmVjdEJ5UmVjdHMocmVjdDEgPSBudWxsLCByZWN0MiA9IG51bGwpe1xyXG4gICAgbGV0IHIxeDEgPSBHZXRSZWN0WDEocmVjdDEpO1xyXG4gICAgbGV0IHIyeDEgPSBHZXRSZWN0WDEocmVjdDIpO1xyXG4gICAgbGV0IHgxID0gcjF4MSA8IHIyeDEgPyByMXgxIDogcjJ4MTtcclxuICAgIGxldCByMXgyID0gR2V0UmVjdFgyKHJlY3QxKTtcclxuICAgIGxldCByMngyID0gR2V0UmVjdFgyKHJlY3QyKTtcclxuICAgIGxldCB4MiA9IHIxeDIgPiByMngyID8gcjF4MiA6IHIyeDI7XHJcblxyXG4gICAgbGV0IHIxeTEgPSBHZXRSZWN0WTEocmVjdDEpO1xyXG4gICAgbGV0IHIyeTEgPSBHZXRSZWN0WTEocmVjdDIpO1xyXG4gICAgbGV0IHkxID0gcjF5MSA8IHIyeTEgPyByMXkxIDogcjJ5MTtcclxuICAgIGxldCByMXkyID0gR2V0UmVjdFkyKHJlY3QxKTtcclxuICAgIGxldCByMnkyID0gR2V0UmVjdFkyKHJlY3QyKTtcclxuICAgIGxldCB5MiA9IHIxeTIgPiByMnkyID8gcjF5MiA6IHIyeTI7XHJcblxyXG4gICAgcmV0dXJuIE5ld091dHRlclJlY3QoeDEsIHkxLCB4MiwgeTIpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOefqeW9ouaOkuaWpe+8jHRhcmdldFJlY3TkvJrooqtibG9ja1JlY3TlvLnlh7rljrtcclxuICogVE9ET++8jOS7peWQjuWujOWWhOazqOmHilxyXG4gKi9cclxuZnVuY3Rpb24gRml4RXhjbHVkZVJlY3QoYmxvY2tSZWN0ID0gbnVsbCwgdGFyZ2V0UmVjdCA9IG51bGwpe1xyXG4gICAgbGV0IHBvczEgPSBibG9ja1JlY3QucG9zO1xyXG4gICAgbGV0IHBvczIgPSB0YXJnZXRSZWN0LnBvcztcclxuICAgIC8v6K6h566X5YWz57O777yM5LiK5LiL5bem5Y+zXHJcbiAgICBsZXQgdnggPSBwb3MxLnggLSBwb3MyLng7XHJcbiAgICBsZXQgdnkgPSBwb3MxLnkgLSBwb3MyLnk7XHJcbiAgICBsZXQgeCA9IHZ4IDwgMCA/IHZ4Ki0xIDogdng7XHJcbiAgICBsZXQgeSA9IHZ5IDwgMCA/IHZ5Ki0xIDogdnk7XHJcbiAgICBpZih4ID4geSl7XHJcbiAgICAgICAgLy/lt6blj7NcclxuICAgICAgICBpZih2eCA+IDApe1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5bemXHJcbiAgICAgICAgICAgIHBvczIueCA9IGJsb2NrUmVjdC5wb3NTdGFydC54IC0gdGFyZ2V0UmVjdC53aWR0aCAtIHRhcmdldFJlY3QueE9mZnNldDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOWPs1xyXG4gICAgICAgICAgICBwb3MyLnggPSBibG9ja1JlY3QucG9zRW5kLnggLSB0YXJnZXRSZWN0LnhPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgLy/kuIrkuItcclxuICAgICAgICBpZih2eSA+IDApe1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5LiKXHJcbiAgICAgICAgICAgIHBvczIueSA9IGJsb2NrUmVjdC5wb3NTdGFydC55IC0gdGFyZ2V0UmVjdC5oZWlnaHQgLSB0YXJnZXRSZWN0LnlPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjkuItcclxuICAgICAgICAgICAgcG9zMi55ID0gYmxvY2tSZWN0LnBvc0VuZC55IC0gdGFyZ2V0UmVjdC55T2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFVwZGF0ZVJlY3QodGFyZ2V0UmVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiByZWN0MeaYr+WQpuWujOWFqOi/h+S6hnJlY3QyXHJcbiAqL1xyXG5mdW5jdGlvbiBJc1JlY3RzQ3Jvc3NPdmVyKHJlY3QxID0gbnVsbCwgcmVjdDIgPSBudWxsKXtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIElzUmVjdHNDcm9zc1dpdGhWZWMocmVjdDEgPSBudWxsLCB2eCA9IDAsIHZ5ID0gMCwgcmVjdDIgPSBudWxsKXtcclxuICAgIFxyXG59IiwiaW1wb3J0IHsgRW50aXR5LCBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IElzUmVjdHNDcm9zcyB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy91dGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIOeisOaSnuWFg+S7tlxyXG4gKiB0YWcgOiDoh6rlrprkuYnmoIfor4bnoIFcclxuICovXHJcbmNsYXNzIENvbGxpZGVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDApIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuICAgICAgICB0aGlzLnJlY3QgPSByZWN0O1xyXG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0UG9zVHVwbGUoY29sbGlkZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBjb2xsaWRlci5yZWN0O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOeisOaSnuajgOa1i+S4u+ezu+e7n1xyXG4gKiBjYWxsYmFjayA9IGZ1bmN0aW9uKGR0LCBjb2xsaWRlcjEsIGNvbGxpZGVyMilcclxuICovXHJcbmNsYXNzIENvbGxpZGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG4gICAgY2hlY2soZHQgPSAwLCBjb2xsaWRlcjEgPSBudWxsLCBjb2xsaWRlcjIgPSBudWxsKXtcclxuICAgICAgICBpZihJc1JlY3RzQ3Jvc3MoY29sbGlkZXIxLnJlY3QsIGNvbGxpZGVyMi5yZWN0KSl7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZHQsIGNvbGxpZGVyMSwgY29sbGlkZXIyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0e0NvbGxpZGVyLCBDb2xsaWRlclN5c3RlbX0iLCJpbXBvcnQgeyBDb2xsaWRlciB9IGZyb20gXCIuLi9iYXNlXCI7XHJcbmltcG9ydCB7IFB1c2hUb0xpbmssIFJlbW92ZUJ5S2V5SWQsIE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5cclxudmFyIGJvZHlDb2xsaWRlckxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldEJvZHlDb2xsaWRlckxpc3QoKXtcclxuICAgIHJldHVybiBib2R5Q29sbGlkZXJMaXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRCb2R5Q29sbGlkZXIoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCl7XHJcbiAgICBsZXQgYyA9IG5ldyBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgIFB1c2hUb0xpbmsoYm9keUNvbGxpZGVyTGlzdCwgYyk7XHJcbiAgICByZXR1cm4gYztcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlQm9keUNvbGxpZGVyKGNvbGxpZGVySWQgPSAwKXtcclxuICAgIFJlbW92ZUJ5S2V5SWQoYm9keUNvbGxpZGVyTGlzdCwgY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcblxyXG52YXIgYmxvY2tDb2xsaWRlckxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldEJsb2NrQ29sbGlkZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gYmxvY2tDb2xsaWRlckxpc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZEJsb2NrQ29sbGlkZXIoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCl7XHJcbiAgICBsZXQgYyA9IG5ldyBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgIFB1c2hUb0xpbmsoYmxvY2tDb2xsaWRlckxpc3QsIGMpO1xyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZUJsb2NrQ29sbGlkZXIoY29sbGlkZXJJZCA9IDApe1xyXG4gICAgUmVtb3ZlQnlLZXlJZChibG9ja0NvbGxpZGVyTGlzdCwgY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0Qm9keUNvbGxpZGVyTGlzdCwgQWRkQm9keUNvbGxpZGVyLCBSZW1vdmVCb2R5Q29sbGlkZXIsIEdldEJsb2NrQ29sbGlkZXJMaXN0LCBBZGRCbG9ja0NvbGxpZGVyLCBSZW1vdmVCbG9ja0NvbGxpZGVyfSIsImltcG9ydCB7IEdldERpc3BsYXlMaXN0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC92aWV3L2NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBMaW5rSXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5pbXBvcnQgeyBHZXRQb3MgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L3Bvcy91dGlsc1wiO1xyXG5pbXBvcnQgeyBHZXRSZWN0V2lkdGgsIEdldFJlY3RIZWlnaHQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRDYW1lcmEgfSBmcm9tIFwiLi4vd29ybGQvcmVzXCI7XHJcbmltcG9ydCB7IElzSW5DYW1lcmEsIFRvU2NyZWVuUG9zIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9jYW1lcmEvdXRpbHNcIjtcclxuaW1wb3J0IHsgZHJhd0ltYWdlLCBkcmF3UmVjdCwgY2xlYXIgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9lbmdpbmUvaDUvcmVuZGVyXCI7XHJcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuaW1wb3J0IHsgR2V0QmxvY2tDb2xsaWRlckxpc3QsIEdldEJvZHlDb2xsaWRlckxpc3QgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NvbGxpZGUvYm94Mi91dGlsc1wiO1xyXG5pbXBvcnQgeyBHZXRSZWN0UG9zU3RhcnQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L3Bvcy9yZWN0L2NvbXBvbmVudFwiO1xyXG5cclxuLyoqXHJcbiAqIOa4suafk+ezu+e7n++8jOmAu+i+keatpemqpO+8mlxyXG4gKiAxLiAgIOa4hemZpOeUu+W4g1xyXG4gKiAyLiAgIOmHjeWumuS9jeaRhOWDj+aculxyXG4gKiAzLiAgIOiuoeeul+WNleS9jeaYvuekuuefqeW9ouaYr+WQpuWcqOaRhOWDj+acuuefqeW9ouWGhVxyXG4gKiA0LiAgIOi9rOaNouS4uueUu+W4g+WdkOagh1xyXG4gKiA1LiAgIOeUu+WHuuWbvuWDj1xyXG4gKi9cclxuY2xhc3MgUmVuZGVyVXBkYXRlU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0RGlzcGxheUxpc3QoKSwgZGlzcGxheVR1cGxlID0+IHtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IEdldFBvcyhkaXNwbGF5VHVwbGUuZW50aXR5SWQpO1xyXG4gICAgICAgICAgICBVcGRhdGVSZWN0UG9zQnlVbml0KGRpc3BsYXlUdXBsZS5kaXNwbGF5QXJlYSwgcG9zLngsIHBvcy55KTtcclxuICAgICAgICAgICAgZHJhd0ZyYW1lSW5DYW1lcmEoZGlzcGxheVR1cGxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIHJlbmRlclN5cyA9IG51bGw7XHJcbmZ1bmN0aW9uIEdldFJlbmRlclVwZGF0ZVN5c3RlbSgpe1xyXG4gICAgaWYoIXJlbmRlclN5cyl7XHJcbiAgICAgICAgcmVuZGVyU3lzID0gbmV3IFJlbmRlclVwZGF0ZVN5c3RlbSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlbmRlclN5cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlsIbmiYDmnInnn6nlvaLnlLvlh7rmnaVcclxuICovXHJcbmNsYXNzIERyYXdSZWN0U3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgLy9EcmF3UmVjdChHZXRDYW1lcmEoKSwgdGhpcy5fY2FtZXJhLnJlY3QpO1xyXG4gICAgICAgIExpbmtJdGVyYXRvcihHZXRCbG9ja0NvbGxpZGVyTGlzdCgpLCBjb2xsaWRlciA9PiB7XHJcbiAgICAgICAgICAgIGRyYXdSZWN0SW5DYW1lcmEoY29sbGlkZXIucmVjdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldEJvZHlDb2xsaWRlckxpc3QoKSwgY29sbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICBkcmF3UmVjdEluQ2FtZXJhKGNvbGxpZGVyLnJlY3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgZGVidWdTeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXREcmF3UmVjdFN5c3RlbSgpe1xyXG4gICAgaWYoIWRlYnVnU3lzKXtcclxuICAgICAgICBkZWJ1Z1N5cyA9IG5ldyBEcmF3UmVjdFN5c3RlbSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlYnVnU3lzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOa4suafk+WIsOeUu+W4g++8jOWPqua4suafk+WcqOmVnOWktOWGheeahFxyXG4gKi9cclxuZnVuY3Rpb24gZHJhd0ZyYW1lSW5DYW1lcmEoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgY2FtZXJhID0gR2V0Q2FtZXJhKCk7XHJcbiAgICBsZXQgZGlzcGxheUFyZWEgPSBkaXNwbGF5VHVwbGUuZGlzcGxheUFyZWE7XHJcbiAgICBpZighSXNJbkNhbWVyYShjYW1lcmEsIGRpc3BsYXlBcmVhKSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy/ovazkuLrnlLvluIPlnZDmoIdcclxuICAgIGxldCBzY3JlZW5Qb3MgPSBUb1NjcmVlblBvcyhjYW1lcmEsIEdldFJlY3RTdGFydFBvcyhkaXNwbGF5QXJlYSkpO1xyXG5cclxuICAgIGxldCB0ZXh0dXJlQXJlYSA9IGRpc3BsYXlUdXBsZS5zcHJpdGVGcmFtZS50ZXh0dXJlQXJlYTtcclxuICAgIGRyYXdJbWFnZShkaXNwbGF5VHVwbGUuc3ByaXRlRnJhbWUuYml0bWFwRGF0YSxcclxuICAgICAgICB0ZXh0dXJlQXJlYS54LCB0ZXh0dXJlQXJlYS55LCB0ZXh0dXJlQXJlYS53aWR0aCwgdGV4dHVyZUFyZWEuaGVpZ2h0LFxyXG4gICAgICAgIHNjcmVlblBvcy54LCBzY3JlZW5Qb3MueSwgR2V0UmVjdFdpZHRoKGRpc3BsYXlBcmVhKSwgR2V0UmVjdEhlaWdodChkaXNwbGF5QXJlYSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UmVjdEluQ2FtZXJhKHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IGNhbWVyYSA9IEdldENhbWVyYSgpO1xyXG4gICAgaWYoIUlzSW5DYW1lcmEoY2FtZXJhLCByZWN0UG9zVHVwbGUpKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvL+i9rOS4uueUu+W4g+WdkOagh1xyXG4gICAgbGV0IHNjcmVlblBvcyA9IFRvU2NyZWVuUG9zKGNhbWVyYSwgR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZSkpO1xyXG4gICAgZHJhd1JlY3QoXHJcbiAgICAgICAgc2NyZWVuUG9zLngsIHNjcmVlblBvcy55LFxyXG4gICAgICAgIEdldFJlY3RXaWR0aChyZWN0UG9zVHVwbGUucmVjdCksIEdldFJlY3RIZWlnaHQocmVjdFBvc1R1cGxlLnJlY3QpKTtcclxufVxyXG5cclxuZXhwb3J0IHtHZXRSZW5kZXJVcGRhdGVTeXN0ZW0sIEdldERyYXdSZWN0U3lzdGVtLCBkcmF3RnJhbWVJbkNhbWVyYSwgZHJhd1JlY3RJbkNhbWVyYX0iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IExpbmtJdGVyYXRvciB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IEdldE1vdmVyTGlzdCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnQvcG9zL3V0aWxzXCI7XHJcblxyXG4vKipcclxuICogMjAxOS4wOS4yOVxyXG4gKiAgICAgIOe7j+i/h+iAg+iZke+8jOebruWJjeWPquWBmueugOWNleeJiOacrO+8jOS4jeimgeaDs+W+l+WkqumVv+i/nFxyXG4gKiAgICAgIOaJgOS7peWFiOS4jeeUqOezu+e7n+e7n+S4gOabtOaWsOS9jee9ru+8jOebtOaOpeWcqGFjdGlvbuS4rXNldHBvc+WwseWlvVxyXG4gKi9cclxudmFyIGlkID0gMDtcclxuY2xhc3MgUG9zVXBkYXRlU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoMTAwKTtcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldE1vdmVyTGlzdCgpLCBtb3ZlQ29tID0+IHtcclxuICAgICAgICAgICAgaWQrKztcclxuICAgICAgICAgICAgbGV0IHZlYyA9IG1vdmVDb20udmVjO1xyXG4gICAgICAgICAgICBpZih2ZWMueCA9PSAwICYmIHZlYy55ID09IDAgKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcG9zID0gbW92ZUNvbS5wb3M7XHJcbiAgICAgICAgICAgIHBvcy54ICs9IHZlYy54O1xyXG4gICAgICAgICAgICBwb3MueSArPSB2ZWMueTtcclxuICAgICAgICAgICAgdmVjLnggPSAwO1xyXG4gICAgICAgICAgICB2ZWMueSA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBzeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRQb3NVcGRhdGVTeXN0ZW0oKXtcclxuICAgIGlmKCFzeXMpe1xyXG4gICAgICAgIHN5cyA9IG5ldyBQb3NVcGRhdGVTeXN0ZW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzeXM7XHJcbn1cclxuXHJcbmV4cG9ydHtHZXRQb3NVcGRhdGVTeXN0ZW19IiwiaW1wb3J0IHsgZ2V0RW5naW5lIH0gZnJvbSBcIi4vbW9kZWxcIjtcclxuXHJcbnZhciBfZW5naW5lID0gZ2V0RW5naW5lKCk7XHJcblxyXG5mdW5jdGlvbiBsb2FkSW1nKGltZ1NyYywgb25Mb2FkQ2FsbGJhY2spe1xyXG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLnNyYyA9IGltZ1NyYztcclxuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb25Mb2FkQ2FsbGJhY2soaW1nKTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIF9jYWxsYmFjaztcclxudmFyIF9mcmFtZU5vID0gMDtcclxudmFyIF9kdCA9IDA7XHJcbnZhciBfbGFzdCA9IDA7XHJcbnZhciBfaXNFbmQgPSBmYWxzZTtcclxuZnVuY3Rpb24gdGljayh0aW1lc3RhbXApIHtcclxuICAgIF9kdCA9IHRpbWVzdGFtcCAtIF9sYXN0O1xyXG4gICAgX2xhc3QgPSB0aW1lc3RhbXA7XHJcbiAgICBfY2FsbGJhY2soX2R0KTtcclxuICAgIGlmKCFfaXNFbmQpe1xyXG4gICAgICAgIF9mcmFtZU5vID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gUnVuMjIyMihvblVwZGF0ZUNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgX2lzRW5kID0gZmFsc2U7XHJcbiAgICBfY2FsbGJhY2sgPSBvblVwZGF0ZUNhbGxiYWNrO1xyXG4gICAgX2ZyYW1lTm8gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xyXG59XHJcblxyXG4vKipcclxuICogZGVidWdcclxuICovXHJcbnZhciBzdGFydCA9IG51bGw7XHJcbnZhciBsYXN0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbmZ1bmN0aW9uIHJ1blRpY2sob25VcGRhdGVDYWxsYmFjayA9IG51bGwpIHtcclxuICAgIF9pc0VuZCA9IGZhbHNlO1xyXG4gICAgX2NhbGxiYWNrID0gb25VcGRhdGVDYWxsYmFjaztcclxuICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGlmKCFfaXNFbmQpe1xyXG4gICAgICAgICAgICBfY2FsbGJhY2soc3RhcnQgLSBsYXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgfSwgX2VuZ2luZS50aWNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcCgpe1xyXG4gICAgX2lzRW5kID0gdHJ1ZTtcclxufVxyXG5cclxuXHJcbi8v5Zug5Li65oyJ5L2P6ZSu55qE6K+d77yM5Lya5LiN5pat6Kem5Y+Rb25LZXlkb3du77yM5omA5Lul5YGa5LiqbWFw5Yik5patXHJcbnZhciBfa2V5RG93bk1hcCA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gb25LZXlDYWxsYmFjayhrZXlEb3duQ2FsbGJhY2sgPSBudWxsLCBrZXlVcENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgaWYoX2tleURvd25NYXAuZ2V0KGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfa2V5RG93bk1hcC5zZXQoY29kZSwgMSk7XHJcbiAgICAgICAga2V5RG93bkNhbGxiYWNrKGUua2V5Q29kZSk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgX2tleURvd25NYXAuZGVsZXRlKGNvZGUpO1xyXG4gICAgICAgIGtleVVwQ2FsbGJhY2soZS5rZXlDb2RlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE3NjE2MTY5L2FydGljbGUvZGV0YWlscy83MjgzMzA0NFxyXG4gKi9cclxuZnVuY3Rpb24gb25Nb3VzZUNhbGxiYWNrKG1vdXNlZG93bkNhbGxiYWNrID0gbnVsbCwgbW91c2V1cENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBfZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgKiAoY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCk7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgKiAoY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBtb3VzZWRvd25DYWxsYmFjayh4LCB5KTtcclxuICAgIH0pO1xyXG4gICAgX2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAqIChjYW52YXMud2lkdGggLyByZWN0LndpZHRoKTtcclxuICAgICAgICBsZXQgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAqIChjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpO1xyXG4gICAgICAgIG1vdXNldXBDYWxsYmFjayh4LCB5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gX2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhldmVudC54LCBldmVudC55KTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy9fZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZG9Nb3VzZU1vdmUsZmFsc2UpO1xyXG4gICAgLy9fZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixkb01vdXNlT3V0LGZhbHNlKTtcclxufVxyXG5cclxuZXhwb3J0e1xyXG4gICAgbG9hZEltZywgcnVuVGljaywgc3RvcCwgb25LZXlDYWxsYmFjaywgb25Nb3VzZUNhbGxiYWNrXHJcbn0iLCJpbXBvcnQgeyBHZXRBY3Rpb25TeXN0ZW0gfSBmcm9tIFwiLi9hY3Rpb25cIjtcclxuaW1wb3J0IHsgR2V0UmVuZGVyVXBkYXRlU3lzdGVtLCBHZXREcmF3UmVjdFN5c3RlbSB9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5pbXBvcnQgeyBHZXRQb3NVcGRhdGVTeXN0ZW0gfSBmcm9tIFwiLi9tb3ZlXCI7XHJcbmltcG9ydCB7IHJ1blRpY2sgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9lbmdpbmUvaDUvcHJvY2Vzc29yXCI7XHJcbmltcG9ydCB7IFB1c2hUb0xpbmssIE5ld0xpbmssIExpbmtJdGVyYXRvciwgSW5zZXJ0VG9MaW5rIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuXHJcbi8qKlxyXG4gKiDkuLvns7vnu5/liJfooahcclxuICovXHJcbnZhciBsb2dpY1N5c3RlbXMgPSBOZXdMaW5rKCk7XHJcbnZhciByZW5kZXJTeXN0ZW1zID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBpbml0U3lzdGVtcyhkZWJ1ZyA9IGZhbHNlKXtcclxuICAgIEluc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIEdldEFjdGlvblN5c3RlbSgpKTtcclxuICAgIEluc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIEdldFBvc1VwZGF0ZVN5c3RlbSgpKTtcclxuXHJcbiAgICBQdXNoVG9MaW5rKHJlbmRlclN5c3RlbXMsIEdldFJlbmRlclVwZGF0ZVN5c3RlbSgpKTtcclxuICAgIGlmKGRlYnVnKXtcclxuICAgICAgICBQdXNoVG9MaW5rKHJlbmRlclN5c3RlbXMsIEdldERyYXdSZWN0U3lzdGVtKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgbG9naWNUaWNrID0gMTY7ICAgICAvLzYwZnBzXHJcbnZhciByZW5kZXJUaWNrID0gNDE7ICAgIC8vMjRmcHNcclxudmFyIF90MSA9IDA7XHJcbnZhciBfdDIgPSAwO1xyXG5mdW5jdGlvbiBydW5XaXRoU2NlbmUoc2NlbmUpe1xyXG4gICAgTGlua0l0ZXJhdG9yKGxvZ2ljU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICBzeXN0ZW0ub25TdGFydCgpO1xyXG4gICAgfSk7XHJcbiAgICBMaW5rSXRlcmF0b3IocmVuZGVyU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICBzeXN0ZW0ub25TdGFydCgpO1xyXG4gICAgfSk7XHJcbiAgICBzY2VuZS5vblN0YXJ0KCk7XHJcblxyXG4gICAgLy9tYWluIGxvb3BcclxuICAgIHJ1blRpY2soZHQgPT4ge1xyXG4gICAgICAgIF90MSArPSBkdDtcclxuICAgICAgICBpZihfdDEgPj0gbG9naWNUaWNrKXtcclxuICAgICAgICAgICAgX3QxIC09IGxvZ2ljVGljaztcclxuICAgICAgICAgICAgc2NlbmUub25VcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICBMaW5rSXRlcmF0b3IobG9naWNTeXN0ZW1zLCBzeXN0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfdDIgKz0gZHQ7XHJcbiAgICAgICAgaWYoX3QyID49IHJlbmRlclRpY2spe1xyXG4gICAgICAgICAgICBfdDIgLT0gcmVuZGVyVGljaztcclxuICAgICAgICAgICAgTGlua0l0ZXJhdG9yKHJlbmRlclN5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW0ub25VcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkU3lzdGVtKHN5c3RlbSA9IG51bGwpe1xyXG4gICAgaWYoIXN5c3RlbSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgSW5zZXJ0VG9MaW5rKGxvZ2ljU3lzdGVtcywgc3lzdGVtKTtcclxufVxyXG5cclxuZXhwb3J0e2luaXRTeXN0ZW1zLCBydW5XaXRoU2NlbmUsIEFkZFN5c3RlbX0iLCJcclxuIC8qKlxyXG4gICogZ3JpZG1hcOeahOe9keagvOWNleWFg1xyXG4gICovXHJcbmNsYXNzIEdyaWQge1xyXG4gICAgY29uc3RydWN0b3Iocm93SW5kZXggPSAwLCBjb2xJbmRleCA9IDAsIGRhdGEgPSBudWxsKXtcclxuICAgICAgICB0aGlzLnJvd0luZGV4ID0gcm93SW5kZXg7XHJcbiAgICAgICAgdGhpcy5jb2xJbmRleCA9IGNvbEluZGV4O1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7ICAgICAgIC8v5a2Y5YKo55qE5a+56LGhXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnvZHmoLzooahcclxuICogcm93cyA9IOihjOaVsFxyXG4gKiBjb2x1bW5zID0g5YiX5pWwXHJcbiAqIGdyaWRXaWR0aCwgZ3JpZEhlaWdodCA9IOavj+S4que9keagvOeahOWuvemrmOiMg+WbtO+8jOW7uuiurjE6MVxyXG4gKiBcclxuICovXHJcbmNsYXNzIEdyaWRNYXAge1xyXG4gICAgY29uc3RydWN0b3Iocm93cyA9IDAsIGNvbHVtbnMgPSAwLCBncmlkV2lkdGggPSAwLCBncmlkSGVpZ2h0ID0gMCwgZ3JpZHMgPSBudWxsKXtcclxuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XHJcbiAgICAgICAgdGhpcy5ncmlkV2lkdGggPSBncmlkV2lkdGg7XHJcbiAgICAgICAgdGhpcy5ncmlkSGVpZ2h0ID0gZ3JpZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyaWRzID0gZ3JpZHM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0dyaWRNYXAocm93cyA9IDAsIGNvbHVtbnMgPSAwLCBncmlkV2lkdGggPSAwLCBncmlkSGVpZ2h0ID0gMCl7XHJcbiAgICBsZXQgZ3JpZHMgPSBbXTtcclxuICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCByb3dzOyByb3dJbmRleCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IGNvbHVtbnM7IGNvbEluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGdyaWQgPSBuZXcgR3JpZChyb3dJbmRleCwgY29sSW5kZXgpO1xyXG4gICAgICAgICAgICBncmlkcy5wdXNoKGdyaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgR3JpZE1hcChyb3dzLCBjb2x1bW5zLCBncmlkV2lkdGgsIGdyaWRIZWlnaHQsIGdyaWRzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0R3JpZFdpZHRoKGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLmdyaWRXaWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRHcmlkSGVpZ2h0KGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLmdyaWRIZWlnaHQ7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZE1hcFdpZHRoKGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLmNvbHVtbnMgKiBncmlkbWFwLmdyaWRXaWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRHcmlkTWFwSGVpZ2h0KGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLnJvd3MgKiBncmlkbWFwLmdyaWRIZWlnaHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja7kvY3nva7lrprkvY1ncmlkXHJcbiAqIHgsIHnmmK9ncmlkbWFw5bem5LiK6KeS5byA5aeL566XXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRHcmlkKGdyaWRtYXAgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgaWYoIWNoZWNrSW4oZ3JpZG1hcCwgeCwgeSkpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGNvbHVtbiA9IHBhcnNlSW50KHggLyBncmlkbWFwLmdyaWRXaWR0aCk7XHJcbiAgICBsZXQgcm93ID0gcGFyc2VJbnQoeSAvIGdyaWRtYXAuZ3JpZEhlaWdodCk7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5ncmlkc1tyb3cgKiBncmlkbWFwLmNvbHVtbnMgKyBjb2x1bW5dO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0luKGdyaWRtYXAgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgcmV0dXJuIHggPiAwICYmIHggPCBHZXRHcmlkTWFwV2lkdGgoZ3JpZG1hcCkgJiYgeSA+IDAgJiYgeSA8IEdldEdyaWRNYXBIZWlnaHQoZ3JpZG1hcCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEl0ZXJhdG9yR3JpZG1hcChncmlkbWFwID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGdyaWRtYXAuZ3JpZHMuZm9yRWFjaChncmlkID0+IHtcclxuICAgICAgICBjYWxsYmFjayhncmlkKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRHcmlkRGF0YShncmlkbWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIGxldCBncmlkID0gR2V0R3JpZChncmlkbWFwLCB4LCB5KTtcclxuICAgIHJldHVybiBncmlkID8gZ3JpZC5kYXRhIDogbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIE5ld0dyaWRNYXAsIEdldEdyaWRXaWR0aCwgR2V0R3JpZEhlaWdodCwgR2V0R3JpZE1hcFdpZHRoLCBHZXRHcmlkTWFwSGVpZ2h0LCBHZXRHcmlkLCBJdGVyYXRvckdyaWRtYXAsIEdldEdyaWREYXRhXHJcbn0iLCJpbXBvcnQgeyBOZXdQb3MgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnRcIjtcclxuaW1wb3J0IHsgR2V0R3JpZE1hcFdpZHRoLCBHZXRHcmlkTWFwSGVpZ2h0LCBOZXdHcmlkTWFwLCBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ3JpZG1hcFwiO1xyXG5cclxuLyoqXHJcbiAqIDJk55O356CW5Zyw5Zu+77yM55SxR3JpZE1hcOaJqeWxlVxyXG4gKiBzYW1wbGU6XHJcbiAqIFtcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLFxyXG5cdDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIFxyXG5cdDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIFxyXG5dXHJcbiAqL1xyXG5jbGFzcyBUaWxlTWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKGdyaWRtYXAgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgICAgIHRoaXMuZ3JpZG1hcCA9IGdyaWRtYXA7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBOZXdQb3MoeCwgeSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1RpbGVNYXAocm93cyA9IDAsIGNvbHVtbnMgPSAwLCBncmlkV2lkdGggPSAwLCBncmlkSGVpZ2h0ID0gMCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIGxldCBncmlkbWFwID0gTmV3R3JpZE1hcChyb3dzLCBjb2x1bW5zLCBncmlkV2lkdGgsIGdyaWRIZWlnaHQpO1xyXG4gICAgcmV0dXJuIG5ldyBUaWxlTWFwKGdyaWRtYXAsIHgsIHkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICB0aWxlbWFwLnBvcy54IC0gR2V0R3JpZE1hcFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiAwLjUsXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueSAtIEdldEdyaWRNYXBIZWlnaHQodGlsZW1hcC5ncmlkbWFwKSAqIDAuNVxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZW1hcEVuZCh0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnggKyBHZXRHcmlkTWFwV2lkdGgodGlsZW1hcC5ncmlkbWFwKSAqIDAuNSxcclxuICAgICAgICB0aWxlbWFwLnBvcy55ICsgR2V0R3JpZE1hcEhlaWdodCh0aWxlbWFwLmdyaWRtYXApICogMC41XHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRUaWxlbWFwQ2VudGVyKHRpbGVtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3ModGlsZW1hcC5wb3MueCwgdGlsZW1hcC5wb3MueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEdyaWRTdGFydCh0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXApO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgR2V0R3JpZFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLmNvbEluZGV4LFxyXG4gICAgICAgIHN0YXJ0LnkgKyBHZXRHcmlkSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLnJvd0luZGV4XHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRHcmlkRW5kKHRpbGVtYXAgPSBudWxsLCBncmlkID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnQgPSBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyBHZXRHcmlkV2lkdGgodGlsZW1hcC5ncmlkbWFwKSAqIChncmlkLmNvbEluZGV4ICsgMSksXHJcbiAgICAgICAgc3RhcnQueSArIEdldEdyaWRIZWlnaHQodGlsZW1hcC5ncmlkbWFwKSAqIChncmlkLnJvd0luZGV4ICsgMSlcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEdyaWRDZW50ZXIodGlsZW1hcCA9IG51bGwsIGdyaWQgPSBudWxsKXtcclxuICAgIGxldCBzdGFydCA9IEdldFRpbGVtYXBTdGFydCh0aWxlbWFwKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgc3RhcnQueCArIEdldEdyaWRXaWR0aCh0aWxlbWFwLmdyaWRtYXApICogKGdyaWQuY29sSW5kZXggKyAwLjUpLFxyXG4gICAgICAgIHN0YXJ0LnkgKyBHZXRHcmlkSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiAoZ3JpZC5yb3dJbmRleCArIDAuNSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdUaWxlTWFwLCBHZXRUaWxlbWFwU3RhcnQsIEdldFRpbGVtYXBFbmQsIEdldFRpbGVtYXBDZW50ZXIsIFxyXG4gICAgR2V0R3JpZFdpdGhQb3MsIEdldEdyaWRTdGFydCwgR2V0R3JpZEVuZCwgR2V0R3JpZENlbnRlclxyXG59XHJcblxyXG4vKipcclxuICog5om+5Ye65LiOcmVjdOebuOS6pOeahOaJgOaciWdyaWRcclxuICogVE9ETyDmnKrlrprvvIzlj6/og73kuI3pnIDopoHov5nnp43lgZrms5VcclxuICovXHJcbmZ1bmN0aW9uIEdldEdyaWRzQnlSZWN0KHRpbGVNYXAgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAvL+aYr+WQpuWcqHRpbGVtYXDkuK1cclxuICAgIGlmKCFJc1JlY3RDcm9zcyh0aWxlTWFwLnJlY3QsIHJlY3QpKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBncmlkcyA9IFtdO1xyXG4gICAgbGV0IHBvc1N0YXJ0ID0gcmVjdC5wb3NTdGFydDtcclxuICAgIGxldCBjb2x1bW5TdGFydCA9IHBhcnNlSW50KHBvc1N0YXJ0LnggLyB0aWxlTWFwLmdyaWRXaWR0aCk7XHJcbiAgICBsZXQgcm93U3RhcnQgPSBwYXJzZUludChwb3NTdGFydC55IC8gdGlsZU1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIGNvbHVtblN0YXJ0ID0gY29sdW1uU3RhcnQgPCAwID8gMCA6IGNvbHVtblN0YXJ0O1xyXG4gICAgcm93U3RhcnQgPSByb3dTdGFydCA8IDAgPyAwIDogcm93U3RhcnQ7XHJcblxyXG4gICAgbGV0IHBvc0VuZCA9IHJlY3QucG9zRW5kO1xyXG4gICAgbGV0IGNvbHVtbkVuZCA9IHBhcnNlSW50KHBvc0VuZC54IC8gdGlsZU1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvd0VuZCA9IHBhcnNlSW50KHBvc0VuZC55IC8gdGlsZU1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIGNvbHVtbkVuZCA9IGNvbHVtbkVuZCA+IHRpbGVNYXAuY29sdW1ucyAtIDEgPyB0aWxlTWFwLmNvbHVtbnMgLSAxIDogY29sdW1uRW5kO1xyXG4gICAgcm93RW5kID0gcm93RW5kID4gdGlsZU1hcC5yb3dzIC0gMSA/IHRpbGVNYXAucm93cyAtIDEgOiByb3dFbmQ7XHJcblxyXG4gICAgZm9yKGxldCByb3c9cm93U3RhcnQ7IHJvdzw9cm93RW5kOyByb3crKyl7XHJcbiAgICAgICAgZm9yKGxldCBjb2x1bW49Y29sdW1uU3RhcnQ7IGNvbHVtbjw9Y29sdW1uRW5kOyBjb2x1bW4rKyl7XHJcbiAgICAgICAgICAgIGdyaWRzLnB1c2godGlsZU1hcC5ncmlkc1tyb3ddW2NvbHVtbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBncmlkcztcclxufSIsImltcG9ydCB7IENvbGxpZGVyIH0gZnJvbSBcIi4uL2Jhc2VcIjtcclxuaW1wb3J0IHsgUmVtb3ZlQnlLZXlJZCwgUHVzaFRvTGluaywgTmV3TGluayB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcblxyXG5jbGFzcyBHcm91cFBhaXIge1xyXG4gICAgY29uc3RydWN0b3IodHlwZTEgPSAwLCB0ZWFtMSA9IG51bGwsIHR5cGUyID0gMCwgdGVhbTIgPSBudWxsKXtcclxuICAgICAgICB0aGlzLnR5cGUxID0gdHlwZTE7XHJcbiAgICAgICAgdGhpcy50eXBlMiA9IHR5cGUyO1xyXG4gICAgICAgIHRoaXMudGVhbTEgPSB0ZWFtMTtcclxuICAgICAgICB0aGlzLnRlYW0yID0gdGVhbTI7XHJcbiAgICAgICAgdGhpcy5tYXNrID0gdHlwZTEgfCB0eXBlMjtcclxuICAgICAgICB0aGlzLmlkID0gdGhpcy5tYXNrICAgICAvL2xpbmsgdXNlXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciB0ZWFtcyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gZ2V0VGVhbSh0eXBlID0gMCl7XHJcbiAgICBsZXQgdGVhbSA9IHRlYW1zLmdldCh0eXBlKTtcclxuICAgIGlmKCF0ZWFtKXtcclxuICAgICAgICB0ZWFtID0gbmV3IExpbmsoKTtcclxuICAgICAgICB0ZWFtcy5zZXQodHlwZSwgdGVhbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGVhbTtcclxufVxyXG5mdW5jdGlvbiBhZGRUb1RlYW0odHlwZSA9IDAsIGNvbGxpZGVyKXtcclxuICAgIGxldCB0ZWFtID0gZ2V0VGVhbSh0eXBlKTtcclxuICAgIFB1c2hUb0xpbmsodGVhbSwgY29sbGlkZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRHcm91cENvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDAsIHR5cGUgPSAwKSB7XHJcbiAgICBsZXQgY29sbGlkZXIgPSBuZXcgQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICBhZGRUb1RlYW0odHlwZSwgY29sbGlkZXIpO1xyXG4gICAgcmV0dXJuIGNvbGxpZGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVHcm91cENvbGxpZGVyKGNvbGxpZGVySWQgPSAwLCB0eXBlID0gMCkge1xyXG4gICAgbGV0IHRlYW0gPSBnZXRUZWFtKHR5cGUpO1xyXG4gICAgUmVtb3ZlQnlLZXlJZCh0ZWFtLCBjb2xsaWRlcklkKTtcclxufVxyXG5cclxudmFyIHBhaXJzID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRHcm91cFBhaXJMaXN0KCl7XHJcbiAgICByZXR1cm4gcGFpcnNcclxufVxyXG5mdW5jdGlvbiBBZGRHcm91cFBhaXIodHlwZTEgPSAwLCB0eXBlMiA9IDApe1xyXG4gICAgbGV0IHRlYW0xID0gZ2V0VGVhbSh0eXBlMSk7XHJcbiAgICBsZXQgdGVhbTIgPSBnZXRUZWFtKHR5cGUyKTtcclxuICAgIGxldCBwYWlyID0gbmV3IEdyb3VwUGFpcih0eXBlMSwgdGVhbTEsIHR5cGUyLCB0ZWFtMik7XHJcbiAgICBQdXNoVG9MaW5rKHBhaXJzLCBwYWlyKTtcclxuICAgIHJldHVybiBwYWlyO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IHtHZXRBbGxHcm91cENvbGxpZGVyTGlzdCwgQWRkR3JvdXBDb2xsaWRlciwgUmVtb3ZlR3JvdXBDb2xsaWRlciwgR2V0R3JvdXBDb2xsaWRlckJ5RW50aXR5SWQsIEdldEdyb3VwUGFpckxpc3QsIEFkZEdyb3VwUGFpcn0iLCJpbXBvcnQgeyBHZXRHcm91cFBhaXJMaXN0IH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgQ29sbGlkZXJTeXN0ZW0gfSBmcm9tIFwiLi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBMaW5rSXRlcmF0b3IsIExpbmtDb21wYXJlIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuXHJcbi8v5YiG57uE56Kw5pKe5qOA5rWL57O757ufXHJcbmNsYXNzIEdyb3VwQ29sbGlkZXJTeXN0ZW0gZXh0ZW5kcyBDb2xsaWRlclN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKGNhbGxiYWNrKVxyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0R3JvdXBQYWlyTGlzdCgpLCBwYWlyID0+IHtcclxuICAgICAgICAgICAgaWYocGFpci5tYXNrID09IHBhaXIudHlwZTEpe1xyXG4gICAgICAgICAgICAgICAgLy9vbmUgdGVhbVxyXG4gICAgICAgICAgICAgICAgTGlua0NvbXBhcmUocGFpci50ZWFtMSwgKGNvbGxpZGVyMSwgY29sbGlkZXIyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuY2hlY2soZHQsIGNvbGxpZGVyMSwgY29sbGlkZXIyLCBwYWlyLnR5cGUxLCBwYWlyLnR5cGUyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vdHdvIHRlYW1cclxuICAgICAgICAgICAgICAgIExpbmtJdGVyYXRvcihwYWlyLnRlYW0xLCBjb2xsaWRlcjEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIExpbmtJdGVyYXRvcihwYWlyLnRlYW0yLCBjb2xsaWRlcjIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBlci5jaGVjayhkdCwgY29sbGlkZXIxLCBjb2xsaWRlcjIsIHBhaXIudHlwZTEsIHBhaXIudHlwZTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgc3lzID0gbnVsbDtcclxuZnVuY3Rpb24gR2V0R3JvdXBDb2xsaWRlclN5c3RlbShjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgaWYoIXN5cyl7XHJcbiAgICAgICAgc3lzID0gbmV3IEdyb3VwQ29sbGlkZXJTeXN0ZW0oY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN5cztcclxufVxyXG5cclxuZXhwb3J0e0dldEdyb3VwQ29sbGlkZXJTeXN0ZW19IiwiaW1wb3J0IHsgQ29sbGlkZXIgfSBmcm9tIFwiLi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBQdXNoVG9MaW5rLCBSZW1vdmVCeUtleUlkLCBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuXHJcbmNsYXNzIEJvZHlDb2xsaWRlciBleHRlbmRzIENvbGxpZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDApe1xyXG4gICAgICAgIHN1cGVyKGVudGl0eUlkLCByZWN0LCB0YWcpO1xyXG4gICAgICAgIHRoaXMubGluZSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBib2R5Q29sbGlkZXJMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRCb2R5Q29sbGlkZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gYm9keUNvbGxpZGVyTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkQm9keUNvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDApe1xyXG4gICAgbGV0IGMgPSBuZXcgQm9keUNvbGxpZGVyKGVudGl0eUlkLCByZWN0KTtcclxuICAgIFB1c2hUb0xpbmsoYm9keUNvbGxpZGVyTGlzdCwgYyk7XHJcbiAgICByZXR1cm4gYztcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlQm9keUNvbGxpZGVyKGNvbGxpZGVySWQgPSAwKXtcclxuICAgIFJlbW92ZUJ5S2V5SWQoYm9keUNvbGxpZGVyTGlzdCwgY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcblxyXG52YXIgYmxvY2tDb2xsaWRlckxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldEJsb2NrQ29sbGlkZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gYmxvY2tDb2xsaWRlckxpc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZEJsb2NrQ29sbGlkZXIoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCl7XHJcbiAgICBsZXQgYyA9IG5ldyBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgIFB1c2hUb0xpbmsoYmxvY2tDb2xsaWRlckxpc3QsIGMpO1xyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZUJsb2NrQ29sbGlkZXIoY29sbGlkZXJJZCA9IDApe1xyXG4gICAgUmVtb3ZlQnlLZXlJZChibG9ja0NvbGxpZGVyTGlzdCwgY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0Qm9keUNvbGxpZGVyTGlzdCwgQWRkQm9keUNvbGxpZGVyLCBSZW1vdmVCb2R5Q29sbGlkZXIsIEdldEJsb2NrQ29sbGlkZXJMaXN0LCBBZGRCbG9ja0NvbGxpZGVyLCBSZW1vdmVCbG9ja0NvbGxpZGVyfSIsImltcG9ydCB7IENvbGxpZGVyIH0gZnJvbSAnLi4vYmFzZSc7XHJcbmltcG9ydCB7IE5ld0xpbmssIFB1c2hUb0xpbmssIFJlbW92ZUJ5S2V5SWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rJztcclxuXHJcbnZhciBjb2xsaWRlckxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldE5vcm1hbENvbGxpZGVyTGlzdCgpe1xyXG4gICAgcmV0dXJuIGNvbGxpZGVyTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkTm9ybWFsQ29sbGlkZXIoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCkge1xyXG4gICAgbGV0IGMgPSBuZXcgQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICBQdXNoVG9MaW5rKGNvbGxpZGVyTGlzdCwgYyk7XHJcbiAgICByZXR1cm4gYztcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlTm9ybWFsQ29sbGlkZXIoY29sbGlkZXJJZCA9IDApIHtcclxuICAgIFJlbW92ZUJ5S2V5SWQoY29sbGlkZXJMaXN0LCBjb2xsaWRlcklkKTtcclxufVxyXG5cclxuZXhwb3J0e0dldE5vcm1hbENvbGxpZGVyTGlzdCwgQWRkTm9ybWFsQ29sbGlkZXIsIFJlbW92ZU5vcm1hbENvbGxpZGVyfSIsImltcG9ydCB7IEZpeFVuaXRQb3MsIElzUmVjdHNDcm9zcywgRml4VW5pdFZlYywgSXNSZWN0c0Nyb3NzV2l0aFZlYyB9IGZyb20gXCIuLi8uLi9wb3MvcmVjdC91dGlsc1wiO1xyXG5pbXBvcnQgeyBHZXRBcmVhLCBHZXRSZWN0V2lkdGgsIEdldFJlY3RIZWlnaHQsIEdldFJlY3RIYWxmSGVpZ2h0LCBHZXRSZWN0SGFsZldpZHRoIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3JlY3RcIjtcclxuaW1wb3J0IHsgR2V0UmVjdFBvc0NlbnRlciwgR2V0UmVjdFBvc1N0YXJ0LCBHZXRSZWN0UG9zRW5kLCBHZXRSZWN0VW5pdFBvcyB9IGZyb20gXCIuLi8uLi9wb3MvcmVjdC9jb21wb25lbnRcIjtcclxuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjc1wiO1xyXG5pbXBvcnQgeyBMaW5rSXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5pbXBvcnQgeyBHZXRCb2R5Q29sbGlkZXJMaXN0LCBHZXRCbG9ja0NvbGxpZGVyTGlzdCB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEdldFZlYyB9IGZyb20gXCIuLi8uLi9wb3MvdXRpbHNcIjtcclxuaW1wb3J0IHsgTmV3UG9zIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3BvaW50XCI7XHJcbmltcG9ydCB7IEFicywgTWF4LCBNaW4gfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvbWF0aFwiO1xyXG5cclxuLyoqXHJcbiAqIOeugOaYk+aWueahiOaehOaDs++8jOebruWJjeacuuWItu+8mlxyXG4gKiAgICAgIGJvZHnlv4XpobvmmK/np7vliqjkuK3nmoTvvIzkuJTlkoxibG9ja+eisOaSnuS6hlxyXG4gKiAgICAgIOS7pXZlY+S4uuS+neaNru+8jOehruWumuacgOWkp+a0u+WKqOiMg+WbtFxyXG4gKiAgICAgIOiLpeS4gOi+ueiiq+aUtueqhO+8jOi/mOWOn+WPpuS4gOi+ueeahOa0u+WKqFxyXG4gKi9cclxuY2xhc3MgQm94Q29sbGlkZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcig5MDApO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0Qm9keUNvbGxpZGVyTGlzdCgpLCBib2R5ID0+IHtcclxuICAgICAgICAgICAgaWYoIWJvZHlCZWZvcmUoYm9keSkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIExpbmtJdGVyYXRvcihHZXRCbG9ja0NvbGxpZGVyTGlzdCgpLCBibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2dpYyhib2R5LCBibG9jayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBib2R5QWZ0ZXIoYm9keSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBib3hDb2xsaWRlclN5cyA9IG51bGxcclxuZnVuY3Rpb24gR2V0Qm94Q29sbGlkZXJTeXN0ZW0oY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFib3hDb2xsaWRlclN5cyl7XHJcbiAgICAgICAgYm94Q29sbGlkZXJTeXMgPSBuZXcgQm94Q29sbGlkZXJTeXN0ZW0oY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJveENvbGxpZGVyU3lzO1xyXG59XHJcblxyXG52YXIgYm9keVggPSAwO1xyXG52YXIgYm9keVkgPSAwO1xyXG52YXIgbWluWCA9IDA7XHJcbnZhciBtYXhYID0gMDtcclxudmFyIG1pblkgPSAwO1xyXG52YXIgbWF4WSA9IDA7XHJcbnZhciBib2R5U3RhcnQgPSBudWxsO1xyXG52YXIgYm9keUVuZCA9IG51bGw7XHJcbnZhciBibG9ja1N0YXJ0ID0gbnVsbDtcclxudmFyIGJsb2NrRW5kID0gbnVsbDtcclxudmFyIHVuaXRWZWMgPSBudWxsO1xyXG52YXIgYm9keUhhbGZXaWR0aCA9IDA7XHJcbnZhciBib2R5SGFsZkhlaWdodCA9IDA7XHJcblxyXG4vKipcclxuICog5YmN572u5aSE55CG77yM5Li05pe25Y+Y6YeP6LWL5YC877yM5Lul5YWN6YeN5aSN6K6h566XXHJcbiAqL1xyXG5mdW5jdGlvbiBib2R5QmVmb3JlKGJvZHlDb2xsaWRlciA9IG51bGwpe1xyXG4gICAgdW5pdFZlYyA9IEdldFZlYyhib2R5Q29sbGlkZXIuZW50aXR5SWQpO1xyXG4gICAgaWYodW5pdFZlYy54ID09IDAgJiYgdW5pdFZlYy55ID09IDApe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGJvZHlIYWxmV2lkdGggPSBHZXRSZWN0SGFsZldpZHRoKGJvZHlDb2xsaWRlci5yZWN0LnJlY3QpO1xyXG4gICAgYm9keUhhbGZIZWlnaHQgPSBHZXRSZWN0SGFsZkhlaWdodChib2R5Q29sbGlkZXIucmVjdC5yZWN0KTtcclxuXHJcbiAgICBib2R5U3RhcnQgPSBHZXRSZWN0UG9zU3RhcnQoYm9keUNvbGxpZGVyLnJlY3QpO1xyXG4gICAgYm9keUVuZCA9IEdldFJlY3RQb3NFbmQoYm9keUNvbGxpZGVyLnJlY3QpO1xyXG4gICAgbWluWCA9IGJvZHlFbmQueCArIHVuaXRWZWMueDtcclxuICAgIG1heFggPSBib2R5U3RhcnQueCArIHVuaXRWZWMueDtcclxuICAgIG1pblkgPSBib2R5RW5kLnkgKyB1bml0VmVjLnk7XHJcbiAgICBtYXhZID0gYm9keVN0YXJ0LnkgKyB1bml0VmVjLnk7XHJcblxyXG4gICAgbGV0IHAgPSBHZXRSZWN0UG9zQ2VudGVyKGJvZHlDb2xsaWRlci5yZWN0KTtcclxuICAgIGJvZHlYID0gcC54ICsgdW5pdFZlYy54O1xyXG4gICAgYm9keVkgPSBwLnkgKyB1bml0VmVjLnk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9naWMoYm9keUNvbGxpZGVyID0gbnVsbCwgYmxvY2tDb2xsaWRlciA9IG51bGwpe1xyXG4gICAgaWYoIUlzUmVjdHNDcm9zc1dpdGhWZWMoYm9keUNvbGxpZGVyLnJlY3QsIGJsb2NrQ29sbGlkZXIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGJsb2NrU3RhcnQgPSBHZXRSZWN0UG9zU3RhcnQoYmxvY2tDb2xsaWRlci5yZWN0KTtcclxuICAgIGJsb2NrRW5kID0gR2V0UmVjdFBvc0VuZChibG9ja0NvbGxpZGVyLnJlY3QpO1xyXG4gICAgaXNMUigpIHx8IGlzVUQoKTtcclxufVxyXG5cclxuLy/lj6/ku6Xlrp7plKTnmoTlt6blj7PlhbPns7tcclxuZnVuY3Rpb24gaXNMUigpe1xyXG4gICAgaWYodW5pdFZlYy54ID09IDApe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8v5qOA5p+l57q16L655pyJ5pWI5oCn77yM6Lip57q/5LiN566XXHJcbiAgICBsZXQgbWF4WTEgPSBNYXgoYm9keVN0YXJ0LnksIGJsb2NrU3RhcnQueSk7XHJcbiAgICBsZXQgbWluWTIgPSBNaW4oYm9keUVuZC55LCBibG9ja0VuZC55KTtcclxuICAgIGlmKG1pblkyIDw9IG1heFkxKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvL+iuoeeul3jmnIDmlrDmtLvliqjojIPlm7TvvIjmnIDnn63ot53nprvvvIlcclxuICAgIGlmKHVuaXRWZWMueCA+IDApe1xyXG4gICAgICAgIGlmKGJsb2NrU3RhcnQueCA8IG1pblgpe1xyXG4gICAgICAgICAgICBtaW5YID0gYmxvY2tTdGFydC54O1xyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIGlmKGJsb2NrRW5kLnggPiBtYXhYKXtcclxuICAgICAgICAgICAgbWF4WCA9IGJsb2NrRW5kLng7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8v5Y+v5Lul5a6e6ZSk55qE5LiK5LiL5YWz57O7XHJcbmZ1bmN0aW9uIGlzVUQoKXtcclxuICAgIGlmKHVuaXRWZWMueSA9PSAwKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvL+ajgOafpeaoqui+ueacieaViOaAp++8jOi4qee6v+S4jeeul1xyXG4gICAgbGV0IG1heFgxID0gTWF4KGJvZHlTdGFydC54LCBibG9ja1N0YXJ0LngpO1xyXG4gICAgbGV0IG1pblgyID0gTWluKGJvZHlFbmQueCwgYmxvY2tFbmQueCk7XHJcbiAgICBpZihtaW5YMiA8PSBtYXhYMSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/orqHnrpd45pyA5paw5rS75Yqo6IyD5Zu077yI5pyA55+t6Led56a777yJXHJcbiAgICBpZih1bml0VmVjLnkgPiAwKXtcclxuICAgICAgICBpZihibG9ja1N0YXJ0LnkgPCBtaW5ZKXtcclxuICAgICAgICAgICAgbWluWSA9IGJsb2NrU3RhcnQueTtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpZihibG9ja0VuZC55ID4gbWF4WSl7XHJcbiAgICAgICAgICAgIG1heFkgPSBibG9ja0VuZC55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBib2R5QWZ0ZXIoYm9keUNvbGxpZGVyID0gbnVsbCkge1xyXG4gICAgbGV0IHggPSAwO1xyXG4gICAgaWYodW5pdFZlYy54ID4gMCl7XHJcbiAgICAgICAgeCA9IG1pblggLSBib2R5SGFsZldpZHRoO1xyXG4gICAgfWVsc2UgaWYodW5pdFZlYy54IDwgMCl7XHJcbiAgICAgICAgeCA9IG1heFggKyBib2R5SGFsZldpZHRoO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgeCA9IGJvZHlYO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB5ID0gMDtcclxuICAgIGlmKHVuaXRWZWMueSA+IDApe1xyXG4gICAgICAgIHkgPSBtaW5ZIC0gYm9keUhhbGZIZWlnaHQ7XHJcbiAgICB9ZWxzZSBpZih1bml0VmVjLnkgPCAwKXtcclxuICAgICAgICB5ID0gbWF4WSArIGJvZHlIYWxmSGVpZ2h0O1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgeSA9IGJvZHlZO1xyXG4gICAgfVxyXG4gICAgRml4VW5pdFZlYyhib2R5Q29sbGlkZXIucmVjdCwgeCwgeSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0Qm94Q29sbGlkZXJTeXN0ZW19IiwiaW1wb3J0IHsgR2V0R3JvdXBDb2xsaWRlclN5c3RlbSB9IGZyb20gJy4vZ3JvdXAvc3lzdGVtJztcclxuaW1wb3J0IHsgQWRkR3JvdXBQYWlyLCBBZGRHcm91cENvbGxpZGVyLCBSZW1vdmVHcm91cENvbGxpZGVyIH0gZnJvbSAnLi9ncm91cC91dGlscyc7XHJcbmltcG9ydCB7IEFkZEJvZHlDb2xsaWRlciwgQWRkQmxvY2tDb2xsaWRlciwgUmVtb3ZlQm9keUNvbGxpZGVyLCBSZW1vdmVCbG9ja0NvbGxpZGVyIH0gZnJvbSAnLi9ib3gvdXRpbHMnO1xyXG5pbXBvcnQgeyBBZGROb3JtYWxDb2xsaWRlciwgUmVtb3ZlTm9ybWFsQ29sbGlkZXIgfSBmcm9tICcuL25vcm1hbC91dGlscyc7XHJcbmltcG9ydCB7IEFkZFN5c3RlbSB9IGZyb20gJy4uLy4uL2RpcmVjdG9yL3N5c3RlbS9ydW4nO1xyXG5pbXBvcnQgeyBHZXRCb3hDb2xsaWRlclN5c3RlbSB9IGZyb20gJy4vYm94Mi9zeXN0ZW0nO1xyXG5cclxuLyoqXHJcbiAqIOWQr+eUqOeisOaSnuajgOa1i+acuuWItlxyXG4gKiB7XHJcbiAqICAgICAgdXNlR3JvdXAgOiB0cnVlXHJcbiAqICAgICAgcGFpcnMgOiBbWzEsIDJdLCBbMiwgNF0sIFsxLCA4XS4uLl1cclxuICogICAgICB1c2VCb3ggOiB0cnVlXHJcbiAqIH1cclxuICogY2FsbGJhY2sgOiBjYWxsYmFjayA9IGZ1bmN0aW9uKGR0LCBjb2xsaWRlcjEsIGNvbGxpZGVyMilcclxuICovXHJcbnZhciBjZmcgPSB7XHJcbiAgICB1c2VHcm91cCA6IGZhbHNlLFxyXG4gICAgcGFpcnMgOiBbXSxcclxuICAgIHVzZUJveCA6IGZhbHNlLFxyXG4gICAgY2FsbGJhY2sgOiBudWxsLFxyXG4gICAgc3lzTGlzdCA6IFtdXHJcbn07XHJcblxyXG5mdW5jdGlvbiBPcGVuQ29sbGlkZXIob3B0aW9ucyA9IG51bGwpe1xyXG4gICAgY2ZnLnVzZUdyb3VwID0gb3B0aW9ucy51c2VHcm91cCA/IG9wdGlvbnMudXNlR3JvdXAgOiBjZmcudXNlR3JvdXA7XHJcbiAgICBjZmcucGFpcnMgPSBvcHRpb25zLnBhaXJzID8gb3B0aW9ucy5wYWlycyA6IGNmZy5wYWlycztcclxuICAgIGNmZy51c2VCb3ggPSBvcHRpb25zLnVzZUJveCA/IG9wdGlvbnMudXNlQm94IDogY2ZnLnVzZUJveDtcclxuICAgIGNmZy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2s7XHJcblxyXG4gICAgaWYoY2ZnLnVzZUJveCl7XHJcbiAgICAgICAgY2ZnLnN5c0xpc3QucHVzaChHZXRCb3hDb2xsaWRlclN5c3RlbShvcHRpb25zLmNhbGxiYWNrKSk7XHJcbiAgICB9XHJcbiAgICBpZihjZmcudXNlR3JvdXApe1xyXG4gICAgICAgIGNmZy5zeXNMaXN0LnB1c2goR2V0R3JvdXBDb2xsaWRlclN5c3RlbShvcHRpb25zLmNhbGxiYWNrKSk7XHJcbiAgICAgICAgY2ZnLnBhaXJzLmZvckVhY2gocGFpciA9PiB7XHJcbiAgICAgICAgICAgIEFkZEdyb3VwUGFpcihwYWlyWzBdLCBwYWlyWzFdKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vY2ZnLnN5c0xpc3QucHVzaChHZXROb3JtYWxDb2xsaWRlclN5c3RlbShvcHRpb25zLmNhbGxiYWNrKSk7XHJcbiAgICBjZmcuc3lzTGlzdC5mb3JFYWNoKHN5cyA9PiB7XHJcbiAgICAgICAgQWRkU3lzdGVtKHN5cyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFkZENvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDAsIGdyb3VwID0gMCwgaXNCb2R5ID0gZmFsc2UsIGlzQmxvY2sgPSBmYWxzZSkge1xyXG4gICAgaWYoY2ZnLnVzZUJveCl7XHJcbiAgICAgICAgaWYoaXNCb2R5KXtcclxuICAgICAgICAgICAgcmV0dXJuIEFkZEJvZHlDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihpc0Jsb2NrKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFkZEJsb2NrQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYoY2ZnLnVzZUdyb3VwKXtcclxuICAgICAgICByZXR1cm4gQWRkR3JvdXBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnLCBncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQWRkTm9ybWFsQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBSZW1vdmVDb2xsaWRlcihjb2xsaWRlcklkID0gMCwgZ3JvdXAgPSAwLCBpc0JvZHkgPSBmYWxzZSwgaXNCbG9jayA9IGZhbHNlKSB7XHJcbiAgICBpZihncm91cCA+IDApe1xyXG4gICAgICAgIFJlbW92ZUdyb3VwQ29sbGlkZXIoY29sbGlkZXJJZCwgZ3JvdXApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmKGlzQm9keSl7XHJcbiAgICAgICAgUmVtb3ZlQm9keUNvbGxpZGVyKGNvbGxpZGVySWQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmKGlzQmxvY2spe1xyXG4gICAgICAgIFJlbW92ZUJsb2NrQ29sbGlkZXIoY29sbGlkZXJJZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgUmVtb3ZlTm9ybWFsQ29sbGlkZXIoY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7T3BlbkNvbGxpZGVyLCBBZGRDb2xsaWRlciwgUmVtb3ZlQ29sbGlkZXJ9IiwiaW1wb3J0IHsgaW5pdFN5c3RlbXMgfSBmcm9tIFwiLi4vc3lzdGVtL3J1blwiO1xyXG5pbXBvcnQgeyBpbml0Q2FudmFzIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZW5naW5lL2g1L21vZGVsXCI7XHJcbmltcG9ydCB7IG9uS2V5Q2FsbGJhY2ssIG9uTW91c2VDYWxsYmFjayB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2VuZ2luZS9oNS9wcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgTmV3Q2FtZXJhIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9jYW1lcmEvdXRpbHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVGlsZU1hcFdpdGhEYXRhIH0gZnJvbSBcIi4vYWRhcHRlclwiO1xyXG5pbXBvcnQgeyBPcGVuQ29sbGlkZXIgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NvbGxpZGUvdXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDpgJrov4flj4LmlbDphY3nva7liJ3lp4vljJbns7vnu5/otYTmupBcclxuICovXHJcbmZ1bmN0aW9uIGluaXRHYW1lKG9wdGlvbnMgPSBudWxsKSB7XHJcblxyXG4gICAgLy/lvJXmk47liJ3lp4vljJZcclxuICAgIGluaXRDYW52YXMob3B0aW9ucy5zY3JlZW4ud2lkdGgsIG9wdGlvbnMuc2NyZWVuLmhlaWdodCwgb3B0aW9ucy5mcHMpO1xyXG5cclxuICAgIC8v5rOo5YaM5oyJ6ZSu5Zue6LCDXHJcbiAgICBpZihvcHRpb25zLmtleURvd25IYW5kbGVyICYmIG9wdGlvbnMua2V5VXBIYW5sZXIpe1xyXG4gICAgICAgIG9uS2V5Q2FsbGJhY2sob3B0aW9ucy5rZXlEb3duSGFuZGxlciwgb3B0aW9ucy5rZXlVcEhhbmxlcik7XHJcbiAgICB9XHJcbiAgICBpZihvcHRpb25zLm1vdXNlZG93bkhhbmRsZXIgJiYgb3B0aW9ucy5tb3VzZXVwSGFuZGxlcil7XHJcbiAgICAgICAgb25Nb3VzZUNhbGxiYWNrKG9wdGlvbnMubW91c2Vkb3duSGFuZGxlciwgb3B0aW9ucy5tb3VzZXVwSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGluaXRDYW1lcmEob3B0aW9ucy5jYW1lcmEsIG9wdGlvbnMuc2NyZWVuKTtcclxuICAgIGluaXRTeXN0ZW1zKG9wdGlvbnMuZGVidWcpO1xyXG5cclxuICAgIC8v55O356CW5Zyw5Zu+77yM6Iie5Y+wXHJcbiAgICBpZihvcHRpb25zLnRpbGVtYXApe1xyXG4gICAgICAgIGluaXRUaWxlKG9wdGlvbnMudGlsZW1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lvIDlkK/norDmkp7ns7vnu59cclxuICAgIGlmKG9wdGlvbnMuY29sbGlkZSl7XHJcbiAgICAgICAgT3BlbkNvbGxpZGVyKG9wdGlvbnMuY29sbGlkZSk7XHJcblxyXG4gICAgICAgIC8vIGlmKG9wdGlvbnMudXNlVGlsZUNvbWJpbmUpe1xyXG4gICAgICAgIC8vICAgICBsZXQgcmVzdWx0Tm9kZXMgPSBDcmVhdGVDb21iaW5lTm9kZXModGlsZW1hcCwgY29sbGlkZS5ib3hIYW5kbGVyKTtcclxuICAgICAgICAvLyAgICAgcmVzdWx0Tm9kZXMuZm9yRWFjaChyZXN1bHQgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgY29sbGlkZS5sb2FkQ2FsbGJhY2socmVzdWx0LnZhbHVlLCByZXN1bHQucmVjdCk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaRhOWDj+acuu+8jOWFqOWxgOWNleS+i1xyXG4gKi9cclxudmFyIGNhbWVyYSA9IG51bGw7XHJcbmZ1bmN0aW9uIGluaXRDYW1lcmEoY2FtZXJhRGF0YSA9IG51bGwsIHNjcmVlbkRhdGEgPSBudWxsKXtcclxuICAgIGxldCB3aWR0aCA9IGNhbWVyYURhdGEud2lkdGggPyBjYW1lcmFEYXRhLndpZHRoIDogc2NyZWVuRGF0YS53aWR0aDtcclxuICAgIGxldCBoZWlnaHQgPSBjYW1lcmFEYXRhLmhlaWdodCA/IGNhbWVyYURhdGEuaGVpZ2h0IDogc2NyZWVuRGF0YS5oZWlnaHQ7XHJcbiAgICBjYW1lcmEgPSBOZXdDYW1lcmEoY2FtZXJhRGF0YS54LCBjYW1lcmFEYXRhLnksIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcbmZ1bmN0aW9uIEdldENhbWVyYSgpe1xyXG4gICAgcmV0dXJuIGNhbWVyYTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnk7fnoJblnLDlm77vvIzoiJ7lj7DvvIzlhajlsYDljZXkvotcclxuICovXHJcbnZhciB0aWxlbWFwID0gbnVsbDtcclxuZnVuY3Rpb24gaW5pdFRpbGUodGlsZW1hcERhdGEgPSBudWxsKXtcclxuICAgIHRpbGVtYXAgPSBjcmVhdGVUaWxlTWFwV2l0aERhdGEodGlsZW1hcERhdGEsIHRpbGVtYXBEYXRhLmluaXRIYW5kbGVyKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUaWxlbWFwKCl7XHJcbiAgICByZXR1cm4gdGlsZW1hcDtcclxufVxyXG5cclxuZXhwb3J0e2luaXRHYW1lLCBpbml0Q2FtZXJhLCBHZXRDYW1lcmEsIGluaXRUaWxlLCBnZXRUaWxlbWFwfSIsImltcG9ydCB7IGNyZWF0ZVNwcml0ZUZyYW1lLCBnZXRTcHJpdGVGcmFtZUJ5TmFtZSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZVwiO1xyXG5pbXBvcnQgeyBOZXdDYW1lcmEgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NhbWVyYS91dGlsc1wiO1xyXG5pbXBvcnQgeyBDcmVhdGVBbmltYXRlRnJhbWUsIENyZWF0ZUFuaW1hdGVBY3Rpb24gfSBmcm9tIFwiLi4vLi4vYWN0aW9uL2FuaW1hdGVcIjtcclxuaW1wb3J0IHsgTmV3VGlsZU1hcCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnQvdGlsZS90aWxlbWFwXCI7XHJcbmltcG9ydCB7IEl0ZXJhdG9yR3JpZG1hcCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9ncmlkbWFwXCI7XHJcblxyXG4vKipcclxuICog5Yib5bu657K+54G15binXHJcbiAqIHRleHR1cmVBcmVhRGF0YSA9IHtcclxuICogIHggOiAwLFxyXG4gKiAgeSA6IDAsXHJcbiAqICB3aWR0aCA6IDAsXHJcbiAqICBoZWlnaHQgOiAwXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEobmFtZSA9IFwiXCIsIGJpdG1hcERhdGEgPSBudWxsLCB0ZXh0dXJlQXJlYURhdGEgPSBudWxsKXtcclxuICAgIGlmKG5hbWU9PVwiXCIgfHwgIWJpdG1hcERhdGEgfHwgIXRleHR1cmVBcmVhRGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgd2lkdGggPSB0ZXh0dXJlQXJlYURhdGFbJ3dpZHRoJ107XHJcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZUFyZWFEYXRhWydoZWlnaHQnXTtcclxuICAgIGlmKCF3aWR0aCB8fCAhaGVpZ2h0KXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVTcHJpdGVGcmFtZShuYW1lLCBiaXRtYXBEYXRhLCB0ZXh0dXJlQXJlYURhdGFbJ3gnXSwgdGV4dHVyZUFyZWFEYXRhWyd5J10sIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG4vKipcclxuICogc2NyZWVuT3B0aW9ucyA9IHtcclxuICogICAgICB4IDogMCwgeSA6IDAsIHdpZHRoIDogMCwgaGVpZ2h0IDogMFxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDYW1lcmFXaXRoRGF0YShzY3JlZW5PcHRpb25zID0gbnVsbCl7XHJcbiAgICBpZighc2NyZWVuT3B0aW9ucyl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgd2lkdGggPSBzY3JlZW5PcHRpb25zWyd3aWR0aCddO1xyXG4gICAgbGV0IGhlaWdodCA9IHNjcmVlbk9wdGlvbnNbJ2hlaWdodCddO1xyXG4gICAgaWYoIXdpZHRoIHx8ICFoZWlnaHQpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5ld0NhbWVyYShcclxuICAgICAgICBzY3JlZW5PcHRpb25zWyd4J10sIHNjcmVlbk9wdGlvbnNbJ3knXSxcclxuICAgICAgICB3aWR0aCwgaGVpZ2h0XHJcbiAgICApO1xyXG59XHJcblxyXG4vKipcclxuICogdGlsZW1hcOS7peWPimdyaWTnmoRyZWN0LCBwb3PlhbPns7tcclxuICogdGlsZW1hcOeahOebuOWvueWdkOagh+aYrygwLCAwKe+8jOWNs+W3puS4iuinklxyXG4gKiBncmlk55qE5Z2Q5qCH5pivZ3JpZOefqeW9ouS4remXtFxyXG4gKiDkvovlpoLvvJp0aWxlbWFwLnBvcy54ID0gMjAsIGdyaWRXaWR0aCA9IDUwLCBjb2x1bW4gPSA1O1xyXG4gKiDpgqPkuYhncmlkWzBd55qEcG9zLng9IDIwICsgMCo1MCArIDUwLzIgPSA0NSwgcG9zU3RhcnQueCA9IDQ1IC0gNTAvMiA9IDIwXHJcbiAqIOWQjOeQhmdyaWRbNF3nmoRwb3MueD0gMjAgKyA0KjUwICsgNTAvMiA9IDI0NSwgcG9zU3RhcnQueCA9IDI0NSAtIDUwLzIgPSAyMjBcclxuICogXHJcbiAqIG9wdGlvbnM6e1xyXG4gKiAgICAgIGRhdGEgOiBbICAgICAgICAgICAgICAgIOS4gOe7tOaVsOe7hFxyXG4gKiAgICAgICAgICAxLCAxLCAxLCAwLCAwLCAxLFxyXG4gKiAgICAgICAgICAyLCAxLCAwLCAwLCAxLCAyLFxyXG4gKiAgICAgICAgICAyLCAyLCAxLCAxLCAxLCAxXHJcbiAqICAgICAgICAgIF1cclxuICogICAgICBjb2x1bW5zIDogNiAgICAg5YiX5pWwXHJcbiAqICAgICAgZ3JpZFdpZHRoIDogMzJcclxuICogICAgICBncmlkSGVpZ2h0IDogMzIgICAgIOavj+S4quagvOWtkOeahOWuvemrmFxyXG4gKiAgICAgIHggOiAwXHJcbiAqICAgICAgeSA6IDAgICAgICAgICAgIOWIneWni+S9jee9ru+8jOm7mOiupOS4unN0YWdl5Lit5b+D77yM5Y2zKDAsIDApXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVRpbGVNYXBXaXRoRGF0YShvcHRpb25zID0gbnVsbCwgaW5pdEhhbmRsZXIgPSBudWxsKXtcclxuICAgIGlmKCFvcHRpb25zIHx8IG9wdGlvbnMuY29sdW1ucyA8PSAwIHx8ICFvcHRpb25zLmRhdGEgfHwgb3B0aW9ucy5kYXRhLmxlbmd0aCA9PSAwIHx8IG9wdGlvbnMuZ3JpZFdpZHRoIDw9IDAgfHwgb3B0aW9ucy5ncmlkSGVpZ2h0IDw9IDApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy/kuKLlvIPlsI/mlbDpg6jliIYs5L+d55WZ5pW05pWw6YOo5YiG77yM6aqM6K+BdGlsZW1hcOaVsOaNruWujOaVtOaAp1xyXG4gICAgbGV0IGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnM7XHJcbiAgICBsZXQgcm93cyA9IHBhcnNlSW50KG9wdGlvbnMuZGF0YS5sZW5ndGggLyBjb2x1bW5zKTtcclxuICAgIGlmKHJvd3MgKiBjb2x1bW5zICE9IG9wdGlvbnMuZGF0YS5sZW5ndGgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgcGFyYW06IGxlbihncmlkcyk6XCIsIG9wdGlvbnMuZGF0YS5sZW5ndGgsIFwiIGNvbHVtbnM6XCIsIGNvbHVtbnMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aWxlbWFwID0gTmV3VGlsZU1hcChyb3dzLCBjb2x1bW5zLCBvcHRpb25zLmdyaWRXaWR0aCwgb3B0aW9ucy5ncmlkSGVpZ2h0LCBvcHRpb25zLngsIG9wdGlvbnMueSwgaW5pdEhhbmRsZXIpO1xyXG4gICAgaWYoaW5pdEhhbmRsZXIpe1xyXG4gICAgICAgIEl0ZXJhdG9yR3JpZG1hcCh0aWxlbWFwLmdyaWRtYXAsIGdyaWQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gb3B0aW9ucy5kYXRhW2dyaWQucm93SW5kZXggKiBjb2x1bW5zICsgZ3JpZC5jb2xJbmRleF07XHJcbiAgICAgICAgICAgIGluaXRIYW5kbGVyKHZhbCwgdGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGlsZW1hcDtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rluo/liJfluKfliqjnlLtcclxuICogYW5pbWF0ZURhdGEgPSB7XHJcbiAqICB0eXBlIDogMCxcclxuICogIGZyYW1lcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICAgIGR1cmF0aW9uIDogMCxcclxuICogICAgICAgICAgeE9mZnNldCA6IDAsXHJcbiAqICAgICAgICAgIHlPZmZzZXQgOiAwXHJcbiAqICAgICAgfVxyXG4gKiAgXVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRlV2l0aERhdGEoYW5pbWF0ZURhdGEgPSBudWxsKXtcclxuICAgIGlmKCFhbmltYXRlRGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBmcmFtZXNEYXRhID0gYW5pbWF0ZURhdGFbJ2ZyYW1lcyddO1xyXG4gICAgaWYoIWZyYW1lc0RhdGEgfHwgZnJhbWVzRGF0YS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGFuaW1hdGVGcmFtZXMgPSBbXTtcclxuICAgIGZyYW1lc0RhdGEuZm9yRWFjaChmcmFtZURhdGEgPT4ge1xyXG4gICAgICAgIGFuaW1hdGVGcmFtZXMucHVzaChcclxuICAgICAgICAgICAgQ3JlYXRlQW5pbWF0ZUZyYW1lKGdldFNwcml0ZUZyYW1lQnlOYW1lKHNwcml0ZUZyYW1lTmFtZSksXHJcbiAgICAgICAgICAgICAgICBmcmFtZURhdGFbJ2R1cmF0aW9uJ10sIGZyYW1lRGF0YVsneE9mZnNldCddLCBmcmFtZURhdGFbJ3lPZmZzZXQnXSkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ3JlYXRlQW5pbWF0ZUFjdGlvbihhbmltYXRlRGF0YVsndHlwZSddLCBlbnRpdHlJZCwgYW5pbWF0ZUZyYW1lcyk7XHJcbn1cclxuXHJcblxyXG5leHBvcnR7TG9hZFJlc291cmNlLCBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhLCBjcmVhdGVDYW1lcmFXaXRoRGF0YSwgY3JlYXRlVGlsZU1hcFdpdGhEYXRhLCBjcmVhdGVBbmltYXRlV2l0aERhdGF9IiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBHZXRWZWMsIEFkZE1vdmVyLCBSZW1vdmVNb3ZlciB9IGZyb20gXCIuLi9jb21wb25lbnQvcG9zL3V0aWxzXCI7XHJcblxyXG5jbGFzcyBNb3ZlQWN0aW9uIGV4dGVuZHMgQWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCwgcHJpb3JpdHkpO1xyXG4gICAgICAgIHRoaXMuZHggPSBkeDtcclxuICAgICAgICB0aGlzLmR5ID0gZHk7XHJcbiAgICB9XHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy52ZWMgPSBHZXRWZWModGhpcy5lbnRpdHlJZCk7XHJcbiAgICAgICAgQWRkTW92ZXIodGhpcy5lbnRpdHlJZCk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIHRoaXMudmVjLnggKz0gdGhpcy5keDtcclxuICAgICAgICB0aGlzLnZlYy55ICs9IHRoaXMuZHk7XHJcbiAgICB9XHJcbiAgICBvbkVuZCgpe1xyXG4gICAgICAgIFJlbW92ZU1vdmVyKHRoaXMuZW50aXR5SWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBDcmVhdGVNb3ZlQWN0aW9uKGVudGl0eUlkID0gMCwgcHJpb3JpdHkgPSAwLCBkeCA9IDAsIGR5ID0gMCkge1xyXG4gICAgaWYoZHggPT0gMCAmJiBkeSA9PSAwKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgTW92ZUFjdGlvbihlbnRpdHlJZCwgcHJpb3JpdHksIGR4LCBkeSk7XHJcbn1cclxuXHJcbmV4cG9ydHtNb3ZlQWN0aW9uLCBDcmVhdGVNb3ZlQWN0aW9ufSIsImltcG9ydCB7IE5ld0xpbmssIFB1c2hUb0xpbmssIEdldExpbmtEYXRhIH0gZnJvbSBcIi4uL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IE1vdmVBY3Rpb24gfSBmcm9tIFwiLi4vZnJhbWV3b3JrL2FjdGlvbi9tb3ZlXCI7XHJcblxyXG5jbGFzcyBDbWRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwKSB7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMudmFsID0gMDtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGNtZENvbXMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNtZENvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBuZXcgQ21kQ29tcG9uZW50KGVudGl0eUlkKTtcclxuICAgIFB1c2hUb0xpbmsoY21kQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldENtZENvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBHZXRMaW5rRGF0YShjbWRDb21zLCBlbnRpdHlJZCk7XHJcbiAgICByZXR1cm4gY29tID8gY29tIDogY3JlYXRlQ21kQ29tcG9uZW50KGVudGl0eUlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUHVzaENtZChjbWRDb20gPSBudWxsLCB2YWwgPSAwKSB7XHJcbiAgICBjbWRDb20udmFsID0gY21kQ29tLnZhbCB8IHZhbDtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVsZWFzZUNtZChjbWRDb20gPSBudWxsLCB2YWwgPSAwKSB7XHJcbiAgICBjbWRDb20udmFsID0gY21kQ29tLnZhbCBeIHZhbDtcclxufVxyXG5cclxuXHJcbmNsYXNzIENNRE1vdmVBY3Rpb24gZXh0ZW5kcyBNb3ZlQWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCwgcHJpb3JpdHksIGR4LCBkeSk7XHJcbiAgICB9XHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgc3VwZXIub25TdGFydCgpO1xyXG4gICAgICAgIHRoaXMuY21kID0gR2V0Q21kQ29tcG9uZW50KHRoaXMuZW50aXR5SWQpO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBsZXQgdmFsID0gdGhpcy5jbWQudmFsO1xyXG4gICAgICAgIGlmKCh2YWwgJiAxNSkgPT0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHZhbCAmIGNtZF9tdl9yaWdodCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnggKz0gdGhpcy5keDtcclxuICAgICAgICB9ZWxzZSBpZih2YWwgJiBjbWRfbXZfbGVmdCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnggLT0gdGhpcy5keDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHZhbCAmIGNtZF9tdl9kb3duKXtcclxuICAgICAgICAgICAgdGhpcy52ZWMueSArPSB0aGlzLmR5O1xyXG4gICAgICAgIH1lbHNlIGlmKHZhbCAmIGNtZF9tdl91cCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnkgLT0gdGhpcy5keTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENyZWF0ZUNNRE1vdmVBY3Rpb24oZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgIGlmKGR4ID09IDAgJiYgZHkgPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENNRE1vdmVBY3Rpb24oZW50aXR5SWQsIHByaW9yaXR5LCBkeCwgZHkpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNtZF9tdl9yaWdodCA9IDE7XHJcbmV4cG9ydCBjb25zdCBjbWRfbXZfbGVmdCA9IDI7XHJcbmV4cG9ydCBjb25zdCBjbWRfbXZfdXAgPSA0O1xyXG5leHBvcnQgY29uc3QgY21kX212X2Rvd24gPSA4O1xyXG5leHBvcnQgY29uc3QgY21kX2p1bXAgPSAxNjtcclxuZXhwb3J0e0dldENtZENvbXBvbmVudCwgUHVzaENtZCwgUmVsZWFzZUNtZCwgQ3JlYXRlQ01ETW92ZUFjdGlvbn0iLCJpbXBvcnQgZGF0YSBmcm9tICcuL2RhdGEnO1xyXG5pbXBvcnQgeyBTdGFydFRlc3QgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci91dGlscy9nYW1lJztcclxuaW1wb3J0IHsgR2V0R3JpZENlbnRlciB9IGZyb20gJy4vZnJhbWV3b3JrL2NvbXBvbmVudC90aWxlL3RpbGVtYXAnO1xyXG5pbXBvcnQgeyBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9ncmlkbWFwJztcclxuaW1wb3J0IHsgQWRkQmxvY2tDb2xsaWRlciwgQWRkQm9keUNvbGxpZGVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvY29tcG9uZW50L2NvbGxpZGUvYm94Mi91dGlscyc7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4vZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjcyc7XHJcbmltcG9ydCB7IE5ld1JlY3RQb3NUdXBsZSB9IGZyb20gJy4vZnJhbWV3b3JrL2NvbXBvbmVudC9wb3MvcmVjdC9jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBOZXdQb3MgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludCc7XHJcbmltcG9ydCB7IE5ld1JlY3QgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0JztcclxuaW1wb3J0IHsgU2V0UG9zLCBNb3ZlIH0gZnJvbSAnLi9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy91dGlscyc7XHJcbmltcG9ydCB7IEtFWV9BLCBLRVlfVywgS0VZX1MsIEtFWV9EIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9lbmdpbmUvaDUvbW9kZWwnO1xyXG5pbXBvcnQgeyBHZXRDbWRDb21wb25lbnQsIFB1c2hDbWQsIGNtZF9tdl91cCwgY21kX212X2xlZnQsIGNtZF9tdl9kb3duLCBjbWRfbXZfcmlnaHQsIFJlbGVhc2VDbWQsIENyZWF0ZUNNRE1vdmVBY3Rpb24gfSBmcm9tICcuL2dhbWUvY21kJztcclxuaW1wb3J0IHsgUnVuQWN0aW9uIH0gZnJvbSAnLi9mcmFtZXdvcmsvYWN0aW9uL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiAgMjAxOS4xMC4wOVxyXG4gKiAgICAgIHZz5b+954S25LiN5o+Q56S6aW1wb3J05LqG77yM5oyJ54Wn572R5LiK55qE5pa55rOV77yM5Yqg5LqG5LiqanNjb25maWcuanNvbuWwseWPr+S7peS6hlxyXG4gKi9cclxuXHJcbi8v6LCo6K6w5pWw5o2u6amx5YqoXHJcbnZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XHJcbiAgICBkZWJ1ZyA6IHRydWUsXHJcbiAgICBjb2xsaWRlIDoge1xyXG4gICAgICAgIHVzZUJveCA6IHRydWVcclxuICAgIH0sXHJcbiAgICBrZXlEb3duSGFuZGxlciA6IGtleURvd25IYW5kbGVyLFxyXG4gICAga2V5VXBIYW5sZXIgOiBrZXlVcEhhbmxlcixcclxuICAgIGR4IDogOCxcclxuICAgIGR5IDogOCxcclxuICAgIGJvZHlTaXplIDogMjUsXHJcbiAgICBibG9ja1NpemUgOiA0MFxyXG59KTtcclxub3B0aW9ucy50aWxlbWFwLmluaXRIYW5kbGVyID0gaW5pdEhhbmRsZXI7XHJcblxyXG5mdW5jdGlvbiBpbml0SGFuZGxlcih2YWwgPSAwLCB0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldEdyaWRDZW50ZXIodGlsZW1hcCwgZ3JpZCk7XHJcbiAgICBzd2l0Y2godmFsKXtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgTmV3UGxheWVyKHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIE5ld0Jsb2NrKHBvcy54LCBwb3MueSwgb3B0aW9ucy5ibG9ja1NpemUgKiB2YWwsIG9wdGlvbnMuYmxvY2tTaXplICogdmFsKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0Jsb2NrKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCBpZCA9IG5ldyBFbnRpdHkoKS5pZDtcclxuICAgIFNldFBvcyhpZCwgeCwgeSk7XHJcbiAgICBBZGRCbG9ja0NvbGxpZGVyKGlkLCBOZXdSZWN0UG9zVHVwbGUoXHJcbiAgICAgICAgaWQsIDAsIDAsIE5ld1JlY3QoMCwgMCwgd2lkdGgsIGhlaWdodClcclxuICAgICkpO1xyXG59XHJcblxyXG52YXIgcGx5SWQgPSAwO1xyXG52YXIgY21kQ29tID0gbnVsbDtcclxuZnVuY3Rpb24gTmV3UGxheWVyKHggPSAwLCB5ID0gMCl7XHJcbiAgICBwbHlJZCA9IG5ldyBFbnRpdHkoKS5pZDtcclxuICAgIFNldFBvcyhwbHlJZCwgeCwgeSk7XHJcbiAgICBBZGRCb2R5Q29sbGlkZXIocGx5SWQsIE5ld1JlY3RQb3NUdXBsZShcclxuICAgICAgICBwbHlJZCwgMCwgMCwgTmV3UmVjdCgwLCAwLCBvcHRpb25zLmJvZHlTaXplLCBvcHRpb25zLmJvZHlTaXplKVxyXG4gICAgKSk7XHJcbiAgICBjbWRDb20gPSBHZXRDbWRDb21wb25lbnQocGx5SWQpO1xyXG4gICAgUnVuQWN0aW9uKFxyXG4gICAgICAgIENyZWF0ZUNNRE1vdmVBY3Rpb24ocGx5SWQsIDAsIG9wdGlvbnMuZHgsIG9wdGlvbnMuZHkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24ga2V5RG93bkhhbmRsZXIoY29kZSA9IDApe1xyXG4gICAgc3dpdGNoKGNvZGUpe1xyXG4gICAgICAgIGNhc2UgS0VZX1c6XHJcbiAgICAgICAgICAgIFB1c2hDbWQoY21kQ29tLCBjbWRfbXZfdXApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9BOlxyXG4gICAgICAgICAgICBQdXNoQ21kKGNtZENvbSwgY21kX212X2xlZnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9TOlxyXG4gICAgICAgICAgICBQdXNoQ21kKGNtZENvbSwgY21kX212X2Rvd24pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9EOlxyXG4gICAgICAgICAgICBQdXNoQ21kKGNtZENvbSwgY21kX212X3JpZ2h0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24ga2V5VXBIYW5sZXIoY29kZSA9IDApe1xyXG4gICAgc3dpdGNoKGNvZGUpe1xyXG4gICAgICAgIGNhc2UgS0VZX1c6XHJcbiAgICAgICAgICAgIFJlbGVhc2VDbWQoY21kQ29tLCBjbWRfbXZfdXApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9BOlxyXG4gICAgICAgICAgICBSZWxlYXNlQ21kKGNtZENvbSwgY21kX212X2xlZnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9TOlxyXG4gICAgICAgICAgICBSZWxlYXNlQ21kKGNtZENvbSwgY21kX212X2Rvd24pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWV9EOlxyXG4gICAgICAgICAgICBSZWxlYXNlQ21kKGNtZENvbSwgY21kX212X3JpZ2h0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE15U2NlbmUge1xyXG4gICAgb25TdGFydCgpe31cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7fVxyXG59XHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcbiAgICBjb25zb2xlLmxvZyhvcHRpb25zKTtcclxuICAgIFN0YXJ0VGVzdChvcHRpb25zLCBuZXcgTXlTY2VuZSgpKTtcclxufSkoKSIsImltcG9ydCB7IGluaXRHYW1lIH0gZnJvbSBcIi4uL3dvcmxkL3Jlc1wiO1xyXG5pbXBvcnQgeyBydW5XaXRoU2NlbmUgfSBmcm9tIFwiLi4vc3lzdGVtL3J1blwiO1xyXG5cclxuLyoqXHJcbiAqIG9wdGlvbnMge1xyXG4gKiAgICAgIHRleHR1cmVzIDog5qC85byP6KeBTG9hZFJlc291cmNlKCnlhoVcclxuICogICAgICBzY3JlZW4gOiB7XHJcbiAqICAgICAgICAgIHdpZHRoIDogODAwLFxyXG4gKiAgICAgICAgICBoZWlnaHQgOiA4MDBcclxuICogICAgICB9LFxyXG4gKiAgICAgIGZwcyA6IDYwLFxyXG4gKiAgICAgIGRlYnVnIDogZmFsc2UsXHJcbiAqICAgICAgY2FtZXJhIDoge1xyXG4gKiAgICAgICAgICB4IDogMCxcclxuICogICAgICAgICAgeSA6IDBcclxuICogICAgICB9LFxyXG4gKiAgICAgIHRpbGVtYXAgOiDmoLzlvI/lj4LogIN0aWxlbWFw5LiA6IqCXHJcbiAqICAgICAga2V5SGFuZGxlciA6IGZ1bmN0aW9uKHR5cGUsIGtleUNvZGUpICAgdHlwZT0xID0gZG93biwgdHlwZT0yID0gdXBcclxuICogICAgICBjb2xsaWRlIDoge1xyXG4gKiAgICAgICAgICB1c2VCb3ggOiBmYWxzZSxcclxuICogICAgICAgICAgdXNlR3JvdXAgOiBmYWxzZSxcclxuICogICAgICAgICAgcGFpcnMgOiBbXHJcbiAqICAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICAgdGVhbTEgOiAxLFxyXG4gKiAgICAgICAgICAgICAgICAgIHRlYW0yIDogMlxyXG4gKiAgICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgICBdLFxyXG4gKiAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24oZHQsIGNvbGxpZGVyMSwgY29sbGlkZXIyKVxyXG4gKiAgICAgIH1cclxuICogfVxyXG4gKi9cclxuZnVuY3Rpb24gU3RhcnQob3B0aW9ucyA9IG51bGwsIHNjZW5lID0gbnVsbCl7XHJcbiAgICBMb2FkUmVzb3VyY2Uob3B0aW9ucy50ZXh0dXJlcywgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgIGluaXRHYW1lKG9wdGlvbnMpO1xyXG4gICAgICAgIHJ1bldpdGhTY2VuZShzY2VuZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gU3RvcCgpe1xyXG4gICAgR2V0U2NlbmUoKS5vbkVuZCgpO1xyXG4gICAgR2V0U3lzdGVtcygpLmZvckVhY2goc3lzdGVtID0+IHtcclxuICAgICAgICBzeXN0ZW0ub25FbmQoKTtcclxuICAgIH0pO1xyXG4gICAgZW5naW5lLlN0b3AoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gU3RhcnRUZXN0KG9wdGlvbnMsIHNjZW5lID0gbnVsbCl7XHJcbiAgICBpbml0R2FtZShvcHRpb25zKTtcclxuICAgIHJ1bldpdGhTY2VuZShzY2VuZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yqg6L296LWE5rqQ77yM5Yib5bu657K+54G15binXHJcbiAqIHRleHR1cmVzIDogW1xyXG4gKiAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICBpbWcgOiBcInJlcy9hLnBuZ1wiLFxyXG4gKiAgICAgICAgICAgICAgZnJhbWVzIDogW1xyXG4gKiAgICAgICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IFwid2FsazFcIlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQXJlYSA6IHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHggOiAwLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IDAsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA6IDAsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgOiAwXHJcbiAqICAgICAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgIH1cclxuICogICAgICBdLFxyXG4gKi9cclxuZnVuY3Rpb24gTG9hZFJlc291cmNlKHRleHR1cmVzRGF0YSA9IG51bGwsIE9ubG9hZENhbGxiYWNrID0gbnVsbCwgT25Db21wbGV0ZUNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAvL+WKoOi9veWbvuWDj+W5tuWIm+W7uuaYvuekuuW4p1xyXG4gICAgaWYoIXRleHR1cmVzRGF0YSB8fCB0ZXh0dXJlc0RhdGEubGVuZ3RoID09IDApe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBfY291bnQgPSAwO1xyXG4gICAgdGV4dHVyZXNEYXRhLmZvckVhY2godCA9PntcclxuICAgICAgICBsb2FkSW1nKHQuaW1nLCBiaXRtYXBEYXRhID0+IHtcclxuICAgICAgICAgICAgdC5mcmFtZXMuZm9yRWFjaChmcmFtZURhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlU3ByaXRlRnJhbWVXaXRoRGF0YShmcmFtZURhdGEubmFtZSwgYml0bWFwRGF0YSwgZnJhbWVEYXRhLnRleHR1cmVBcmVhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF9jb3VudCsrO1xyXG4gICAgICAgICAgICBpZihPbmxvYWRDYWxsYmFjayl7XHJcbiAgICAgICAgICAgICAgICBPbmxvYWRDYWxsYmFjayhfY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRleHR1cmVzRGF0YS5sZW5ndGggPT0gX2NvdW50ICYmIE9uQ29tcGxldGVDYWxsYmFjayl7XHJcbiAgICAgICAgICAgICAgICBPbkNvbXBsZXRlQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7U3RhcnQsIFN0b3AsIFN0YXJ0VGVzdCwgTG9hZFJlc291cmNlfSJdLCJzb3VyY2VSb290IjoiIn0=