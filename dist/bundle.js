!function(t){var n={};function e(r){if(n[r])return n[r].exports;var l=n[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var l in t)e.d(r,l,function(n){return t[n]}.bind(null,l));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t){t.exports={debug:!0,screen:{width:400,height:400},fps:60,camera:{x:0,y:0},stage:{width:1800,height:1800},tilemap:{data:[1,1,1,1,2,1,1,1,1,1,1,9,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,4,0,1,1,1,0,1,0,1,0,0,0,3,1,1,1,1,1,2,1,1,1,1],columns:10,gridWidth:40,gridHeight:40},dx:2,dy:2,jumpDy:5,fallDy:1.4,maxFallDy:5}},function(t,n,e){"use strict";e.r(n);var r=e(0);class l{constructor(){this.id=u()}}var i=1;function u(){return i++}class c{constructor(t=0){this.entityId=t,this.id=t}}class o{constructor(t=0,n=0){this.id=u(),this.entityId=t,this.priority=n}}class s{constructor(t=0){this.id=u(),this.priority=t}onStart(){}onUpdate(t=0){}onEnd(){}}class a{constructor(t=null,n=null,e=null){this.data=t,this.prep=n,this.next=e}}class d{constructor(){this.head=new a,this.tail=new a,this.head.next=this.tail,this.tail.prep=this.head,this._map=new Map,this._size=0,this._delList=[],this._curr=this.head,this._lock=!1}}function f(){return new d}function h(t=null,n=0,e=!1){if(!t)return void console.error("link is null.");let r=t._map.get(n);return r?r.data:(e&&console.error("can't find keyId: ",n),null)}function p(t=null,n=null){return x(t,n,t.tail)}function y(t=null,n=null){let e=n&&n.priority?n.priority:0,r=t.head.next;for(;r!=t.tail&&!(e>r.data.priority);)r=r.next;return x(t,n,r)}function x(t=null,n=null,e=null){if(!t||!n||!n.id)return console.error("error param: ",t,n,n.id),null;if(t._map.get(n.id))return console.error("error id:%d is exist",n.id),null;let r=e.prep,l=new a(n,r,e);return r.next=l,e.prep=l,t._map.set(n.id,l),t._size++,l}function g(t=null,n=0){t&&0!=n?t._lock?t._delList.push(n):v(t,n):console.error("error param: ",t,n)}function v(t=null,n=0){let e=t._map.get(n);if(!e)return;t._map.delete(n);let r=e.prep,l=e.next;r.next=l,l.prep=r,t._size--}function w(t=null,n=null){if(!t||!n)return;t._lock=!0;let e=t.head.next;for(;e!=t.tail&&!n(e.data);)e=e.next;for(;t._delList.length>0;)v(t,t._delList.pop());t._lock=!1}var m=f();const k=1;function b(t=null,n=0){t.state!=k&&(p(m,t,t.id),t.state=k,t.onStart(),t.onUpdate(n))}const _=2;class S extends o{constructor(t=0,n=0){super(t,n),this.state=0}isEnd(){return!1}onStop(){this.onEnd()}}function I(t=null,n=0){t.onUpdate(n)}function U(t=null){t.state=_,t.onEnd()}class H extends s{constructor(){super(999)}onUpdate(t=0){w(m,n=>{I(n,t),n.isEnd()&&U(n)})}}var E=null;class P{constructor(t=0,n=0){this.x=t,this.y=n}}function D(t=0,n=0){return new P(t,n)}class j{constructor(t=0,n=0){this.x=t,this.y=n,this.distance=t*t+n*n}}function z(t=0,n=0){return new j(t,n)}class L{constructor(t=null,n=0,e=0,r=null){this.offset=t,this.width=n,this.height=e,this.center=r}}function M(t=0,n=0,e=0,r=0){if(0==e||0==r)return null;let l=z(t,n);return new L(l,e,r,D())}function O(t=null){return t.width}function C(t=null){return t.height}function B(t=null){return.5*t.width}function R(t=null){return.5*t.height}class V extends c{constructor(t=0,n=0,e=0){super(t),this.pos=D(n,e),this.vec=z()}}var W=f();function T(t=0){let n=h(W,t);return n||function(t=0){let n=new V(t);return p(W,n),n}(t)}function A(t=0,n=0,e=0){let r=T(t).pos;return r.x=n,r.y=e,r}function F(t=0){return T(t).pos}function X(t=null,n=0){t.y=n}function Y(t=0){return T(t).vec}var G=f();class q{constructor(t=0,n=0,e=0,r=null){this.entityId=t,this.unitPos=null,this.unitVec=null,this.offset=z(n,e),this.rect=r}}function J(t=0,n=0,e=0,r=null){if(!r)return null;let l=new q(t,n,e,r);return l.unitPos=F(t),l.unitVec=Y(t),l}function K(t=null){return D(t.unitPos.x+t.offset.x,t.unitPos.y+t.offset.y)}function N(t=null){let n=K(t);return D(n.x-B(t.rect),n.y-R(t.rect))}function Q(t=null){let n=K(t);return D(n.x+B(t.rect),n.y+R(t.rect))}new Map;f();var Z=f();function $(t=0){return t>=0?t:-t}function tt(t=0,n=0){return t>n?t:n}function nt(t=0,n=0){return t<n?t:n}function et(t=null,n=null){let e=K(t),r=K(n);return!($(e.x-r.x)>B(t.rect)+B(n.rect))&&!($(e.y-r.y)>R(t.rect)+R(n.rect))}function rt(t=null,n=null){let e=K(t),r=D(e.x+t.unitVec.x,e.y+t.unitVec.y),l=K(n),i=D(l.x+n.unitVec.x,l.y+n.unitVec.y);return!($(r.x-i.x)>B(t.rect)+B(n.rect))&&!($(r.y-i.y)>R(t.rect)+R(n.rect))}class lt extends l{constructor(){super(),this.pos=null,this.rect=null}}function it(t=0,n=0,e=0,r=0){let l=new lt;return l.pos=A(l.id,t,n),l.rect=J(l.id,0,0,M(0,0,e,r)),l}function ut(t=null,n=null){return et(t.rect,n)}function ct(t=null,n=null){return function(t=null,n=null){return D(t.x-n.x,t.y-n.y)}(n,N(t.rect))}const ot=87,st=65,at=83,dt=68;var ft={ctx:null,canvas:null,fps:0,tick:0};function ht(){return ft}var pt=ht();Math.PI;class yt extends l{constructor(t=0,n=null,e=0){super(),this.entityId=t,this.rect=n,this.tag=e}}var xt=f();function gt(){return xt}var vt=f();function wt(){return vt}class mt extends s{onUpdate(t=0){!function(){let t=pt.canvas;pt.ctx.clearRect(0,0,t.width,t.height)}(),w(Z,t=>{let n=F(t.entityId);UpdateRectPosByUnit(t.displayArea,n.x,n.y),function(t=null){let n=vn(),e=t.displayArea;if(!ut(n,e))return;let r=ct(n,GetRectStartPos(e)),l=t.spriteFrame.textureArea;!function(t,n=0,e=0,r=0,l=0,i=0,u=0,c=0,o=0){pt.ctx.drawImage(t,n,e,r,l,i,u,c,o)}(t.spriteFrame.bitmapData,l.x,l.y,l.width,l.height,r.x,r.y,O(e),C(e))}(t)})}}var kt=null;class bt extends s{onUpdate(t=0){w(wt(),t=>{St(t.rect)}),w(gt(),t=>{St(t.rect)})}}var _t=null;function St(t=null){let n=vn();if(!ut(n,t))return;let e=ct(n,N(t));!function(t=0,n=0,e=0,r=0){pt.ctx.strokeRect(t,n,e,r)}(e.x,e.y,O(t.rect),C(t.rect))}class It extends s{constructor(){super(100)}onUpdate(t=0){w(G,t=>{0;let n=t.vec;if(0==n.x&&0==n.y)return;let e=t.pos;e.x+=n.x,e.y+=n.y,n.x=0,n.y=0})}}var Ut=null;var Ht,Et=ht();var Pt=!1;var Dt=null,jt=(new Date).getTime();var zt=new Map;var Lt=f(),Mt=f();function Ot(t=!1){y(Lt,(E||(E=new H),E)),y(Lt,(Ut||(Ut=new It),Ut)),p(Mt,(kt||(kt=new mt),kt)),t&&p(Mt,(_t||(_t=new bt),_t))}var Ct=16,Bt=41,Rt=0,Vt=0;function Wt(t){w(Lt,t=>{t.onStart()}),w(Mt,t=>{t.onStart()}),t.onStart(),function(t=null){Pt=!1,Ht=t,setInterval(()=>{Dt=(new Date).getTime(),Pt||Ht(Dt-jt),jt=(new Date).getTime()},Et.tick)}(n=>{(Rt+=n)>=Ct&&(Rt-=Ct,t.onUpdate(n),w(Lt,t=>{t.onUpdate(n)})),(Vt+=n)>=Bt&&(Vt-=Bt,w(Mt,t=>{t.onUpdate(n)}))})}function Tt(t=null){t&&y(Lt,t)}class At{constructor(t=0,n=0,e=null){this.rowIndex=t,this.colIndex=n,this.data=e}}class Ft{constructor(t=0,n=0,e=0,r=0,l=null){this.rows=t,this.columns=n,this.gridWidth=e,this.gridHeight=r,this.grids=l}}function Xt(t=null){return t.gridWidth}function Yt(t=null){return t.gridHeight}function Gt(t=null){return t.columns*t.gridWidth}function qt(t=null){return t.rows*t.gridHeight}class Jt{constructor(t=null,n=0,e=0){this.gridmap=t,this.pos=D(n,e)}}function Kt(t=0,n=0,e=0,r=0,l=0,i=0){let u=function(t=0,n=0,e=0,r=0){let l=[];for(let e=0;e<t;e++)for(let t=0;t<n;t++){let n=new At(e,t);l.push(n)}return new Ft(t,n,e,r,l)}(t,n,e,r);return new Jt(u,l,i)}function Nt(t=null){return D(t.pos.x-.5*Gt(t.gridmap),t.pos.y-.5*qt(t.gridmap))}class Qt{constructor(t=0,n=null,e=null){this.id=t,this.team1=n,this.team2=e}}var Zt=new Map;function $t(t=0){let n=Zt.get(t);return n||(n=f(),Zt.set(t,n)),n}function tn(t=0,n=null,e=0,r=0){let l=new yt(t,n,e);return p($t(r),l),l}var nn=f();class en extends s{constructor(t=null){super(800),this.callback=t}onUpdate(t=0){w(nn,t=>{null==t.team2?function(t=null,n=null){if(!t||!n)return;t._lock=!0;let e=t.head.next;for(;e!=t.tail;){let r=e.next;for(;r!=t.tail;)n(e.data,r.data),r=r.next;e=e.next}t._lock=!1,t._delList.forEach(n=>{g(t,n)})}(t.team1,(t,n)=>{rt(t.rect,n.rect)&&this.callback(t,n)}):w(t.team1,n=>{w(t.team2,t=>{rt(n.rect,t.rect)&&this.callback(n,t)})})})}}var rn=null;f();f();f();class ln extends s{constructor(t=null){super(900),this.callback=t}onUpdate(t=0){w(gt(),t=>{(function(t=null){if(0==(dn=Y(t.entityId)).x&&0==dn.y)return!1;return fn=B(t.rect.rect),hn=R(t.rect.rect),cn=N(t.rect),on=Q(t.rect),pn=K(t.rect),!0})(t)&&w(wt(),n=>{!function(t=null,n=null){if(!rt(t.rect,n.rect))return;sn=N(n.rect),an=Q(n.rect),function(){if(0==dn.x)return!1;let t=tt(cn.y,sn.y);if(nt(on.y,an.y)<=t)return!1;let n=dn.x>0?sn.x-fn:an.x+fn;return function(t=null,n=0){t.x=n}(dn,n-pn.x),!0}()||function(){if(0==dn.y)return!1;let t=tt(cn.x,sn.x);if(nt(on.x,an.x)<=t)return!1;let n=dn.y>0?sn.y-hn:an.y+hn;X(dn,n-pn.y)}()}(t,n)})})}}var un=null;var cn=null,on=null,sn=null,an=null,dn=null,fn=0,hn=0,pn=null;function yn(t=null){t.useBox&&Tt(function(t=null){return un||(un=new ln(t)),un}()),t.group&&t.group.length>0&&(t.group.forEach(t=>{!function(t=0,n=0){if(0==t||0==n)return null;let e=$t(t),r=t==n?null:$t(n),l=new Qt(t|n,e,r);p(nn,l)}(t.team1,t.team2)}),Tt(function(t=null){return rn||(rn=new en(t)),rn}(t.callback)))}function xn(t=null){!function(t=0,n=0,e=10){let r=document.getElementById("canvas");r.width=t,r.height=n,ft.canvas=r,ft.ctx=r.getContext("2d"),ft.ctx.strokeStyle="#0000ff",ft.fps=e,ft.tick=1e3/e}(t.screen.width,t.screen.height,t.fps),t.keyDownHandler&&t.keyUpHanler&&function(t=null,n=null){window.addEventListener("keydown",n=>{let e=n.keyCode;zt.get(e)||(zt.set(e,1),t(n.keyCode))}),window.addEventListener("keyup",t=>{let e=t.keyCode;zt.delete(e),n(t.keyCode)})}(t.keyDownHandler,t.keyUpHanler),t.mousedownHandler&&t.mouseupHandler&&function(t=null,n=null){Et.canvas.addEventListener("mousedown",n=>{let e=canvas.getBoundingClientRect(),r=n.clientX-e.left*(canvas.width/e.width),l=n.clientY-e.top*(canvas.height/e.height);t(r,l)}),Et.canvas.addEventListener("mouseup",t=>{let e=canvas.getBoundingClientRect(),r=t.clientX-e.left*(canvas.width/e.width),l=t.clientY-e.top*(canvas.height/e.height);n(r,l)})}(t.mousedownHandler,t.mouseupHandler),function(t=null,n=null){let e=t.width?t.width:n.width,r=t.height?t.height:n.height;gn=it(t.x,t.y,e,r)}(t.camera,t.screen),Ot(t.debug),t.tilemap&&function(t=null){(function(t=null,n=null){if(!t||t.columns<=0||!t.data||0==t.data.length||t.gridWidth<=0||t.gridHeight<=0)return null;let e=t.columns,r=parseInt(t.data.length/e);if(r*e!=t.data.length)return console.log("error param: len(grids):",t.data.length," columns:",e),null;let l=Kt(r,e,t.gridWidth,t.gridHeight,t.x,t.y);return n&&function(t=null,n=null){t.grids.forEach(t=>{n(t)})}(l.gridmap,r=>{let i=t.data[r.rowIndex*e+r.colIndex];n(i,l,r)}),l})(t,t.initHandler)}(t.tilemap),t.collide&&yn(t.collide)}var gn=null;function vn(){return gn}class wn extends S{constructor(t=0,n=0,e=0,r=0){super(t,n),this.dx=e,this.dy=r}onStart(){this.vec=Y(this.entityId),function(t=0){h(G,t)||p(G,T(t))}(this.entityId)}onUpdate(t=0){this.vec.x+=this.dx,this.vec.y+=this.dy}onEnd(){!function(t=0){g(G,t)}(this.entityId)}}class mn extends c{constructor(t=0){super(t),this.val=0}}var kn=f();function bn(t=0){let n=h(kn,t);return n||function(t=0){let n=new mn(t);return p(kn,n),n}(t)}function _n(t=null,n=0){t.val=t.val|n}function Sn(t=null,n=0){t.val=t.val^n}class In extends wn{constructor(t=0,n=0,e=0,r=0){super(t,n,e,r)}onStart(){super.onStart(),this.cmd=bn(this.entityId)}onUpdate(t=0){let n=this.cmd.val;0!=(15&n)&&(n&Hn?this.vec.x+=this.dx:n&En&&(this.vec.x-=this.dx),n&Dn?this.vec.y+=this.dy:n&Pn&&(this.vec.y-=this.dy))}}function Un(t=0,n=0,e=0,r=0){return 0==e&&0==r?null:new In(t,n,e,r)}const Hn=1,En=2,Pn=4,Dn=8;var jn=Object.assign(r,{keyDownHandler:function(t=0){switch(t){case ot:_n(Ln,Pn);break;case st:_n(Ln,En);break;case at:_n(Ln,Dn);break;case dt:_n(Ln,Hn)}},keyUpHanler:function(t=0){switch(t){case ot:Sn(Ln,Pn);break;case st:Sn(Ln,En);break;case at:Sn(Ln,Dn);break;case dt:Sn(Ln,Hn)}},bodySize:25,blockSize:20,collide:{useBox:!0,group:[{team1:1,team2:2}],callback:function(t=null,n=null){Mn++}}});jn.tilemap.initHandler=function(t=0,n=null,e=null){let r=function(t=null,n=null){let e=Nt(t);return D(e.x+Xt(t.gridmap)*(n.colIndex+.5),e.y+Yt(t.gridmap)*(n.rowIndex+.5))}(n,e);switch(t){case 0:break;case 9:!function(t=0,n=0){A(zn=(new l).id,t,n);let e=J(zn,0,0,M(0,0,jn.bodySize,jn.bodySize));(function(t=0,n=null,e=0){let r=new yt(t,n,e);p(xt,r)})(zn,e),tn(zn,e,0,1),Ln=bn(zn),b(Un(zn,0,jn.dx,jn.dy))}(r.x,r.y);break;default:!function(t=0,n=0,e=0,r=0){let i=(new l).id;A(i,t,n);let u=J(i,0,0,M(0,0,e,r));(function(t=0,n=null,e=0){let r=new yt(t,n,e);p(vt,r)})(i,u),tn(i,u,0,2)}(r.x,r.y,jn.blockSize*t,jn.blockSize*t)}};var zn=0,Ln=null;var Mn=0;class On{onStart(){}onUpdate(t=0){console.log(Mn),Mn=0}}console.log(jn),function(t,n=null){xn(t),Wt(n)}(jn,new On)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvYWN0aW9uL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvYWN0aW9uL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zeXN0ZW0vYWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvcG9zL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy9yZWN0L2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L3ZpZXcvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9nZW9tZXRyaWMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9wb3MvcmVjdC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jYW1lcmEvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2VuZ2luZS9oNS9tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vZW5naW5lL2g1L3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ib3gyL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivc3lzdGVtL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL3N5c3RlbS9tb3ZlLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9lbmdpbmUvaDUvcHJvY2Vzc29yLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivc3lzdGVtL3J1bi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dyaWRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvdGlsZS90aWxlbWFwLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvY29tcG9uZW50L2NvbGxpZGUvZ3JvdXAvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ncm91cC9zeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ib3gvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ub3JtYWwvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9jb21wb25lbnQvY29sbGlkZS9ib3gyL3N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivd29ybGQvcmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivd29ybGQvYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2FjdGlvbi9tb3ZlLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2NtZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL3V0aWxzL2dhbWUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFbnRpdHkiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwiaWQiLCJOZXdFbnRpdHlJZCIsImVjc19pZCIsIkNvbXBvbmVudCIsImVudGl0eUlkIiwiZWNzX1R1cGxlIiwicHJpb3JpdHkiLCJTeXN0ZW0iLCJkdCIsIkxpbmtOb2RlIiwiZGF0YSIsInByZXAiLCJuZXh0IiwiTGluayIsImhlYWQiLCJ0YWlsIiwiX21hcCIsIk1hcCIsIl9zaXplIiwiX2RlbExpc3QiLCJfY3VyciIsIl9sb2NrIiwiTmV3TGluayIsIkdldExpbmtEYXRhIiwibGluayIsImtleUlkIiwicmVxdWlyZWQiLCJjb25zb2xlIiwiZXJyb3IiLCJub2RlIiwiUHVzaFRvTGluayIsImFkZFRvTGluayIsIkluc2VydFRvTGluayIsInNldCIsIlJlbW92ZUJ5S2V5SWQiLCJwdXNoIiwicmVtb3ZlIiwiZGVsZXRlIiwiTGlua0l0ZXJhdG9yIiwiY2FsbGJhY2siLCJsZW5ndGgiLCJwb3AiLCJhY3Rpb25MaXN0IiwiQUNUSU9OX1NUQVRFX1JVTk5JTkciLCJSdW5BY3Rpb24iLCJhY3Rpb24iLCJzdGF0ZSIsIm9uU3RhcnQiLCJvblVwZGF0ZSIsImJhc2VfQUNUSU9OX1NUQVRFX0VORCIsImJhc2VfQWN0aW9uIiwic3VwZXIiLCJvbkVuZCIsImFjdGlvblVwZGF0ZSIsImFjdGlvbkVuZCIsImFjdGlvbl9BY3Rpb25TeXN0ZW0iLCJpc0VuZCIsInN5cyIsIlBvcyIsIngiLCJ5IiwiTmV3UG9zIiwiVmVjIiwiZGlzdGFuY2UiLCJOZXdWZWMiLCJSZWN0YW5nbGUiLCJvZmZzZXQiLCJ3aWR0aCIsImhlaWdodCIsImNlbnRlciIsIk5ld1JlY3QiLCJ4T2Zmc2V0IiwieU9mZnNldCIsIkdldFJlY3RXaWR0aCIsInJlY3QiLCJHZXRSZWN0SGVpZ2h0IiwiR2V0UmVjdEhhbGZXaWR0aCIsIkdldFJlY3RIYWxmSGVpZ2h0IiwiY29tcG9uZW50X1Bvc0NvbXBvbmVudCIsInBvcyIsInZlYyIsInBvc0NvbXMiLCJHZXRQb3NDb21wb25lbnQiLCJjb20iLCJjcmVhdGVQb3NDb21wb25lbnQiLCJTZXRQb3MiLCJHZXRQb3MiLCJTZXRWZWNZIiwiR2V0VmVjIiwibW92ZUxpc3QiLCJjb21wb25lbnRfUmVjdFBvc1R1cGxlIiwidW5pdFBvcyIsInVuaXRWZWMiLCJOZXdSZWN0UG9zVHVwbGUiLCJHZXRSZWN0UG9zQ2VudGVyIiwicmVjdFBvc1R1cGxlIiwiR2V0UmVjdFBvc1N0YXJ0IiwiR2V0UmVjdFBvc0VuZCIsImRpc3BsYXlMaXN0IiwiQWJzIiwidmFsIiwiTWF4IiwidmFsMSIsInZhbDIiLCJNaW4iLCJJc1JlY3RzQ3Jvc3MiLCJyZWN0UG9zVHVwbGUxIiwicmVjdFBvc1R1cGxlMiIsInBvczEiLCJwb3MyIiwiSXNSZWN0c0Nyb3NzV2l0aFZlYyIsInJwMSIsInJwMiIsInV0aWxzX0NhbWVyYSIsIk5ld0NhbWVyYSIsImNhbWVyYSIsIklzSW5DYW1lcmEiLCJUb1NjcmVlblBvcyIsInRhcmdldFBvcyIsInJlZmVyUG9zIiwiVG9Mb2NhdGVQb3MiLCJLRVlfVyIsIktFWV9BIiwiS0VZX1MiLCJLRVlfRCIsIl9lbmdpbmUiLCJjdHgiLCJjYW52YXMiLCJmcHMiLCJ0aWNrIiwiZ2V0RW5naW5lIiwicmVuZGVyX2VuZ2luZSIsIk1hdGgiLCJQSSIsImJhc2VfQ29sbGlkZXIiLCJ0YWciLCJib2R5Q29sbGlkZXJMaXN0IiwiR2V0Qm9keUNvbGxpZGVyTGlzdCIsImJsb2NrQ29sbGlkZXJMaXN0IiwiR2V0QmxvY2tDb2xsaWRlckxpc3QiLCJyZW5kZXJfUmVuZGVyVXBkYXRlU3lzdGVtIiwiY2xlYXJSZWN0IiwiY2xlYXIiLCJkaXNwbGF5VHVwbGUiLCJVcGRhdGVSZWN0UG9zQnlVbml0IiwiZGlzcGxheUFyZWEiLCJHZXRDYW1lcmEiLCJzY3JlZW5Qb3MiLCJHZXRSZWN0U3RhcnRQb3MiLCJ0ZXh0dXJlQXJlYSIsInNwcml0ZUZyYW1lIiwiaW1nRGF0YSIsInN4Iiwic3kiLCJzd2lkdGgiLCJzaGVpZ2h0IiwiZHJhd0ltYWdlIiwiYml0bWFwRGF0YSIsImRyYXdGcmFtZUluQ2FtZXJhIiwicmVuZGVyU3lzIiwicmVuZGVyX0RyYXdSZWN0U3lzdGVtIiwiY29sbGlkZXIiLCJkcmF3UmVjdEluQ2FtZXJhIiwiZGVidWdTeXMiLCJzdHJva2VSZWN0IiwiZHJhd1JlY3QiLCJtb3ZlX1Bvc1VwZGF0ZVN5c3RlbSIsIm1vdmVDb20iLCJtb3ZlX2lkIiwibW92ZV9zeXMiLCJfY2FsbGJhY2siLCJwcm9jZXNzb3JfZW5naW5lIiwiX2lzRW5kIiwicHJvY2Vzc29yX3N0YXJ0IiwibGFzdCIsIkRhdGUiLCJnZXRUaW1lIiwiX2tleURvd25NYXAiLCJsb2dpY1N5c3RlbXMiLCJyZW5kZXJTeXN0ZW1zIiwiaW5pdFN5c3RlbXMiLCJkZWJ1ZyIsImxvZ2ljVGljayIsInJlbmRlclRpY2siLCJfdDEiLCJfdDIiLCJydW5XaXRoU2NlbmUiLCJzY2VuZSIsInN5c3RlbSIsIm9uVXBkYXRlQ2FsbGJhY2siLCJzZXRJbnRlcnZhbCIsInJ1blRpY2siLCJBZGRTeXN0ZW0iLCJHcmlkIiwicm93SW5kZXgiLCJjb2xJbmRleCIsIkdyaWRNYXAiLCJyb3dzIiwiY29sdW1ucyIsImdyaWRXaWR0aCIsImdyaWRIZWlnaHQiLCJncmlkcyIsIkdldEdyaWRXaWR0aCIsImdyaWRtYXAiLCJHZXRHcmlkSGVpZ2h0IiwiR2V0R3JpZE1hcFdpZHRoIiwiR2V0R3JpZE1hcEhlaWdodCIsInRpbGVtYXBfVGlsZU1hcCIsIk5ld1RpbGVNYXAiLCJncmlkIiwiTmV3R3JpZE1hcCIsIkdldFRpbGVtYXBTdGFydCIsInRpbGVtYXAiLCJHcm91cFBhaXIiLCJ0ZWFtMSIsInRlYW0yIiwidGVhbXMiLCJnZXRUZWFtIiwidGVhbSIsIkFkZEdyb3VwQ29sbGlkZXIiLCJwYWlycyIsInN5c3RlbV9Hcm91cENvbGxpZGVyU3lzdGVtIiwicGFpciIsIm91dE5vZGUiLCJpbk5vZGUiLCJmb3JFYWNoIiwiTGlua0NvbXBhcmUiLCJjb2xsaWRlcjEiLCJjb2xsaWRlcjIiLCJzeXN0ZW1fc3lzIiwic3lzdGVtX0JveENvbGxpZGVyU3lzdGVtIiwiYm9keSIsImJvZHlDb2xsaWRlciIsImJvZHlIYWxmV2lkdGgiLCJib2R5SGFsZkhlaWdodCIsImJvZHlTdGFydCIsImJvZHlFbmQiLCJzeXN0ZW1fYm9keVBvcyIsImJvZHlCZWZvcmUiLCJibG9jayIsImJsb2NrQ29sbGlkZXIiLCJibG9ja1N0YXJ0IiwiYmxvY2tFbmQiLCJtYXhZMSIsIlNldFZlY1giLCJpc0xSIiwibWF4WDEiLCJpc1VEIiwibG9naWMiLCJib3hDb2xsaWRlclN5cyIsIk9wZW5Db2xsaWRlciIsIm9wdGlvbnMiLCJ1c2VCb3giLCJHZXRCb3hDb2xsaWRlclN5c3RlbSIsImdyb3VwIiwidDEiLCJ0MiIsIkFkZEdyb3VwUGFpciIsIkdldEdyb3VwQ29sbGlkZXJTeXN0ZW0iLCJpbml0R2FtZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwic3Ryb2tlU3R5bGUiLCJpbml0Q2FudmFzIiwic2NyZWVuIiwia2V5RG93bkhhbmRsZXIiLCJrZXlVcEhhbmxlciIsImtleURvd25DYWxsYmFjayIsImtleVVwQ2FsbGJhY2siLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvZGUiLCJrZXlDb2RlIiwib25LZXlDYWxsYmFjayIsIm1vdXNlZG93bkhhbmRsZXIiLCJtb3VzZXVwSGFuZGxlciIsIm1vdXNlZG93bkNhbGxiYWNrIiwibW91c2V1cENhbGxiYWNrIiwiZXZlbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJvbk1vdXNlQ2FsbGJhY2siLCJjYW1lcmFEYXRhIiwic2NyZWVuRGF0YSIsInJlc19jYW1lcmEiLCJpbml0Q2FtZXJhIiwidGlsZW1hcERhdGEiLCJpbml0SGFuZGxlciIsInBhcnNlSW50IiwibG9nIiwiSXRlcmF0b3JHcmlkbWFwIiwiY3JlYXRlVGlsZU1hcFdpdGhEYXRhIiwiaW5pdFRpbGUiLCJjb2xsaWRlIiwibW92ZV9Nb3ZlQWN0aW9uIiwiZHgiLCJkeSIsIkFkZE1vdmVyIiwiUmVtb3ZlTW92ZXIiLCJjbWRfQ21kQ29tcG9uZW50IiwiY21kQ29tcyIsIkdldENtZENvbXBvbmVudCIsImNyZWF0ZUNtZENvbXBvbmVudCIsIlB1c2hDbWQiLCJjbWRDb20iLCJSZWxlYXNlQ21kIiwiY21kX0NNRE1vdmVBY3Rpb24iLCJjbWQiLCJjbWRfbXZfcmlnaHQiLCJjbWRfbXZfbGVmdCIsImNtZF9tdl9kb3duIiwiY21kX212X3VwIiwiQ3JlYXRlQ01ETW92ZUFjdGlvbiIsIm1haW5fb3B0aW9ucyIsImFzc2lnbiIsImJvZHlTaXplIiwiYmxvY2tTaXplIiwic3RhcnQiLCJHZXRHcmlkQ2VudGVyIiwicGx5SWQiLCJBZGRCb2R5Q29sbGlkZXIiLCJOZXdQbGF5ZXIiLCJBZGRCbG9ja0NvbGxpZGVyIiwiTmV3QmxvY2siLCJNeVNjZW5lIiwiU3RhcnRUZXN0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixF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QUFBLEdBU0E4RCxRQUFBMlEsSUFBZ0J3QixJQ2xGaEIsU0FBQW5FLEVBQUFoRSxFQUFBLE1BQ0l3RSxHQUFRUixHQUNSakUsR0FBWUMsR0RpRlorSSxDQUFVWixHQUFPLElBQUFXIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8qKlxyXG4gKiAyMDE5LjEwLjEwXHJcbiAqIFx05rOo5oSP77yMbGluay1pbnRlcmZhY2XvvIzpnIDopoHmnIlpZCwgcHJpb3JpdHnkuKTkuKrlsZ7mgKdcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiogICBUaGUgQmFzZSBTdHJ1Y3RcclxuKlx05bC9566h5oiR5Lus5Y+q6ZyA6KaBTmV3RW50aXR5SWQoKe+8jOS9huaYr+aJgOaciemcgOimgWlk55qE57G76YO96KaB57un5om/5q2k57G7XHJcbiovXHJcbmNsYXNzIEVudGl0eSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmlkID0gTmV3RW50aXR5SWQoKTtcclxuXHR9XHJcbn1cclxuXHJcbnZhciBpZCA9IDE7XHJcbmZ1bmN0aW9uIE5ld0VudGl0eUlkKCl7XHJcblx0cmV0dXJuIGlkKys7XHJcbn1cclxuXHJcbi8qKlxyXG4qXHRUaGUgYmFzZSBDb21wb25lbnRcclxuKlx05q+P5LiqZW50aXR55a+55q+P56eN57uE5Lu25Y+q6IO95oyB5pyJ5LiA5LiqXHJcbiovXHJcbmNsYXNzIENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwKSB7XHJcblx0XHR0aGlzLmVudGl0eUlkID0gZW50aXR5SWQ7XHJcblx0XHR0aGlzLmlkID0gZW50aXR5SWQ7XHRcdFx0Ly/nu5lsaW5r5L2/55SoXHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICog5Z+656GA5YWD5Lu2XHJcbiAqIFRPRE8g5pqC5pe25rKh5LuA5LmI55SoXHJcbiAqL1xyXG5jbGFzcyBUdXBsZSB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDApe1xyXG5cdFx0dGhpcy5pZCA9IE5ld0VudGl0eUlkKCk7XHJcblx0XHR0aGlzLmVudGl0eUlkID0gZW50aXR5SWQ7XHJcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHQvL+e7mWxpbmvkvb/nlKhcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qXHRUaGUgYmFzZSBTeXN0ZW1cclxuKi9cclxuY2xhc3MgU3lzdGVtIHtcclxuXHRjb25zdHJ1Y3Rvcihwcmlvcml0eSA9IDApe1xyXG5cdFx0dGhpcy5pZCA9IE5ld0VudGl0eUlkKCk7XHJcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHQvL+e7mWxpbmvkvb/nlKhcclxuXHR9XHJcbiAgICBvblN0YXJ0KCl7fVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXt9XHJcbiAgICBvbkVuZCgpe31cclxufVxyXG5cclxuZXhwb3J0IHtFbnRpdHksIENvbXBvbmVudCwgVHVwbGUsIFN5c3RlbX0iLCJjbGFzcyBMaW5rTm9kZSB7XHJcblx0Y29uc3RydWN0b3IoZGF0YSA9IG51bGwsIHByZXAgPSBudWxsLCBuZXh0ID0gbnVsbCkge1xyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMucHJlcCA9IHByZXA7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIExpbmsge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5oZWFkID0gbmV3IExpbmtOb2RlKCk7XHRcdC8vZW1wdHkgZGF0YSBub2RlXHJcblx0XHR0aGlzLnRhaWwgPSBuZXcgTGlua05vZGUoKTtcclxuXHRcdHRoaXMuaGVhZC5uZXh0ID0gdGhpcy50YWlsO1xyXG5cdFx0dGhpcy50YWlsLnByZXAgPSB0aGlzLmhlYWQ7XHJcblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XHJcblx0XHR0aGlzLl9zaXplID0gMDtcclxuICAgICAgICB0aGlzLl9kZWxMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5fY3VyciA9IHRoaXMuaGVhZDtcclxuICAgICAgICB0aGlzLl9sb2NrID0gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdMaW5rKCl7XHJcbiAgICByZXR1cm4gbmV3IExpbmsoKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDojrflj5ZcclxuICovXHJcbmZ1bmN0aW9uIEdldExpbmtEYXRhKGxpbmsgPSBudWxsLCBrZXlJZCA9IDAsIHJlcXVpcmVkID0gZmFsc2Upe1xyXG4gICAgaWYoIWxpbmspIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwibGluayBpcyBudWxsLlwiKTtcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxldCBub2RlID0gbGluay5fbWFwLmdldChrZXlJZCk7XHJcbiAgICBpZihub2RlKXtcclxuICAgICAgICByZXR1cm4gbm9kZS5kYXRhO1xyXG4gICAgfVxyXG4gICAgaWYocmVxdWlyZWQpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBmaW5kIGtleUlkOiBcIiwga2V5SWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpbmtTaXplKGxpbmsgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpbmsuX3NpemU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmt7vliqDliLDmnKvlsL5cclxuICovXHJcbmZ1bmN0aW9uIFB1c2hUb0xpbmsobGluayA9IG51bGwsIGRhdGEgPSBudWxsKSB7XHJcbiAgICByZXR1cm4gYWRkVG9MaW5rKGxpbmssIGRhdGEsIGxpbmsudGFpbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmj5LlhaXliLDliJfooajkuK1cclxuICogZGF0YS5wcmlvcml0eemhuuW6j+WPt++8jOeUseWkp+WIsOWwj+aOkuW6j++8jOm7mOiupOS4ujBcclxuICovXHJcbmZ1bmN0aW9uIEluc2VydFRvTGluayhsaW5rID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgbGV0IHByaW9yaXR5ID0gZGF0YSAmJiBkYXRhLnByaW9yaXR5ID8gZGF0YS5wcmlvcml0eSA6IDA7XHJcbiAgICBsZXQgbm9kZSA9IGxpbmsuaGVhZC5uZXh0O1xyXG5cdHdoaWxlKG5vZGUgIT0gbGluay50YWlsKXtcclxuICAgICAgICBpZihwcmlvcml0eSA+IG5vZGUuZGF0YS5wcmlvcml0eSl7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHRcdG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWRkVG9MaW5rKGxpbmssIGRhdGEsIG5vZGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUb0xpbmsobGluayA9IG51bGwsIGRhdGEgPSBudWxsLCBuZXh0ID0gbnVsbCl7XHJcbiAgICBpZighbGluayB8fCAhZGF0YSB8fCAhZGF0YS5pZCl7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJhbTogXCIsIGxpbmssIGRhdGEsIGRhdGEuaWQpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy/kuI3og73ph43lpI3mt7vliqBcclxuICAgIGlmKGxpbmsuX21hcC5nZXQoZGF0YS5pZCkpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBpZDolZCBpcyBleGlzdFwiLCBkYXRhLmlkKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8v5paw6IqC54K56L+e5o6lXHJcbiAgICBsZXQgcHJlcCA9IG5leHQucHJlcDtcclxuICAgIGxldCBub2RlID0gbmV3IExpbmtOb2RlKGRhdGEsIHByZXAsIG5leHQpO1xyXG4gICAgcHJlcC5uZXh0ID0gbm9kZTtcclxuICAgIG5leHQucHJlcCA9IG5vZGU7XHJcblxyXG4gICAgbGluay5fbWFwLnNldChkYXRhLmlkLCBub2RlKTtcclxuICAgIGxpbmsuX3NpemUrKztcclxuICAgIHJldHVybiBub2RlO1xyXG59XHJcblxyXG4vKipcclxuICog5Yig6ZmkXHJcbiAqL1xyXG5mdW5jdGlvbiBSZW1vdmVCeUtleUlkKGxpbmsgPSBudWxsLCBrZXlJZCA9IDApe1xyXG4gICAgaWYoIWxpbmsgfHwga2V5SWQ9PTApIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIHBhcmFtOiBcIiwgbGluaywga2V5SWQpO1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgaWYobGluay5fbG9jayl7XHJcbiAgICAgICAgbGluay5fZGVsTGlzdC5wdXNoKGtleUlkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZW1vdmUobGluaywga2V5SWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmUobGluayA9IG51bGwsIGtleUlkID0gMCl7XHJcbiAgICBsZXQgbm9kZSA9IGxpbmsuX21hcC5nZXQoa2V5SWQpO1xyXG4gICAgaWYoIW5vZGUpe1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpbmsuX21hcC5kZWxldGUoa2V5SWQpO1xyXG4gICAgbGV0IHAgPSBub2RlLnByZXA7XHJcbiAgICBsZXQgbiA9IG5vZGUubmV4dDtcclxuICAgIHAubmV4dCA9IG47XHJcbiAgICBuLnByZXAgPSBwO1xyXG4gICAgbGluay5fc2l6ZS0tO1xyXG59XHJcblxyXG4vKipcclxuICog6L2u6K+iLCBjYWxsYmFjayA9IGZ1bmN0aW9uKDw/IGV4dGVuZHMgZW50aXR5Pil7fVxyXG4gKi9cclxuZnVuY3Rpb24gTGlua0l0ZXJhdG9yKGxpbmsgPSBudWxsLCBjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmsgfHwgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGluay5fbG9jayA9IHRydWU7XHJcbiAgICBsZXQgbm9kZSA9IGxpbmsuaGVhZC5uZXh0O1xyXG5cdHdoaWxlKG5vZGUgIT0gbGluay50YWlsKXtcclxuXHRcdGlmKGNhbGxiYWNrKG5vZGUuZGF0YSkpe1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblx0XHRub2RlID0gbm9kZS5uZXh0O1xyXG4gICAgfVxyXG4gICAgd2hpbGUobGluay5fZGVsTGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICByZW1vdmUobGluaywgbGluay5fZGVsTGlzdC5wb3AoKSk7XHJcbiAgICB9XHJcbiAgICBsaW5rLl9sb2NrID0gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEZpcnN0KGxpbmsgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGV0IG5vZGUgPSBsaW5rLmhlYWQubmV4dDtcclxuICAgIGlmKG5vZGUpe1xyXG4gICAgICAgIHJldHVybiBub2RlLmRhdGFcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRMYXN0KGxpbmsgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGV0IG5vZGUgPSBsaW5rLnRhaWwucHJlcDtcclxuICAgIGlmKG5vZGUpe1xyXG4gICAgICAgIHJldHVybiBub2RlLmRhdGFcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICog5bCG5YiX6KGo5Lit55qE5YWD57Sg5Lik5Lik5a+55q+U77yMY2FsbGJhY2sgPSBmdW5jdGlvbig8PyBleHRlbmRzIGVudGl0eSBvciBjb21wb25lbnQ+IGZyb250LCBuZXh0KXt9XHJcbiAqL1xyXG5mdW5jdGlvbiBMaW5rQ29tcGFyZShsaW5rID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpbmsuX2xvY2sgPSB0cnVlO1xyXG4gICAgbGV0IG91dE5vZGUgPSBsaW5rLmhlYWQubmV4dDtcclxuICAgIHdoaWxlKG91dE5vZGUgIT0gbGluay50YWlsKXtcclxuICAgICAgICBsZXQgaW5Ob2RlID0gb3V0Tm9kZS5uZXh0O1xyXG4gICAgICAgIHdoaWxlKGluTm9kZSAhPSBsaW5rLnRhaWwpe1xyXG4gICAgICAgICAgICBjYWxsYmFjayhvdXROb2RlLmRhdGEsIGluTm9kZS5kYXRhKTtcclxuICAgICAgICAgICAgaW5Ob2RlID0gaW5Ob2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG91dE5vZGUgPSBvdXROb2RlLm5leHQ7XHJcbiAgICB9XHJcbiAgICBsaW5rLl9sb2NrID0gZmFsc2U7XHJcbiAgICBsaW5rLl9kZWxMaXN0LmZvckVhY2goa2V5SWQgPT4ge1xyXG4gICAgICAgIFJlbW92ZUJ5S2V5SWQobGluaywga2V5SWQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7TGluaywgTGlua05vZGUsIE5ld0xpbmssIEdldEZpcnN0LCBHZXRMYXN0LCBHZXRMaW5rRGF0YSwgR2V0TGlua1NpemUsIFB1c2hUb0xpbmssIEluc2VydFRvTGluaywgUmVtb3ZlQnlLZXlJZCwgTGlua0l0ZXJhdG9yLCBMaW5rQ29tcGFyZX0iLCJpbXBvcnQgeyBQdXNoVG9MaW5rLCBSZW1vdmVCeUtleUlkLCBOZXdMaW5rIH0gZnJvbSAnLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGluayc7XHJcblxyXG52YXIgYWN0aW9uTGlzdCA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gR2V0UnVubmlnQWN0aW9uTGlzdCgpe1xyXG4gICAgcmV0dXJuIGFjdGlvbkxpc3Q7XHJcbn1cclxuXHJcbmNvbnN0IEFDVElPTl9TVEFURV9SVU5OSU5HID0gMTtcclxuY29uc3QgQUNUSU9OX1NUQVRFX0VORCA9IDI7XHJcblxyXG4vKipcclxuICog6L+Q6KGMYWN0aW9u77yM5bm25Yqg5YWl5YiwYWN0aW9u57O757ufbGlua+S4re+8jOS4gOiIrOS+m+WklumDqOiwg+eUqCBcclxuICovXHJcbmZ1bmN0aW9uIFJ1bkFjdGlvbihhY3Rpb24gPSBudWxsLCBkdCA9IDApe1xyXG4gICAgaWYoYWN0aW9uLnN0YXRlID09IEFDVElPTl9TVEFURV9SVU5OSU5HKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBQdXNoVG9MaW5rKGFjdGlvbkxpc3QsIGFjdGlvbiwgYWN0aW9uLmlkKTtcclxuICAgIGFjdGlvbi5zdGF0ZSA9IEFDVElPTl9TVEFURV9SVU5OSU5HO1xyXG4gICAgYWN0aW9uLm9uU3RhcnQoKTtcclxuICAgIGFjdGlvbi5vblVwZGF0ZShkdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnq4vljbPnu4jmraJhY3Rpb27lubbnp7vlh7phY3Rpb27ns7vnu59saW5r77yM5LiA6Iis5L6b5aSW6YOo6LCD55SoXHJcbiAqL1xyXG5mdW5jdGlvbiBTdG9wQWN0aW9uKGFjdGlvbiA9IG51bGwpe1xyXG4gICAgaWYoYWN0aW9uLnN0YXRlICE9IEFDVElPTl9TVEFURV9SVU5OSU5HKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBSZW1vdmVCeUtleUlkKGFjdGlvbkxpc3QsIGFjdGlvbi5pZCk7XHJcbiAgICBhY3Rpb24uc3RhdGUgPSBBQ1RJT05fU1RBVEVfRU5EO1xyXG4gICAgYWN0aW9uLm9uRW5kKCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0UnVubmlnQWN0aW9uTGlzdCwgUnVuQWN0aW9uLCBTdG9wQWN0aW9ufSIsImltcG9ydCB7IFR1cGxlIH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjc1wiXHJcblxyXG5jb25zdCBBQ1RJT05fU1RBVEVfUlVOTklORyA9IDE7XHJcbmNvbnN0IEFDVElPTl9TVEFURV9FTkQgPSAyO1xyXG5cclxuLyoqXHJcbiogICBhY3Rpb27mqKHlnZfnmoTorr7orqHnkIblv7XmmK/vvJpcclxuKiAgICAgICDnu5nnrZbliJLkurrlkZjmk43kvZznmoTliqjmgIHphY3nva7vvIznlLFqc29u6amx5Yqo77yIZGF0YS1kcml2ZW7vvInvvIzlho3nlLHohJrmnKzns7vnu5/nlJ/miJDkuLrpnZnmgIHku6PnoIFcclxuKiAgIOebruWJjeWFiOeUqOemu+aVo+mFjee9ruS7o+abv1xyXG5cclxuKiAgIOeUn+WRveWRqOacn+euoeeQhlxyXG4gICAgICAgIG9uU3RhcnQgLT4g5Yid5aeL5YyW77yM55SxdXRpbHMuUnVuQWN0aW9u6Kem5Y+RXHJcbiAgICAgICAgb25VcGRhdGUgLT4g55Sxc3lzdGVt5Li75rWB56iL6LCD55So77yM5Y+q5omn6KGM5Li76YC76L6R77yM5LiN6ZyA6KaB5Yik5pat57uI5q2i5p2h5Lu2XHJcbiAgICAgICAgaXNFbmQ6IOeUsXN5c3RlbeWcqOaJp+ihjG9uVXBkYXRl5ZCO6K6/6Zeu77yM6L+U5ZueYm9vbO+8jOWGs+WumuaYr+WQpui+vuWIsOe7iOatouadoeS7tuS6hu+8jOi/lOWbnnRydWXliJnooajnpLrlj6/ku6Xnu4jmraLmraRhY3Rpb25cclxuICAgICAgICBvbkVuZDog5Zyoc3lzdGVt6K+35rGCaXNFbmQ9dHJ1ZeWQjuiwg+eUqO+8jOeUqOS6juaUtuWwvu+8jOWmgui1hOa6kOWbnuaUtlxyXG4gICAgICAgIG9uU3RvcDog55SxdXRpbHMuU3RvcEFjdGlvbuinpuWPke+8jOW8uuWItuS4reaWre+8jOS4jei1sGlzRW5k5rWB56iL77yM6buY6K6k6LCD55Sob25FbmTvvIzlm6DmraTmoLnmja7mg4XlhrXlj6/og73pnIDopoHpop3lpJblpITnkIZcclxuKi9cclxuY2xhc3MgQWN0aW9uIGV4dGVuZHMgVHVwbGUge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDApe1xyXG4gICAgICAgIHN1cGVyKGVudGl0eUlkLCBwcmlvcml0eSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvLyBvblN0YXJ0KCl7fVxyXG4gICAgLy8gb25VcGRhdGUoZHQgPSAwKXt9XHJcbiAgICAvLyBvbkVuZCgpe31cclxuICAgIGlzRW5kKCl7ICAgIHJldHVybiBmYWxzZTsgICAgfVxyXG4gICAgb25TdG9wKCl7ICAgdGhpcy5vbkVuZCgpOyAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFjdGlvblN0YXJ0KGFjdGlvbiA9IG51bGwpe1xyXG4gICAgYWN0aW9uLnN0YXRlID0gQUNUSU9OX1NUQVRFX1JVTk5JTkc7XHJcbiAgICBhY3Rpb24ub25TdGFydCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhY3Rpb25VcGRhdGUoYWN0aW9uID0gbnVsbCwgZHQgPSAwKXtcclxuICAgIGFjdGlvbi5vblVwZGF0ZShkdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGlvbkVuZChhY3Rpb24gPSBudWxsKXtcclxuICAgIGFjdGlvbi5zdGF0ZSA9IEFDVElPTl9TVEFURV9FTkQ7XHJcbiAgICBhY3Rpb24ub25FbmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWN0aW9uU3RvcChhY3Rpb24gPSBudWxsKXtcclxuICAgIGFjdGlvbi5zdGF0ZSA9IEFDVElPTl9TVEFURV9FTkQ7XHJcbiAgICBhY3Rpb24ub25TdG9wKCk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc1N0YXJ0KGFjdGlvbiA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGFjdGlvbi5zdGF0ZSA9PSBBQ1RJT05fU1RBVEVfUlVOTklORztcclxufVxyXG5mdW5jdGlvbiBpc1N0b3AoYWN0aW9uID0gbnVsbCl7XHJcbiAgICByZXR1cm4gYWN0aW9uLnN0YXRlID09IEFDVElPTl9TVEFURV9FTkQ7XHJcbn1cclxuXHJcbmV4cG9ydCB7QWN0aW9uLCBhY3Rpb25TdGFydCwgYWN0aW9uVXBkYXRlLCBhY3Rpb25FbmQsIGFjdGlvblN0b3AsIGlzU3RhcnQsIGlzU3RvcH0iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IEdldFJ1bm5pZ0FjdGlvbkxpc3QgfSBmcm9tIFwiLi4vLi4vYWN0aW9uL3V0aWxzXCI7XHJcbmltcG9ydCB7IExpbmtJdGVyYXRvciB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IGFjdGlvblVwZGF0ZSwgYWN0aW9uRW5kIH0gZnJvbSBcIi4uLy4uL2FjdGlvbi9iYXNlXCI7XHJcblxyXG4vKipcclxuICog5Yqo5L2c57O757ufXHJcbiAqL1xyXG5jbGFzcyBBY3Rpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcig5OTkpO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKSB7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldFJ1bm5pZ0FjdGlvbkxpc3QoKSwgYWN0aW9uID0+IHtcclxuICAgICAgICAgICAgYWN0aW9uVXBkYXRlKGFjdGlvbiwgZHQpO1xyXG4gICAgICAgICAgICBpZihhY3Rpb24uaXNFbmQoKSl7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25FbmQoYWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgc3lzID0gbnVsbDtcclxuZnVuY3Rpb24gR2V0QWN0aW9uU3lzdGVtKCl7XHJcbiAgICBpZighc3lzKXtcclxuICAgICAgICBzeXMgPSBuZXcgQWN0aW9uU3lzdGVtKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3lzO1xyXG59XHJcblxyXG5leHBvcnR7R2V0QWN0aW9uU3lzdGVtfSIsIi8qKlxyXG4gKiDln7rnoYAyROWdkOagh1xyXG4gKi9cclxuY2xhc3MgUG9zIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdQb3MoeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiBuZXcgUG9zKHgsIHkpO1xyXG59XHJcblxyXG4vKipcclxuICog6K6h566X55u45a+55Z2Q5qCHXHJcbiAqIOS7pXRhcmdldFBvc+S4uuWHhu+8jOiuoeeul3JlZmVyUG9z5LqOdGFyZ2V0UG9z55qE55u45a+55Z2Q5qCHXHJcbiAqIOS4vuS+i++8mlxyXG4gKiAgICAgIOaRhOWDj+acuuS9jeS6jig1MCwgNTAp5aSE77yMcmVmZXJQb3NcclxuICogICAgICDljZXkvY1B5L2N5LqOKDEyMCwgMzAp5aSE77yMdGFyZ2V0UG9zXHJcbiAqICAgICAg6YKj5LmI77yM5Y2V5L2NQeWcqOaRhOWDj+acuueahCgxMjAtNTAsIDMwLTUwKeWkhFxyXG4gKi9cclxuZnVuY3Rpb24gVG9Mb2NhdGVQb3ModGFyZ2V0UG9zID0gbnVsbCwgcmVmZXJQb3MgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGFyZ2V0UG9zLnggLSByZWZlclBvcy54LFxyXG4gICAgICAgIHRhcmdldFBvcy55IC0gcmVmZXJQb3MueSk7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIFRvTG9jYXRlWCh0YXJnZXRYID0gMCwgcmVmZXJYID0gMCl7XHJcbi8vICAgICByZXR1cm4gdGFyZ2V0WCAtIHJlZmVyWDtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gVG9Mb2NhdGVZKHRhcmdldFkgPSAwLCByZWZlclkgPSAwKXtcclxuLy8gICAgIHJldHVybiB0YXJnZXRZIC0gcmVmZXJZO1xyXG4vLyB9XHJcblxyXG5cclxuLyoqXHJcbiAqIOWfuuehgOWQkemHj1xyXG4gKiBkaXN0YW5jZTog6Led56a757O75pWw77yM5rOo5oSP5LiN5piv5a6e6ZmF6Led56a777yM5Y+q55So5LqO5q+U6L6D6Led56a75aSn5bCPXHJcbiAqL1xyXG5jbGFzcyBWZWMge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwKXtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHggKiB4ICsgeSAqIHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1ZlYyh4ID0gMCwgeSA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBWZWMoeCwgeSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1ZlY1dpdGhQb3MoeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwKXtcclxuICAgIHJldHVybiBuZXcgTmV3VmVjKHgyIC0geDEsIHkyIC0geTEpO1xyXG59XHJcblxyXG4vKipcclxuICog6Led56a757O75pWwXHJcbiAqIOazqOaEj++8jOW5tumdnuWunumZhei3neemu+WAvO+8jOWboOS4uuW8gOagueWPt+iuoeeul+a2iOiAl+Wkp1xyXG4gKiDoi6Xlj6rnlKjkuo7lr7nmr5TlpKflsI/vvIzmraTns7vmlbDljbPlj69cclxuICovXHJcbmZ1bmN0aW9uIEdldERpc3RhbmNlKHZlYyA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHZlYy5kaXN0YW5jZTtcclxufVxyXG5cclxuZXhwb3J0IHtOZXdQb3MsIFRvTG9jYXRlUG9zLFxyXG4gICAgTmV3VmVjLCBOZXdWZWNXaXRoUG9zLCBHZXREaXN0YW5jZX0iLCJpbXBvcnQgeyBOZXdQb3MsIE5ld1ZlYyB9IGZyb20gXCIuL3BvaW50XCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIDJE5Z+656GA55+p5b2i77yM55Sx5Y+C6ICD5Z2Q5qCH77yM5YGP56e76YeP77yM5a696auY57uE5oiQXHJcbiAqIOS9jee9ruaYr+agueaNruebuOWvueWdkOagh+eul+WHuuadpVxyXG4gKiB4T2Zmc2V0LCB5T2Zmc2V0IDog55u45a+55Z2Q5qCH5YGP56e76YePXHJcbiAqIHdpZHRoLCBoZWlnaHQgOiDlrr3pq5hcclxuICogY2VudGVyIDog5a6e6ZmF5L2N572u77yI55+p5b2i5Lit5b+D77yJ77yM5YaF6YOo5L2/55So77yMY2VudGVyID0gdW5pdC5wb3MgKyByZWN0Lm9mZnNldFxyXG4gKi9cclxuY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKG9mZnNldCA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgY2VudGVyID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOefqeW9oum7mOiupOWxheS4reS6jm93bmVyXHJcbiAqIOatpOaWueazleS4gOiIrOeUsWNvbGxpZGVy6LCD55SoXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdSZWN0KHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGlmKHdpZHRoPT0wIHx8IGhlaWdodD09MCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgb2Zmc2V0ID0gTmV3VmVjKHhPZmZzZXQsIHlPZmZzZXQpO1xyXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUob2Zmc2V0LCB3aWR0aCwgaGVpZ2h0LCBOZXdQb3MoKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDlvZPliY3nn6nlvaLlsZ7mgKfvvIjkvY3nva7jgIHlgY/np7vph4/jgIHlpKflsI/nrYnvvInvvIzlkI7pnaLmiYDmnInmtonlj4rnn6nlvaLorqHnrpfnmoTlh73mlbDvvIzpg73lv4Xpobvlu7rnq4vlnKjlt7Lmm7TmlrDkuobnu53lr7nlnZDmoIfnmoTnn6nlvaLnmoTln7rnoYDkuYvkuIpcclxuICogeCwgeeaYr+e7neWvueWdkOagh1xyXG4gKi9cclxuZnVuY3Rpb24gVXBkYXRlUmVjdFNpemUocmVjdCA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICByZWN0LndpZHRoID0gd2lkdGg7XHJcbiAgICByZWN0LmhlaWdodCA9IGhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBVcGRhdGVSZWN0T2Zmc2V0KHJlY3QgPSBudWxsLCB4T2Zmc2V0ID0gMCwgeU9mZnNldCA9IDApe1xyXG4gICAgcmVjdC5vZmZzZXQueCA9IHhPZmZzZXQ7XHJcbiAgICByZWN0Lm9mZnNldC55ID0geU9mZnNldDtcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlUmVjdENlbnRlclBvcyhyZWN0ID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIHJlY3QuY2VudGVyLnggPSB4O1xyXG4gICAgcmVjdC5jZW50ZXIueSA9IHk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja7miYDlsZ7ljZXkvY3nmoTkvY3nva7mm7TmlrDnn6nlvaLkvY3nva7vvIjkuIDoiKzlnLrmma/osIPnlKjvvIlcclxuICovXHJcbmZ1bmN0aW9uIFVwZGF0ZVJlY3RQb3NCeVVuaXQocmVjdCA9IG51bGwsIHVuaXRQb3NYID0gMCwgdW5pdFBvc1kgPSAwKXtcclxuICAgIHJlY3QuY2VudGVyLnggPSB1bml0UG9zWCArIHJlY3Qub2Zmc2V0Lng7XHJcbiAgICByZWN0LmNlbnRlci55ID0gdW5pdFBvc1kgKyByZWN0Lm9mZnNldC55O1xyXG59XHJcblxyXG4vKipcclxuICog5Y+N5ZCR5L+u5aSNdW5pdOS9jee9ru+8iGZpeEluUmVjdOiwg+eUqO+8iVxyXG4gKi9cclxuZnVuY3Rpb24gRml4VW5pdFBvcyhyZWN0ID0gbnVsbCwgdW5pdFBvcyA9IG51bGwpe1xyXG4gICAgdW5pdFBvcy54ID0gcmVjdC5jZW50ZXIueCAtIHJlY3Qub2Zmc2V0Lng7XHJcbiAgICB1bml0UG9zLnkgPSByZWN0LmNlbnRlci55IC0gcmVjdC5vZmZzZXQueTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLlkITkuKrngrnkvY3nva7lkozlj4LmlbDvvIzorrDkvY/opoHlnKh1cGRhdGXlkI7lho3osIPnlKjvvIzku6XlhY3mlbDmja7mnInor69cclxuICovXHJcbmZ1bmN0aW9uIEdldFJlY3RPZmZzZXRWZWMocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qub2Zmc2V0O1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RDZW50ZXJQb3MocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3QuY2VudGVyO1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RTdGFydFBvcyhyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHJlY3QuY2VudGVyLnggLSBHZXRSZWN0SGFsZldpZHRoKHJlY3QpLFxyXG4gICAgICAgIHJlY3QuY2VudGVyLnkgLSBHZXRSZWN0SGFsZkhlaWdodChyZWN0KVxyXG4gICAgKTtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0RW5kUG9zKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcmVjdC5jZW50ZXIueCArIEdldFJlY3RIYWxmV2lkdGgocmVjdCksXHJcbiAgICAgICAgcmVjdC5jZW50ZXIueSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QpXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0V2lkdGgocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qud2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0UmVjdEhlaWdodChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC5oZWlnaHQ7XHJcbn1cclxuZnVuY3Rpb24gR2V0UmVjdEhhbGZXaWR0aChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC53aWR0aCAqIDAuNTtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGFsZkhlaWdodChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC5oZWlnaHQgKiAwLjU7XHJcbn1cclxuXHJcblxyXG4vL+axgumdouenr1xyXG5mdW5jdGlvbiBHZXRBcmVhKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LndpZHRoICogcmVjdC5oZWlnaHQ7XHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3UmVjdCwgVXBkYXRlUmVjdFNpemUsIFVwZGF0ZVJlY3RPZmZzZXQsIFVwZGF0ZVJlY3RDZW50ZXJQb3MsIFVwZGF0ZVJlY3RQb3NCeVVuaXQsIEZpeFVuaXRQb3MsXHJcbiAgICBHZXRSZWN0T2Zmc2V0VmVjLCBHZXRSZWN0Q2VudGVyUG9zLCBHZXRSZWN0U3RhcnRQb3MsIEdldFJlY3RFbmRQb3MsXHJcbiAgICBHZXRSZWN0V2lkdGgsIEdldFJlY3RIYWxmV2lkdGgsIEdldFJlY3RIZWlnaHQsIEdldFJlY3RIYWxmSGVpZ2h0LFxyXG4gICAgR2V0QXJlYVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBHZXRSZWN0Q2VudGVyWChyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gcmVjdC5jZW50ZXIueDtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBHZXRSZWN0WDEocmVjdCA9IG51bGwpe1xyXG4vLyAgICAgcmV0dXJuIEdldFJlY3RDZW50ZXJYKHJlY3QpIC0gcmVjdC53aWR0aCAqIDAuNTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBHZXRSZWN0WDIocmVjdCA9IG51bGwpe1xyXG4vLyAgICAgcmV0dXJuIEdldFJlY3RDZW50ZXJYKHJlY3QpICsgcmVjdC53aWR0aCAqIDAuNTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gR2V0UmVjdE9mZnNldFkocmVjdCA9IG51bGwpe1xyXG4vLyAgICAgcmV0dXJuIHJlY3Qub2Zmc2V0Lnk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RDZW50ZXJZKHJlY3QgPSBudWxsKXtcclxuLy8gICAgIHJldHVybiByZWN0LmNlbnRlci55O1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIEdldFJlY3RZMShyZWN0ID0gbnVsbCl7XHJcbi8vICAgICByZXR1cm4gR2V0UmVjdENlbnRlclkocmVjdCkgLSByZWN0LmhlaWdodCAqIDAuNTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBHZXRSZWN0WTIocmVjdCA9IG51bGwpe1xyXG4vLyAgICAgcmV0dXJuIEdldFJlY3RDZW50ZXJZKHJlY3QpICsgcmVjdC5oZWlnaHQgKiAwLjU7XHJcbi8vIH0iLCJpbXBvcnQgeyBOZXdQb3MsIE5ld1ZlYyB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludFwiO1xyXG5pbXBvcnQgeyBQdXNoVG9MaW5rLCBHZXRMaW5rRGF0YSwgTmV3TGluaywgUmVtb3ZlQnlLZXlJZCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuXHJcbi8qKlxyXG4gKiDkvY3nva7nu4Tku7ZcclxuICovXHJcbmNsYXNzIFBvc0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIHggPSAwLCB5ID0gMCl7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMucG9zID0gTmV3UG9zKHgsIHkpO1xyXG4gICAgICAgIHRoaXMudmVjID0gTmV3VmVjKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBwb3NDb21zID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBjcmVhdGVQb3NDb21wb25lbnQoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBsZXQgY29tID0gbmV3IFBvc0NvbXBvbmVudChlbnRpdHlJZCk7XHJcbiAgICBQdXNoVG9MaW5rKHBvc0NvbXMsIGNvbSk7XHJcbiAgICByZXR1cm4gY29tO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRQb3NDb21wb25lbnQoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBsZXQgY29tID0gR2V0TGlua0RhdGEocG9zQ29tcywgZW50aXR5SWQpO1xyXG4gICAgcmV0dXJuIGNvbSA/IGNvbSA6IGNyZWF0ZVBvc0NvbXBvbmVudChlbnRpdHlJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZVBvc0NvbXBvbmVudChlbnRpdHlJZCA9IDApe1xyXG4gICAgUmVtb3ZlQnlLZXlJZChwb3NDb21zLCBlbnRpdHlJZCk7XHJcbn1cclxuXHJcbmV4cG9ydHsgR2V0UG9zQ29tcG9uZW50LCBSZW1vdmVQb3NDb21wb25lbnR9IiwiaW1wb3J0IHsgR2V0UG9zQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBSZW1vdmVCeUtleUlkLCBOZXdMaW5rLCBHZXRMaW5rRGF0YSwgUHVzaFRvTGluayB9IGZyb20gJy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmsnO1xyXG5cclxuZnVuY3Rpb24gU2V0UG9zKGVudGl0eUlkID0gMCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIGxldCBwb3MgPSBHZXRQb3NDb21wb25lbnQoZW50aXR5SWQpLnBvcztcclxuICAgIHBvcy54ID0geDtcclxuICAgIHBvcy55ID0geTtcclxuICAgIHJldHVybiBwb3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFBvcyhlbnRpdHlJZCA9IDApe1xyXG4gICAgcmV0dXJuIEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCkucG9zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTZXRWZWMoZW50aXR5SWQgPSAwLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgbGV0IHZlYyA9IEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCkudmVjO1xyXG4gICAgdmVjLnggPSB4O1xyXG4gICAgdmVjLnkgPSB5O1xyXG4gICAgcmV0dXJuIHZlYztcclxufVxyXG5mdW5jdGlvbiBTZXRWZWNYKHZlYyA9IG51bGwsIHggPSAwKXtcclxuICAgIHZlYy54ID0geDtcclxufVxyXG5mdW5jdGlvbiBTZXRWZWNZKHZlYyA9IG51bGwsIHkgPSAwKXtcclxuICAgIHZlYy55ID0geTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VmVjKGVudGl0eUlkID0gMCl7XHJcbiAgICByZXR1cm4gR2V0UG9zQ29tcG9uZW50KGVudGl0eUlkKS52ZWM7XHJcbn1cclxuXHJcbnZhciBtb3ZlTGlzdCA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gR2V0TW92ZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gbW92ZUxpc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZE1vdmVyKGVudGl0eUlkID0gMCkge1xyXG4gICAgbGV0IG0gPSBHZXRMaW5rRGF0YShtb3ZlTGlzdCwgZW50aXR5SWQpO1xyXG4gICAgaWYobSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgUHVzaFRvTGluayhtb3ZlTGlzdCwgR2V0UG9zQ29tcG9uZW50KGVudGl0eUlkKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZU1vdmVyKGVudGl0eUlkID0gMCkge1xyXG4gICAgUmVtb3ZlQnlLZXlJZChtb3ZlTGlzdCwgZW50aXR5SWQpO1xyXG59XHJcblxyXG5leHBvcnQge1NldFBvcywgR2V0UG9zLCBHZXRWZWMsIFNldFZlYywgU2V0VmVjWCwgU2V0VmVjWSwgR2V0TW92ZXJMaXN0LCBBZGRNb3ZlciwgUmVtb3ZlTW92ZXJ9IiwiaW1wb3J0IHsgTmV3UG9zLCBOZXdWZWMgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnRcIjtcclxuaW1wb3J0IHsgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRQb3MsIEdldFZlYyB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIOefqeW9ouS4juS9jee9rueahOWFs+ezu+WFg+S7tlxyXG4gKi9cclxuY2xhc3MgUmVjdFBvc1R1cGxle1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCB4T2Zmc2V0ID0gMCwgeU9mZnNldCA9IDAsIHJlY3QgPSBudWxsKXtcclxuICAgICAgICB0aGlzLmVudGl0eUlkID0gZW50aXR5SWQ7XHJcbiAgICAgICAgdGhpcy51bml0UG9zID0gbnVsbDtcclxuICAgICAgICB0aGlzLnVuaXRWZWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gTmV3VmVjKHhPZmZzZXQsIHlPZmZzZXQpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1JlY3RQb3NUdXBsZShlbnRpdHlJZCA9IDAsIHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCwgcmVjdCA9IG51bGwpIHtcclxuICAgIGlmKCFyZWN0KXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCByID0gbmV3IFJlY3RQb3NUdXBsZShlbnRpdHlJZCwgeE9mZnNldCwgeU9mZnNldCwgcmVjdCk7XHJcbiAgICByLnVuaXRQb3MgPSBHZXRQb3MoZW50aXR5SWQpO1xyXG4gICAgci51bml0VmVjID0gR2V0VmVjKGVudGl0eUlkKTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVSZWN0UG9zT2Zmc2V0KHJlY3RQb3NUdXBsZSA9IG51bGwsIHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCl7XHJcbiAgICByZWN0UG9zVHVwbGUub2Zmc2V0LnggPSB4T2Zmc2V0O1xyXG4gICAgcmVjdFBvc1R1cGxlLm9mZnNldC55ID0geU9mZnNldDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFVuaXRQb3MocmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdFBvc1R1cGxlLnVuaXRQb3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NPZmZzZXQocmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdFBvc1R1cGxlLm9mZnNldDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueCArIHJlY3RQb3NUdXBsZS5vZmZzZXQueCxcclxuICAgICAgICByZWN0UG9zVHVwbGUudW5pdFBvcy55ICsgcmVjdFBvc1R1cGxlLm9mZnNldC55LFxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZS5yZWN0KSxcclxuICAgICAgICBwb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZS5yZWN0KVxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBwb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvcy54ICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUucmVjdCksXHJcbiAgICAgICAgcG9zLnkgKyBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUucmVjdClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIE5ld1JlY3RQb3NUdXBsZSwgVXBkYXRlUmVjdFBvc09mZnNldCxcclxuICAgIEdldFJlY3RVbml0UG9zLCBHZXRSZWN0UG9zT2Zmc2V0LCBHZXRSZWN0UG9zQ2VudGVyLCBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3RQb3NFbmRcclxufSIsIlxyXG4vKipcclxuICog6K6w5b2VYml0bWFwRGF0YeeahOWJquijgeWMuuWfn1xyXG4gKi9cclxuY2xhc3MgVGV4dHVyZUFyZWEge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuIDlvKDlm77kuK3nmoTkuIDkuKrljLrln5/vvIznurnnkIbluKfmiJbnsr7ngbXluKfvvIzljZXkvovvvIzlkozlvJXmk47mnInlhbNcclxuICog57K+54G15bin55So5LqO5qCH5Ye65LiA5byg57q555CG5Zu+55qE5oyH5a6a5Y+W5p2Q5Yy65Z+f77yM5Lul5Y+K55u45a+555qE5pi+56S65L2N572uXHJcbiAqL1xyXG5jbGFzcyBTcHJpdGVGcmFtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gXCJcIiwgYml0bWFwRGF0YSA9IG51bGwsIHRleHR1cmVBcmVhID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5iaXRtYXBEYXRhID0gYml0bWFwRGF0YTtcclxuICAgICAgICB0aGlzLnRleHR1cmVBcmVhID0gdGV4dHVyZUFyZWE7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5om+5LiN5Yiw5bin5pe255qE6buY6K6k56m65bin77yM5Y+v5Lul5piv5LiA5byg57qi5Y+J5Zu+54mH77yMXHJcbiAqIFRPRE8g5byV5YWl6buY6K6k6LWE5rqQ5py65Yi2XHJcbiAqL1xyXG52YXIgX3Nwcml0ZUZyYW1lTWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBnZXRTcHJpdGVGcmFtZUJ5TmFtZShuYW1lID0gXCJcIil7XHJcbiAgICBsZXQgZiA9IF9zcHJpdGVGcmFtZU1hcC5nZXQobmFtZSk7XHJcbiAgICByZXR1cm4gZiA/IGYgOiBfc3ByaXRlRnJhbWVNYXAuZ2V0KFwiZGVmYWx1dFwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3ByaXRlRnJhbWUobmFtZSA9IFwiXCIsIGJpdG1hcERhdGEgPSBudWxsLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICBpZihfc3ByaXRlRnJhbWVNYXAuZ2V0KG5hbWUpKXtcclxuICAgICAgICAvL2V4aXN0c1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGYgPSBuZXcgU3ByaXRlRnJhbWUobmFtZSwgYml0bWFwRGF0YSwgbmV3IFRleHR1cmVBcmVhKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgIF9zcHJpdGVGcmFtZU1hcC5zZXQobmFtZSwgZik7XHJcbiAgICByZXR1cm4gZjtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVXaWR0aChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLnRleHR1cmVBcmVhLndpZHRoO1xyXG59XHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUudGV4dHVyZUFyZWEuaGVpZ2h0O1xyXG59XHJcblxyXG5leHBvcnR7Z2V0U3ByaXRlRnJhbWVCeU5hbWUsIGNyZWF0ZVNwcml0ZUZyYW1lLCBHZXRTcHJpdGVGcmFtZVdpZHRoLCBHZXRTcHJpdGVGcmFtZUhlaWdodH0iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IFB1c2hUb0xpbmssIEdldExpbmtEYXRhLCBSZW1vdmVCeUtleUlkLCBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuaW1wb3J0IHsgTmV3UmVjdFBvc1R1cGxlIH0gZnJvbSBcIi4uL3Bvcy9yZWN0L2NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBOZXdSZWN0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3JlY3RcIjtcclxuaW1wb3J0IHsgR2V0U3ByaXRlRnJhbWVXaWR0aCwgR2V0U3ByaXRlRnJhbWVIZWlnaHQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZnJhbWVcIjtcclxuaW1wb3J0IHsgR2V0UG9zIH0gZnJvbSBcIi4uL3Bvcy91dGlsc1wiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDmmL7npLrnu4Tku7bvvIzljIXlkKvkuIDkupvnn6npmLXmlbDmja5cclxuICovXHJcbmNsYXNzIFJlbmRlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBhbmdsZSA9IDAsIHNjYWxlID0gMSkge1xyXG4gICAgICAgIHN1cGVyKGVudGl0eUlkKTtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xyXG5cdH1cclxufVxyXG5cclxudmFyIHJlbmRlckNvbXMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbXBvbmVudChlbnRpdHlJZCA9IDAsIHZpZXdEYXRhID0gbnVsbCkge1xyXG4gICAgdmlld0RhdGEgPSB2aWV3RGF0YSA/IHZpZXdEYXRhIDoge307XHJcbiAgICBsZXQgY29tID0gbmV3IFJlbmRlckNvbXBvbmVudChlbnRpdHlJZCwgdmlld0RhdGEuYW5nbGUsIHZpZXdEYXRhLnNjYWxlKTtcclxuICAgIFB1c2hUb0xpbmsocmVuZGVyQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlbmRlckNvbXBvbmVudChlbnRpdHlJZCA9IDAsIHZpZXdEYXRhID0gbnVsbCkge1xyXG4gICAgbGV0IGNvbSA9IEdldExpbmtEYXRhKHJlbmRlckNvbXMsIGVudGl0eUlkKTtcclxuICAgIHJldHVybiBjb20gPyBjb20gOiBjcmVhdGVSZW5kZXJDb21wb25lbnQoZW50aXR5SWQsIHZpZXdEYXRhKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmmL7npLrlhYPku7ZcclxuICog55uu5YmN5L2/55SodHVwbGXvvIzlj6/ku6XlhbzlrrnkuIDkuKp1bml05ZCM5pe25oyC5aSa5Liqc3ByaXRlRnJhbWXnmoTpnIDmsYJcclxuICog5aaC5p6c6ZyA6KaB6ZmQ5Yi25LiA5LiqdW5pdOS7heacieS4gOS4qnNwcml0ZUZyYW1l77yM5bCx5L2/55SoY29tcG9uZW50XHJcbiAqL1xyXG5jbGFzcyBEaXNwbGF5VHVwbGUgZXh0ZW5kcyBUdXBsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIHNwcml0ZUZyYW1lID0gbnVsbCwgZGlzcGxheUFyZWEgPSBudWxsKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUFyZWEgPSBkaXNwbGF5QXJlYTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOeUu+W4g+S4iueahOaYvuekuumYn+WIl1xyXG4gKi9cclxudmFyIGRpc3BsYXlMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXREaXNwbGF5TGlzdCgpe1xyXG4gICAgcmV0dXJuIGRpc3BsYXlMaXN0O1xyXG59XHJcblxyXG4vKipcclxuICog5Yqg5YWl5riy5p+T6Zif5YiXXHJcbiAqIEBwYXJhbSB7Kn0gZGlzcGxheUFyZWEgUmVjdOexu+Wei1xyXG4gKi9cclxuZnVuY3Rpb24gQWRkRGlzcGxheShlbnRpdHlJZCA9IDAsIHNwcml0ZUZyYW1lID0gbnVsbCwgeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwKSB7XHJcbiAgICBsZXQgcG9zID0gR2V0UG9zKGVudGl0eUlkKTtcclxuICAgIGxldCByZWN0UG9zID0gTmV3UmVjdFBvc1R1cGxlKHBvcywgeE9mZnNldCwgeU9mZnNldCxcclxuICAgICAgICBOZXdSZWN0KFxyXG4gICAgICAgICAgICBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSxcclxuICAgICAgICAgICAgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpKSk7XHJcbiAgICBsZXQgdCA9IG5ldyBEaXNwbGF5VHVwbGUoZW50aXR5SWQsIHNwcml0ZUZyYW1lLCByZWN0UG9zKTtcclxuICAgIFB1c2hUb0xpbmsoZGlzcGxheUxpc3QsIHQpO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZURpc3BsYXkoZGlzcGxheUlkID0gMCkge1xyXG4gICAgUmVtb3ZlQnlLZXlJZChkaXNwbGF5TGlzdCwgZGlzcGxheUlkKTtcclxufVxyXG5cclxuZXhwb3J0IHtHZXRSZW5kZXJDb21wb25lbnQsIEdldERpc3BsYXlMaXN0LCBBZGREaXNwbGF5LCBSZW1vdmVEaXNwbGF5fSIsIlxyXG5mdW5jdGlvbiBBYnModmFsID0gMCl7XHJcbiAgICByZXR1cm4gdmFsID49IDAgPyB2YWwgOiAtdmFsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBNYXgodmFsMSA9IDAsIHZhbDIgPSAwKXtcclxuICAgIHJldHVybiB2YWwxID4gdmFsMiA/IHZhbDEgOiB2YWwyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBNaW4odmFsMSA9IDAsIHZhbDIgPSAwKXtcclxuICAgIHJldHVybiB2YWwxIDwgdmFsMiA/IHZhbDEgOiB2YWwyO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBBYnMsIE1heCwgTWluXHJcbn0iLCJpbXBvcnQgeyBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3RQb3NFbmQsIE5ld1JlY3RQb3NUdXBsZSwgR2V0UmVjdFBvc0NlbnRlciB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBOZXdQb3MgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnRcIjtcclxuaW1wb3J0IHsgTmV3UmVjdCwgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcmVjdFwiO1xyXG5pbXBvcnQgeyBBYnMgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvbWF0aFwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDnm67liY3nmoTmnLrliLbvvIzlj6/ku6Xkvb/nlKjnn6nlvaLkuK3lv4PngrnkuYvpl7TnmoTot53nprvliKTmlq3mmK/lkKbnm7jkuqRcclxuICovXHJcbmZ1bmN0aW9uIElzUmVjdHNDcm9zcyhyZWN0UG9zVHVwbGUxID0gbnVsbCwgcmVjdFBvc1R1cGxlMiA9IG51bGwpe1xyXG4gICAgbGV0IHBvczEgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IHBvczIgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IHcgPSBBYnMocG9zMS54IC0gcG9zMi54KTtcclxuICAgIGlmKHcgPiBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCBoID0gQWJzKHBvczEueSAtIHBvczIueSk7XHJcbiAgICBpZihoID4gR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBJc1JlY3RzQ3Jvc3NXaXRoVmVjKHJlY3RQb3NUdXBsZTEgPSBudWxsLCByZWN0UG9zVHVwbGUyID0gbnVsbCkge1xyXG4gICAgbGV0IHJwMSA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgcG9zMSA9IE5ld1BvcyhcclxuICAgICAgICBycDEueCArIHJlY3RQb3NUdXBsZTEudW5pdFZlYy54LFxyXG4gICAgICAgIHJwMS55ICsgcmVjdFBvc1R1cGxlMS51bml0VmVjLnlcclxuICAgICk7XHJcbiAgICBsZXQgcnAyID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUyKTtcclxuICAgIGxldCBwb3MyID0gTmV3UG9zKFxyXG4gICAgICAgIHJwMi54ICsgcmVjdFBvc1R1cGxlMi51bml0VmVjLngsXHJcbiAgICAgICAgcnAyLnkgKyByZWN0UG9zVHVwbGUyLnVuaXRWZWMueVxyXG4gICAgKTtcclxuICAgIGxldCB3ID0gQWJzKHBvczEueCAtIHBvczIueCk7XHJcbiAgICBpZih3ID4gR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUyLnJlY3QpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBsZXQgaCA9IEFicyhwb3MxLnkgLSBwb3MyLnkpO1xyXG4gICAgaWYoaCA+IEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUyLnJlY3QpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4pOS4quefqeW9ouaYr+WQpuebuOS6pO+8jOWfuuehgOeisOaSnuajgOa1i++8iOmcgOimgeWFiOabtOaWsOWdkOagh++8iVxyXG4gKiDljp/nkIbvvJpcclxuICogIOW3pnjvvIzlj5bkuKTogIXmnIDlpKflgLxcclxuICogIOWPs3jvvIzlj5bkuKTogIXmnIDlsI/lgLxcclxuICogIOWmguaenOWPs3jlpKfkuo7lt6Z477yM5YiZeOi9tOebuOS6pFxyXG4gKiBZ5ZCM55CG77yaXHJcbiAqICDkuIp577yM5Y+W5Lik6ICF5pyA5aSn5YC8XHJcbiAqICDkuIt577yM5Y+W5Lik6ICF5pyA5bCP5YC8XHJcbiAqICDlpoLmnpzkuIt55aSn5LqO5LiKee+8jOWImXnovbTnm7jkuqRcclxuICogIOebruWJje+8jOWNs+S9v+S4pOi+uemHjeWPoO+8jOS5n+S4jeeul+ebuOS6pO+8jOi/meagt+iDvemBv+WFjeW+iOWkmumXrumimFxyXG4gKi9cclxuZnVuY3Rpb24gTmV3SW5uZXJSZWN0KHJlY3RQb3NUdXBsZTEgPSBudWxsLCByZWN0UG9zVHVwbGUyID0gbnVsbCl7XHJcbiAgICBpZighSXNSZWN0c0Nyb3NzKHJlY3RQb3NUdXBsZTEsIHJlY3RQb3NUdXBsZTIpKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3RhcnQxID0gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IHN0YXJ0MiA9IEdldFJlY3RQb3NTdGFydChyZWN0UG9zVHVwbGUyKTtcclxuICAgIGxldCBlbmQxID0gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBlbmQyID0gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUyKTtcclxuXHJcbiAgICBsZXQgcjF4MSA9IHN0YXJ0MS54O1xyXG4gICAgbGV0IHIyeDEgPSBzdGFydDIueDtcclxuICAgIGxldCBtYXhYMSA9IHIxeDEgPiByMngxID8gcjF4MSA6IHIyeDE7XHJcblxyXG4gICAgbGV0IHIxeDIgPSBlbmQxLng7XHJcbiAgICBsZXQgcjJ4MiA9IGVuZDIueDtcclxuICAgIGxldCBtaW5YMiA9IHIxeDIgPCByMngyID8gcjF4MiA6IHIyeDI7XHJcblxyXG4gICAgbGV0IHIxeTEgPSBzdGFydDEueTtcclxuICAgIGxldCByMnkxID0gc3RhcnQyLnk7XHJcbiAgICBsZXQgbWF4WTEgPSByMXkxID4gcjJ5MSA/IHIxeTEgOiByMnkxO1xyXG5cclxuICAgIGxldCByMXkyID0gZW5kMS55O1xyXG4gICAgbGV0IHIyeTIgPSBlbmQyLnk7XHJcbiAgICBsZXQgbWluWTIgPSByMXkyIDwgcjJ5MiA/IHIxeTIgOiByMnkyO1xyXG5cclxuICAgIGxldCB3aWR0aCA9IG1pblgyIC0gbWF4WDE7XHJcbiAgICBsZXQgaGVpZ2h0ID0gbWluWTIgLSBtYXhZMTtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIGlmKCFyZWN0KXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV3UmVjdFBvc1R1cGxlKFxyXG4gICAgICAgIE5ld1BvcyhcclxuICAgICAgICAgICAgbWF4WDEgKyBHZXRSZWN0SGFsZldpZHRoKHJlY3QpLFxyXG4gICAgICAgICAgICBtYXhZMSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QpXHJcbiAgICAgICAgKSwgMCwgMCwgcmVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkv67lpI3kvY3nva7vvIzmoLnmja5yZWN055qE5Lit5b+D5L2N572u5L+u5aSNdW5pdC5wb3NcclxuICovXHJcbmZ1bmN0aW9uIEZpeFVuaXRQb3MocmVjdFBvc1R1cGxlID0gbnVsbCwgcmVjdFggPSAwLCByZWN0WSA9IDApe1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueCA9IHJlY3RYIC0gcmVjdFBvc1R1cGxlLm9mZnNldC54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLm9mZnNldC55O1xyXG59XHJcblxyXG5mdW5jdGlvbiBGaXhVbml0VmVjKHJlY3RQb3NUdXBsZSA9IG51bGwsIHJlY3RYID0gMCwgcmVjdFkgPSAwKSB7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFZlYy54ID0gcmVjdFggLSByZWN0UG9zVHVwbGUudW5pdFBvcy54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRWZWMueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLnVuaXRQb3MueTsgICAgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBpbm5lci5yZWN05LiN5YeG6LaK5Ye6b3V0dGVyLnJlY3TvvIzkv67mraNpbm5yZXIucG9z5L2N572uXHJcbiAqIGlubmVy5ZKMb3V0dGVy6YO95pivUmVjdFBvc1R1cGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhJblJlY3Qob3V0dGVyID0gbnVsbCwgaW5uZXIgPSBudWxsKXtcclxuICAgIGxldCBjZW50ZXJQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKGlubmVyKTtcclxuICAgIGxldCBpbm5lclN0YXJ0UG9zID0gR2V0UmVjdFBvc1N0YXJ0KGlubmVyKTtcclxuICAgIGxldCBpbm5lckVuZFBvcyA9IEdldFJlY3RQb3NFbmQoaW5uZXIpO1xyXG4gICAgbGV0IG91dHRlclN0YXJ0UG9zID0gR2V0UmVjdFBvc1N0YXJ0KG91dHRlcik7XHJcbiAgICBsZXQgb3V0dGVyRW5kUG9zID0gR2V0UmVjdFBvc0VuZChvdXR0ZXIpO1xyXG5cclxuICAgIGxldCB4ID0gY2VudGVyUG9zLng7XHJcbiAgICBpZihpbm5lclN0YXJ0UG9zLnggPCBvdXR0ZXJTdGFydFBvcy54KXtcclxuICAgICAgICB4ID0gb3V0dGVyU3RhcnRQb3MueCArIEdldFJlY3RIYWxmV2lkdGgoaW5uZXIpO1xyXG4gICAgfWVsc2UgaWYoaW5uZXJFbmRQb3MueCA+IG91dHRlckVuZFBvcy54KXtcclxuICAgICAgICB4ID0gb3V0dGVyRW5kUG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKGlubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgeSA9IGNlbnRlclBvcy55O1xyXG4gICAgaWYoaW5uZXJTdGFydFBvcy55IDwgb3V0dGVyU3RhcnRQb3MueSl7XHJcbiAgICAgICAgeSA9IG91dHRlclN0YXJ0UG9zLnkgKyBHZXRSZWN0SGFsZkhlaWdodChpbm5lcik7XHJcbiAgICB9ZWxzZSBpZihpbm5lckVuZFBvcy55ID4gb3V0dGVyRW5kUG9zLnkpe1xyXG4gICAgICAgIHkgPSBvdXR0ZXJTdGFydFBvcy55IC0gR2V0UmVjdEhhbGZIZWlnaHQoaW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIEZpeFVuaXRQb3MoaW5uZXIsIHgsIHkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOW9k+WJjeS9jee9ruaYr+WQpuWcqOefqeW9ouS4re+8iOWQjOagt+mcgOimgeWFiOabtOaWsHJlY3TkvY3nva7vvIlcclxuICog5YyF5ZCr6Lip57q/5oOF5Ya1XHJcbiAqL1xyXG5mdW5jdGlvbiBJc1Bvc0luUmVjdCh4ID0gMCwgeSA9IDAsIHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0UG9zID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUpO1xyXG4gICAgbGV0IGVuZFBvcyA9IEdldFJlY3RQb3NFbmQocmVjdFBvc1R1cGxlKTtcclxuICAgIHJldHVybiB4ID49IHN0YXJ0UG9zLnggJiYgeCA8PSBlbmRQb3MueFxyXG4gICAgICAgICYmIHkgPj0gc3RhcnRQb3MueSAmJiB5IDw9IGVuZFBvcy55O1xyXG59XHJcblxyXG5leHBvcnQge05ld0lubmVyUmVjdCwgSXNSZWN0c0Nyb3NzLCBJc1JlY3RzQ3Jvc3NXaXRoVmVjLCBGaXhVbml0UG9zLCBGaXhVbml0VmVjLCBGaXhJblJlY3QsIElzUG9zSW5SZWN0fVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLSDku6XkuIvlvoXlrppcclxuXHJcbi8qKlxyXG4gKiDmoLnmja7nur/mrrXkvZznn6nlvaJcclxuICovXHJcbmZ1bmN0aW9uIE5ld091dHRlclJlY3QoeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwKXtcclxuICAgIGxldCB3aWR0aCA9IHgyIC0geDE7XHJcbiAgICBsZXQgaGVpZ2h0ID0geTIgLSB5MTtcclxuICAgIGlmKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGNlbnRlclggPSB4MSArICh4MiAtIHgxKSAqIDAuNTtcclxuICAgIGxldCBjZW50ZXJZID0geTEgKyAoeTIgLSB5MSkgKiAwLjU7XHJcbiAgICBsZXQgcmVjdCA9IE5ld1JlY3REZWZhdWx0KHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgVXBkYXRlUmVjdFBvcyhyZWN0LCBjZW50ZXJYLCBjZW50ZXJZKTtcclxuICAgIHJldHVybiByZWN0O1xyXG59XHJcblxyXG4vKipcclxuICog5Lik5Liq55+p5b2i6Ze055qE5aSW5o6l55+p5b2iXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdPdXR0ZXJSZWN0QnlSZWN0cyhyZWN0MSA9IG51bGwsIHJlY3QyID0gbnVsbCl7XHJcbiAgICBsZXQgcjF4MSA9IEdldFJlY3RYMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ4MSA9IEdldFJlY3RYMShyZWN0Mik7XHJcbiAgICBsZXQgeDEgPSByMXgxIDwgcjJ4MSA/IHIxeDEgOiByMngxO1xyXG4gICAgbGV0IHIxeDIgPSBHZXRSZWN0WDIocmVjdDEpO1xyXG4gICAgbGV0IHIyeDIgPSBHZXRSZWN0WDIocmVjdDIpO1xyXG4gICAgbGV0IHgyID0gcjF4MiA+IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IEdldFJlY3RZMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ5MSA9IEdldFJlY3RZMShyZWN0Mik7XHJcbiAgICBsZXQgeTEgPSByMXkxIDwgcjJ5MSA/IHIxeTEgOiByMnkxO1xyXG4gICAgbGV0IHIxeTIgPSBHZXRSZWN0WTIocmVjdDEpO1xyXG4gICAgbGV0IHIyeTIgPSBHZXRSZWN0WTIocmVjdDIpO1xyXG4gICAgbGV0IHkyID0gcjF5MiA+IHIyeTIgPyByMXkyIDogcjJ5MjtcclxuXHJcbiAgICByZXR1cm4gTmV3T3V0dGVyUmVjdCh4MSwgeTEsIHgyLCB5Mik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog55+p5b2i5o6S5pal77yMdGFyZ2V0UmVjdOS8muiiq2Jsb2NrUmVjdOW8ueWHuuWOu1xyXG4gKiBUT0RP77yM5Lul5ZCO5a6M5ZaE5rOo6YeKXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhFeGNsdWRlUmVjdChibG9ja1JlY3QgPSBudWxsLCB0YXJnZXRSZWN0ID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IGJsb2NrUmVjdC5wb3M7XHJcbiAgICBsZXQgcG9zMiA9IHRhcmdldFJlY3QucG9zO1xyXG4gICAgLy/orqHnrpflhbPns7vvvIzkuIrkuIvlt6blj7NcclxuICAgIGxldCB2eCA9IHBvczEueCAtIHBvczIueDtcclxuICAgIGxldCB2eSA9IHBvczEueSAtIHBvczIueTtcclxuICAgIGxldCB4ID0gdnggPCAwID8gdngqLTEgOiB2eDtcclxuICAgIGxldCB5ID0gdnkgPCAwID8gdnkqLTEgOiB2eTtcclxuICAgIGlmKHggPiB5KXtcclxuICAgICAgICAvL+W3puWPs1xyXG4gICAgICAgIGlmKHZ4ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjlt6ZcclxuICAgICAgICAgICAgcG9zMi54ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnggLSB0YXJnZXRSZWN0LndpZHRoIC0gdGFyZ2V0UmVjdC54T2Zmc2V0O1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5Y+zXHJcbiAgICAgICAgICAgIHBvczIueCA9IGJsb2NrUmVjdC5wb3NFbmQueCAtIHRhcmdldFJlY3QueE9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICAvL+S4iuS4i1xyXG4gICAgICAgIGlmKHZ5ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjkuIpcclxuICAgICAgICAgICAgcG9zMi55ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnkgLSB0YXJnZXRSZWN0LmhlaWdodCAtIHRhcmdldFJlY3QueU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOS4i1xyXG4gICAgICAgICAgICBwb3MyLnkgPSBibG9ja1JlY3QucG9zRW5kLnkgLSB0YXJnZXRSZWN0LnlPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgVXBkYXRlUmVjdCh0YXJnZXRSZWN0KTtcclxufSIsImltcG9ydCB7IFNldFBvcyB9IGZyb20gXCIuLi9wb3MvdXRpbHNcIjtcclxuaW1wb3J0IHsgTmV3UmVjdCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0XCI7XHJcbmltcG9ydCB7IFRvTG9jYXRlUG9zLCBOZXdQb3MgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnRcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjc1wiO1xyXG5pbXBvcnQgeyBJc1JlY3RzQ3Jvc3MgfSBmcm9tIFwiLi4vcG9zL3JlY3QvdXRpbHNcIjtcclxuaW1wb3J0IHsgTmV3UmVjdFBvc1R1cGxlLCBHZXRSZWN0UG9zU3RhcnQgfSBmcm9tIFwiLi4vcG9zL3JlY3QvY29tcG9uZW50XCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIOS7o+eggemHj+Wwke+8jOaaguaXtui/meagt+aUvlxyXG4gKi9cclxuY2xhc3MgQ2FtZXJhIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBvcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3Q2FtZXJhKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCBjYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XHJcbiAgICBjYW1lcmEucG9zID0gU2V0UG9zKGNhbWVyYS5pZCwgeCwgeSk7XHJcbiAgICBjYW1lcmEucmVjdCA9IE5ld1JlY3RQb3NUdXBsZShjYW1lcmEuaWQsIDAsIDAsIE5ld1JlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgcmV0dXJuIGNhbWVyYTtcclxufVxyXG5cclxuLy/nm67moIfnn6nlvaLmmK/lkKblnKjplZzlpLTlhoVcclxuZnVuY3Rpb24gSXNJbkNhbWVyYShjYW1lcmEgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gSXNSZWN0c0Nyb3NzKGNhbWVyYS5yZWN0LCByZWN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOi9rOS4uumVnOWktOWdkOagh1xyXG4gKiB0YXJnZXRQb3PvvIzlpoLmnpzmmK9yZWN077yM6K+355Soc3RhcnRQb3NcclxuICovXHJcbmZ1bmN0aW9uIFRvU2NyZWVuUG9zKGNhbWVyYSA9IG51bGwsIHRhcmdldFBvcyA9IG51bGwpe1xyXG4gICAgcmV0dXJuIFRvTG9jYXRlUG9zKHRhcmdldFBvcywgR2V0UmVjdFBvc1N0YXJ0KGNhbWVyYS5yZWN0KSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDplZzlpLTlnZDmoIfovazkuLrlhajlsYDlnZDmoIdcclxuICovXHJcbmZ1bmN0aW9uIFRvV29ybGRQb3MoY2FtZXJhID0gbnVsbCwgc2NyZWVuWCA9IDAsIHNjcmVlblkgPSAwKXtcclxuICAgIGxldCBzdGFydCA9IEdldFJlY3RQb3NTdGFydChjYW1lcmEucmVjdCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyBzY3JlZW5YLFxyXG4gICAgICAgIHN0YXJ0LnkgKyBzY3JlZW5ZXHJcbiAgICApO1xyXG59XHJcblxyXG4vKipcclxuICog6ZWc5aS056e75YqoXHJcbiAqL1xyXG5mdW5jdGlvbiBDYW1lcmFNb3ZlKGNhbWVyYSA9IG51bGwsIHggPSAwLCB5ID0gMCl7XHJcbiAgICBTZXRQb3MoY2FtZXJhLmlkLCB4LCB5KTtcclxuICAgIFVwZGF0ZVJlY3RQb3NCeVVuaXQoY2FtZXJhLnJlY3QsIHgsIHkpO1xyXG59XHJcblxyXG5leHBvcnR7TmV3Q2FtZXJhLCBJc0luQ2FtZXJhLCBUb1NjcmVlblBvcywgVG9Xb3JsZFBvc30iLCJcclxuLyoqXHJcbiAqIOa1j+iniOWZqOeahGtleS1jb2RlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgS0VZX1JJR0hUID0gMzk7XHJcbmV4cG9ydCBjb25zdCBLRVlfTEVGVCA9IDM3O1xyXG5leHBvcnQgY29uc3QgS0VZX1VQID0gMzg7XHJcbmV4cG9ydCBjb25zdCBLRVlfRE9XTiA9IDQwO1xyXG5cclxuZXhwb3J0IGNvbnN0IEtFWV9TUEFDRSA9IDMyO1xyXG5cclxuZXhwb3J0IGNvbnN0IEtFWV9XID0gODc7XHJcbmV4cG9ydCBjb25zdCBLRVlfQSA9IDY1O1xyXG5leHBvcnQgY29uc3QgS0VZX1MgPSA4MztcclxuZXhwb3J0IGNvbnN0IEtFWV9EID0gNjg7XHJcblxyXG4vKipcclxuICogIGVuZ2luZSA9IHdlYi1icm93c2VyLCBjYW52YXNcclxuICovXHJcbnZhciBfZW5naW5lID0ge1xyXG5cdGN0eCA6IG51bGwsXHJcbiAgICBjYW52YXMgOiBudWxsLFxyXG4gICAgZnBzIDogMCxcclxuICAgIHRpY2sgOiAwXHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRFbmdpbmUoKXtcclxuICAgIHJldHVybiBfZW5naW5lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0Q2FudmFzKHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZnBzID0gMTApe1xyXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgX2VuZ2luZS5jYW52YXMgPSBjYW52YXM7XHJcbiAgICBfZW5naW5lLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBfZW5naW5lLmN0eC5zdHJva2VTdHlsZT1cIiMwMDAwZmZcIjsgICAgICAgICAgLy/nlLvnn6nlvaLmoYbnlKjnmoRcclxuICAgIF9lbmdpbmUuZnBzID0gZnBzO1xyXG4gICAgX2VuZ2luZS50aWNrID0gMTAwMCAvIGZwcztcclxufVxyXG5cclxuZXhwb3J0e2dldEVuZ2luZSwgaW5pdENhbnZhc30iLCJpbXBvcnQgeyBnZXRFbmdpbmUgfSBmcm9tIFwiLi9tb2RlbFwiO1xyXG5cclxudmFyIF9lbmdpbmUgPSBnZXRFbmdpbmUoKTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgbGV0IGMgPSBfZW5naW5lLmNhbnZhcztcclxuICAgIF9lbmdpbmUuY3R4LmNsZWFyUmVjdCgwLCAwLCBjLndpZHRoLCBjLmhlaWdodCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXcoaW1nRGF0YSwgeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcclxuICAgIGxldCBjdHggPSBfZW5naW5lLmN0eDtcclxuXHRjdHguZHJhd0ltYWdlKGltZ0RhdGEsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG5jb25zdCBSYWRpdXMgPSBNYXRoLlBJLzE4MDtcclxuZnVuY3Rpb24gRHJhd0ltYWdlV2l0aEFuZ2xlKGFuZ2xlID0gMCwgaW1nRGF0YSwgc3ggPSAwLCBzeSA9IDAsIHN3aWR0aCA9IDAsIHNoZWlnaHQgPSAwLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC50cmFuc2xhdGUoeCArIHdpZHRoLzIsIHkgKyBoZWlnaHQvMik7XHJcbiAgICBjdHgucm90YXRlKGFuZ2xlICogUmFkaXVzKTtcclxuICAgIERyYXdJbWFnZShpbWdEYXRhLCBzeCwgc3ksIHN3aWR0aCwgc2hlaWdodCwgLXdpZHRoLzIsIC1oZWlnaHQvMiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgIC8vIGN0eC50cmFuc2xhdGUoMTAwLCAxMDApO1xyXG5cdC8vIGN0eC5yb3RhdGUoOTAgKiBNYXRoLlBJLzE4MCk7XHQvL+S7peS4iumdoueahOWBj+enu+eCueS4uuWHhu+8jOi/m+ihjOaXi+i9rFxyXG5cdC8vIGN0eC5kcmF3SW1hZ2UoaSwgMTg3LCAwLCAxODYsIDEzMCwgLTAsIC0wLCAxMDAsIDEwMCk7XHJcbn1cclxuXHJcbi8v5Y+C6ICD77yaY29udGV4dC5kcmF3SW1hZ2UoaW1nLHN4LHN5LHN3aWR0aCxzaGVpZ2h0LHgseSx3aWR0aCxoZWlnaHQpO1xyXG5mdW5jdGlvbiBkcmF3SW1hZ2UoaW1nRGF0YSwgc3ggPSAwLCBzeSA9IDAsIHN3aWR0aCA9IDAsIHNoZWlnaHQgPSAwLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG5cdGN0eC5kcmF3SW1hZ2UoaW1nRGF0YSwgc3gsIHN5LCBzd2lkdGgsIHNoZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UmVjdCh4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICBsZXQgY3R4ID0gX2VuZ2luZS5jdHg7XHJcbiAgICBjdHguc3Ryb2tlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0xpbmUoeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwKXtcclxuICAgIGxldCBjdHggPSBfZW5naW5lLmN0eDtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgIGN0eC5saW5lVG8oeDIsIHkyKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0NpcmNsZSh4ID0gMCwgeSA9IDAsIHJhZGl1cyA9IDApe1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxufVxyXG5cclxuZXhwb3J0e2NsZWFyLCBkcmF3SW1hZ2UsIGRyYXdSZWN0LCBkcmF3TGluZSwgZHJhd0NpcmNsZX0iLCJpbXBvcnQgeyBFbnRpdHksIFN5c3RlbSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuaW1wb3J0IHsgSXNSZWN0c0Nyb3NzIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3V0aWxzXCI7XHJcblxyXG4vKipcclxuICog56Kw5pKe5YWD5Lu2XHJcbiAqIHRhZyA6IOiHquWumuS5ieagh+ivhueggVxyXG4gKi9cclxuY2xhc3MgQ29sbGlkZXIgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5lbnRpdHlJZCA9IGVudGl0eUlkO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XHJcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NUdXBsZShjb2xsaWRlciA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGNvbGxpZGVyLnJlY3Q7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog56Kw5pKe5qOA5rWL5Li757O757ufXHJcbiAqIGNhbGxiYWNrID0gZnVuY3Rpb24oZHQsIGNvbGxpZGVyMSwgY29sbGlkZXIyKVxyXG4gKi9cclxuY2xhc3MgQ29sbGlkZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuICAgIGNoZWNrKGR0ID0gMCwgY29sbGlkZXIxID0gbnVsbCwgY29sbGlkZXIyID0gbnVsbCl7XHJcbiAgICAgICAgaWYoSXNSZWN0c0Nyb3NzKGNvbGxpZGVyMS5yZWN0LCBjb2xsaWRlcjIucmVjdCkpe1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGR0LCBjb2xsaWRlcjEsIGNvbGxpZGVyMik7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydHtDb2xsaWRlciwgQ29sbGlkZXJTeXN0ZW19IiwiaW1wb3J0IHsgQ29sbGlkZXIgfSBmcm9tIFwiLi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBQdXNoVG9MaW5rLCBSZW1vdmVCeUtleUlkLCBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuXHJcbnZhciBib2R5Q29sbGlkZXJMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRCb2R5Q29sbGlkZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gYm9keUNvbGxpZGVyTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkQm9keUNvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDApe1xyXG4gICAgbGV0IGMgPSBuZXcgQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICBQdXNoVG9MaW5rKGJvZHlDb2xsaWRlckxpc3QsIGMpO1xyXG4gICAgcmV0dXJuIGM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZUJvZHlDb2xsaWRlcihjb2xsaWRlcklkID0gMCl7XHJcbiAgICBSZW1vdmVCeUtleUlkKGJvZHlDb2xsaWRlckxpc3QsIGNvbGxpZGVySWQpO1xyXG59XHJcblxyXG5cclxudmFyIGJsb2NrQ29sbGlkZXJMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBHZXRCbG9ja0NvbGxpZGVyTGlzdCgpe1xyXG4gICAgcmV0dXJuIGJsb2NrQ29sbGlkZXJMaXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRCbG9ja0NvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDApe1xyXG4gICAgbGV0IGMgPSBuZXcgQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICBQdXNoVG9MaW5rKGJsb2NrQ29sbGlkZXJMaXN0LCBjKTtcclxuICAgIHJldHVybiBjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVCbG9ja0NvbGxpZGVyKGNvbGxpZGVySWQgPSAwKXtcclxuICAgIFJlbW92ZUJ5S2V5SWQoYmxvY2tDb2xsaWRlckxpc3QsIGNvbGxpZGVySWQpO1xyXG59XHJcblxyXG5leHBvcnQge0dldEJvZHlDb2xsaWRlckxpc3QsIEFkZEJvZHlDb2xsaWRlciwgUmVtb3ZlQm9keUNvbGxpZGVyLCBHZXRCbG9ja0NvbGxpZGVyTGlzdCwgQWRkQmxvY2tDb2xsaWRlciwgUmVtb3ZlQmxvY2tDb2xsaWRlcn0iLCJpbXBvcnQgeyBHZXREaXNwbGF5TGlzdCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnQvdmlldy9jb21wb25lbnRcIjtcclxuaW1wb3J0IHsgTGlua0l0ZXJhdG9yIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmtcIjtcclxuaW1wb3J0IHsgR2V0UG9zIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9wb3MvdXRpbHNcIjtcclxuaW1wb3J0IHsgR2V0UmVjdFdpZHRoLCBHZXRSZWN0SGVpZ2h0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3JlY3RcIjtcclxuaW1wb3J0IHsgR2V0Q2FtZXJhIH0gZnJvbSBcIi4uL3dvcmxkL3Jlc1wiO1xyXG5pbXBvcnQgeyBJc0luQ2FtZXJhLCBUb1NjcmVlblBvcyB9IGZyb20gXCIuLi8uLi9jb21wb25lbnQvY2FtZXJhL3V0aWxzXCI7XHJcbmltcG9ydCB7IGRyYXdJbWFnZSwgZHJhd1JlY3QsIGNsZWFyIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZW5naW5lL2g1L3JlbmRlclwiO1xyXG5pbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IEdldEJsb2NrQ29sbGlkZXJMaXN0LCBHZXRCb2R5Q29sbGlkZXJMaXN0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9jb2xsaWRlL2JveDIvdXRpbHNcIjtcclxuaW1wb3J0IHsgR2V0UmVjdFBvc1N0YXJ0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9wb3MvcmVjdC9jb21wb25lbnRcIjtcclxuXHJcbi8qKlxyXG4gKiDmuLLmn5Pns7vnu5/vvIzpgLvovpHmraXpqqTvvJpcclxuICogMS4gICDmuIXpmaTnlLvluINcclxuICogMi4gICDph43lrprkvY3mkYTlg4/mnLpcclxuICogMy4gICDorqHnrpfljZXkvY3mmL7npLrnn6nlvaLmmK/lkKblnKjmkYTlg4/mnLrnn6nlvaLlhoVcclxuICogNC4gICDovazmjaLkuLrnlLvluIPlnZDmoIdcclxuICogNS4gICDnlLvlh7rlm77lg49cclxuICovXHJcbmNsYXNzIFJlbmRlclVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIGNsZWFyKCk7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldERpc3BsYXlMaXN0KCksIGRpc3BsYXlUdXBsZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSBHZXRQb3MoZGlzcGxheVR1cGxlLmVudGl0eUlkKTtcclxuICAgICAgICAgICAgVXBkYXRlUmVjdFBvc0J5VW5pdChkaXNwbGF5VHVwbGUuZGlzcGxheUFyZWEsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgIGRyYXdGcmFtZUluQ2FtZXJhKGRpc3BsYXlUdXBsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciByZW5kZXJTeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0oKXtcclxuICAgIGlmKCFyZW5kZXJTeXMpe1xyXG4gICAgICAgIHJlbmRlclN5cyA9IG5ldyBSZW5kZXJVcGRhdGVTeXN0ZW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW5kZXJTeXM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5bCG5omA5pyJ55+p5b2i55S75Ye65p2lXHJcbiAqL1xyXG5jbGFzcyBEcmF3UmVjdFN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIC8vRHJhd1JlY3QoR2V0Q2FtZXJhKCksIHRoaXMuX2NhbWVyYS5yZWN0KTtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0QmxvY2tDb2xsaWRlckxpc3QoKSwgY29sbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICBkcmF3UmVjdEluQ2FtZXJhKGNvbGxpZGVyLnJlY3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExpbmtJdGVyYXRvcihHZXRCb2R5Q29sbGlkZXJMaXN0KCksIGNvbGxpZGVyID0+IHtcclxuICAgICAgICAgICAgZHJhd1JlY3RJbkNhbWVyYShjb2xsaWRlci5yZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGRlYnVnU3lzID0gbnVsbDtcclxuZnVuY3Rpb24gR2V0RHJhd1JlY3RTeXN0ZW0oKXtcclxuICAgIGlmKCFkZWJ1Z1N5cyl7XHJcbiAgICAgICAgZGVidWdTeXMgPSBuZXcgRHJhd1JlY3RTeXN0ZW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWJ1Z1N5cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmuLLmn5PliLDnlLvluIPvvIzlj6rmuLLmn5PlnKjplZzlpLTlhoXnmoRcclxuICovXHJcbmZ1bmN0aW9uIGRyYXdGcmFtZUluQ2FtZXJhKGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IGNhbWVyYSA9IEdldENhbWVyYSgpO1xyXG4gICAgbGV0IGRpc3BsYXlBcmVhID0gZGlzcGxheVR1cGxlLmRpc3BsYXlBcmVhO1xyXG4gICAgaWYoIUlzSW5DYW1lcmEoY2FtZXJhLCBkaXNwbGF5QXJlYSkpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8v6L2s5Li655S75biD5Z2Q5qCHXHJcbiAgICBsZXQgc2NyZWVuUG9zID0gVG9TY3JlZW5Qb3MoY2FtZXJhLCBHZXRSZWN0U3RhcnRQb3MoZGlzcGxheUFyZWEpKTtcclxuXHJcbiAgICBsZXQgdGV4dHVyZUFyZWEgPSBkaXNwbGF5VHVwbGUuc3ByaXRlRnJhbWUudGV4dHVyZUFyZWE7XHJcbiAgICBkcmF3SW1hZ2UoZGlzcGxheVR1cGxlLnNwcml0ZUZyYW1lLmJpdG1hcERhdGEsXHJcbiAgICAgICAgdGV4dHVyZUFyZWEueCwgdGV4dHVyZUFyZWEueSwgdGV4dHVyZUFyZWEud2lkdGgsIHRleHR1cmVBcmVhLmhlaWdodCxcclxuICAgICAgICBzY3JlZW5Qb3MueCwgc2NyZWVuUG9zLnksIEdldFJlY3RXaWR0aChkaXNwbGF5QXJlYSksIEdldFJlY3RIZWlnaHQoZGlzcGxheUFyZWEpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1JlY3RJbkNhbWVyYShyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBjYW1lcmEgPSBHZXRDYW1lcmEoKTtcclxuICAgIGlmKCFJc0luQ2FtZXJhKGNhbWVyYSwgcmVjdFBvc1R1cGxlKSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy/ovazkuLrnlLvluIPlnZDmoIdcclxuICAgIGxldCBzY3JlZW5Qb3MgPSBUb1NjcmVlblBvcyhjYW1lcmEsIEdldFJlY3RQb3NTdGFydChyZWN0UG9zVHVwbGUpKTtcclxuICAgIGRyYXdSZWN0KFxyXG4gICAgICAgIHNjcmVlblBvcy54LCBzY3JlZW5Qb3MueSxcclxuICAgICAgICBHZXRSZWN0V2lkdGgocmVjdFBvc1R1cGxlLnJlY3QpLCBHZXRSZWN0SGVpZ2h0KHJlY3RQb3NUdXBsZS5yZWN0KSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0UmVuZGVyVXBkYXRlU3lzdGVtLCBHZXREcmF3UmVjdFN5c3RlbSwgZHJhd0ZyYW1lSW5DYW1lcmEsIGRyYXdSZWN0SW5DYW1lcmF9IiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjc1wiO1xyXG5pbXBvcnQgeyBMaW5rSXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5pbXBvcnQgeyBHZXRNb3Zlckxpc3QgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L3Bvcy91dGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIDIwMTkuMDkuMjlcclxuICogICAgICDnu4/ov4fogIPomZHvvIznm67liY3lj6rlgZrnroDljZXniYjmnKzvvIzkuI3opoHmg7PlvpflpKrplb/ov5xcclxuICogICAgICDmiYDku6XlhYjkuI3nlKjns7vnu5/nu5/kuIDmm7TmlrDkvY3nva7vvIznm7TmjqXlnKhhY3Rpb27kuK1zZXRwb3PlsLHlpb1cclxuICovXHJcbnZhciBpZCA9IDA7XHJcbmNsYXNzIFBvc1VwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKDEwMCk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIExpbmtJdGVyYXRvcihHZXRNb3Zlckxpc3QoKSwgbW92ZUNvbSA9PiB7XHJcbiAgICAgICAgICAgIGlkKys7XHJcbiAgICAgICAgICAgIGxldCB2ZWMgPSBtb3ZlQ29tLnZlYztcclxuICAgICAgICAgICAgaWYodmVjLnggPT0gMCAmJiB2ZWMueSA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHBvcyA9IG1vdmVDb20ucG9zO1xyXG4gICAgICAgICAgICBwb3MueCArPSB2ZWMueDtcclxuICAgICAgICAgICAgcG9zLnkgKz0gdmVjLnk7XHJcbiAgICAgICAgICAgIHZlYy54ID0gMDtcclxuICAgICAgICAgICAgdmVjLnkgPSAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgc3lzID0gbnVsbDtcclxuZnVuY3Rpb24gR2V0UG9zVXBkYXRlU3lzdGVtKCl7XHJcbiAgICBpZighc3lzKXtcclxuICAgICAgICBzeXMgPSBuZXcgUG9zVXBkYXRlU3lzdGVtKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3lzO1xyXG59XHJcblxyXG5leHBvcnR7R2V0UG9zVXBkYXRlU3lzdGVtfSIsImltcG9ydCB7IGdldEVuZ2luZSB9IGZyb20gXCIuL21vZGVsXCI7XHJcblxyXG52YXIgX2VuZ2luZSA9IGdldEVuZ2luZSgpO1xyXG5cclxuZnVuY3Rpb24gbG9hZEltZyhpbWdTcmMsIG9uTG9hZENhbGxiYWNrKXtcclxuICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltZy5zcmMgPSBpbWdTcmM7XHJcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9uTG9hZENhbGxiYWNrKGltZyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBfY2FsbGJhY2s7XHJcbnZhciBfZnJhbWVObyA9IDA7XHJcbnZhciBfZHQgPSAwO1xyXG52YXIgX2xhc3QgPSAwO1xyXG52YXIgX2lzRW5kID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHRpY2sodGltZXN0YW1wKSB7XHJcbiAgICBfZHQgPSB0aW1lc3RhbXAgLSBfbGFzdDtcclxuICAgIF9sYXN0ID0gdGltZXN0YW1wO1xyXG4gICAgX2NhbGxiYWNrKF9kdCk7XHJcbiAgICBpZighX2lzRW5kKXtcclxuICAgICAgICBfZnJhbWVObyA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJ1bjIyMjIob25VcGRhdGVDYWxsYmFjayA9IG51bGwpIHtcclxuICAgIF9pc0VuZCA9IGZhbHNlO1xyXG4gICAgX2NhbGxiYWNrID0gb25VcGRhdGVDYWxsYmFjaztcclxuICAgIF9mcmFtZU5vID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGRlYnVnXHJcbiAqL1xyXG52YXIgc3RhcnQgPSBudWxsO1xyXG52YXIgbGFzdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5mdW5jdGlvbiBydW5UaWNrKG9uVXBkYXRlQ2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICBfaXNFbmQgPSBmYWxzZTtcclxuICAgIF9jYWxsYmFjayA9IG9uVXBkYXRlQ2FsbGJhY2s7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBpZighX2lzRW5kKXtcclxuICAgICAgICAgICAgX2NhbGxiYWNrKHN0YXJ0IC0gbGFzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3QgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH0sIF9lbmdpbmUudGljayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3AoKXtcclxuICAgIF9pc0VuZCA9IHRydWU7XHJcbn1cclxuXHJcblxyXG4vL+WboOS4uuaMieS9j+mUrueahOivne+8jOS8muS4jeaWreinpuWPkW9uS2V5ZG93bu+8jOaJgOS7peWBmuS4qm1hcOWIpOaWrVxyXG52YXIgX2tleURvd25NYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIG9uS2V5Q2FsbGJhY2soa2V5RG93bkNhbGxiYWNrID0gbnVsbCwga2V5VXBDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGUgPT4ge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgIGlmKF9rZXlEb3duTWFwLmdldChjb2RlKSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2tleURvd25NYXAuc2V0KGNvZGUsIDEpO1xyXG4gICAgICAgIGtleURvd25DYWxsYmFjayhlLmtleUNvZGUpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGUgPT4ge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgIF9rZXlEb3duTWFwLmRlbGV0ZShjb2RlKTtcclxuICAgICAgICBrZXlVcENhbGxiYWNrKGUua2V5Q29kZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGh0dHBzOi8vYmxvZy5jc2RuLm5ldC9xcV8xNzYxNjE2OS9hcnRpY2xlL2RldGFpbHMvNzI4MzMwNDRcclxuICovXHJcbmZ1bmN0aW9uIG9uTW91c2VDYWxsYmFjayhtb3VzZWRvd25DYWxsYmFjayA9IG51bGwsIG1vdXNldXBDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgX2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0ICogKGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGgpO1xyXG4gICAgICAgIGxldCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wICogKGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgbW91c2Vkb3duQ2FsbGJhY2soeCwgeSk7XHJcbiAgICB9KTtcclxuICAgIF9lbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgKiAoY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCk7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgKiAoY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBtb3VzZXVwQ2FsbGJhY2soeCwgeSk7XHJcbiAgICB9KTtcclxuICAgIC8vIF9lbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coZXZlbnQueCwgZXZlbnQueSk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vX2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGRvTW91c2VNb3ZlLGZhbHNlKTtcclxuICAgIC8vX2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZG9Nb3VzZU91dCxmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIGxvYWRJbWcsIHJ1blRpY2ssIHN0b3AsIG9uS2V5Q2FsbGJhY2ssIG9uTW91c2VDYWxsYmFja1xyXG59IiwiaW1wb3J0IHsgR2V0QWN0aW9uU3lzdGVtIH0gZnJvbSBcIi4vYWN0aW9uXCI7XHJcbmltcG9ydCB7IEdldFJlbmRlclVwZGF0ZVN5c3RlbSwgR2V0RHJhd1JlY3RTeXN0ZW0gfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuaW1wb3J0IHsgR2V0UG9zVXBkYXRlU3lzdGVtIH0gZnJvbSBcIi4vbW92ZVwiO1xyXG5pbXBvcnQgeyBydW5UaWNrIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZW5naW5lL2g1L3Byb2Nlc3NvclwiO1xyXG5pbXBvcnQgeyBQdXNoVG9MaW5rLCBOZXdMaW5rLCBMaW5rSXRlcmF0b3IsIEluc2VydFRvTGluayB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcblxyXG4vKipcclxuICog5Li757O757uf5YiX6KGoXHJcbiAqL1xyXG52YXIgbG9naWNTeXN0ZW1zID0gTmV3TGluaygpO1xyXG52YXIgcmVuZGVyU3lzdGVtcyA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gaW5pdFN5c3RlbXMoZGVidWcgPSBmYWxzZSl7XHJcbiAgICBJbnNlcnRUb0xpbmsobG9naWNTeXN0ZW1zLCBHZXRBY3Rpb25TeXN0ZW0oKSk7XHJcbiAgICBJbnNlcnRUb0xpbmsobG9naWNTeXN0ZW1zLCBHZXRQb3NVcGRhdGVTeXN0ZW0oKSk7XHJcblxyXG4gICAgUHVzaFRvTGluayhyZW5kZXJTeXN0ZW1zLCBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0oKSk7XHJcbiAgICBpZihkZWJ1Zyl7XHJcbiAgICAgICAgUHVzaFRvTGluayhyZW5kZXJTeXN0ZW1zLCBHZXREcmF3UmVjdFN5c3RlbSgpKTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGxvZ2ljVGljayA9IDE2OyAgICAgLy82MGZwc1xyXG52YXIgcmVuZGVyVGljayA9IDQxOyAgICAvLzI0ZnBzXHJcbnZhciBfdDEgPSAwO1xyXG52YXIgX3QyID0gMDtcclxuZnVuY3Rpb24gcnVuV2l0aFNjZW5lKHNjZW5lKXtcclxuICAgIExpbmtJdGVyYXRvcihsb2dpY1N5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgc3lzdGVtLm9uU3RhcnQoKTtcclxuICAgIH0pO1xyXG4gICAgTGlua0l0ZXJhdG9yKHJlbmRlclN5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgc3lzdGVtLm9uU3RhcnQoKTtcclxuICAgIH0pO1xyXG4gICAgc2NlbmUub25TdGFydCgpO1xyXG5cclxuICAgIC8vbWFpbiBsb29wXHJcbiAgICBydW5UaWNrKGR0ID0+IHtcclxuICAgICAgICBfdDEgKz0gZHQ7XHJcbiAgICAgICAgaWYoX3QxID49IGxvZ2ljVGljayl7XHJcbiAgICAgICAgICAgIF90MSAtPSBsb2dpY1RpY2s7XHJcbiAgICAgICAgICAgIHNjZW5lLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgTGlua0l0ZXJhdG9yKGxvZ2ljU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbS5vblVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3QyICs9IGR0O1xyXG4gICAgICAgIGlmKF90MiA+PSByZW5kZXJUaWNrKXtcclxuICAgICAgICAgICAgX3QyIC09IHJlbmRlclRpY2s7XHJcbiAgICAgICAgICAgIExpbmtJdGVyYXRvcihyZW5kZXJTeXN0ZW1zLCBzeXN0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZFN5c3RlbShzeXN0ZW0gPSBudWxsKXtcclxuICAgIGlmKCFzeXN0ZW0pe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIEluc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIHN5c3RlbSk7XHJcbn1cclxuXHJcbmV4cG9ydHtpbml0U3lzdGVtcywgcnVuV2l0aFNjZW5lLCBBZGRTeXN0ZW19IiwiXHJcbiAvKipcclxuICAqIGdyaWRtYXDnmoTnvZHmoLzljZXlhYNcclxuICAqL1xyXG5jbGFzcyBHcmlkIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvd0luZGV4ID0gMCwgY29sSW5kZXggPSAwLCBkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5yb3dJbmRleCA9IHJvd0luZGV4O1xyXG4gICAgICAgIHRoaXMuY29sSW5kZXggPSBjb2xJbmRleDtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOyAgICAgICAvL+WtmOWCqOeahOWvueixoVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog572R5qC86KGoXHJcbiAqIHJvd3MgPSDooYzmlbBcclxuICogY29sdW1ucyA9IOWIl+aVsFxyXG4gKiBncmlkV2lkdGgsIGdyaWRIZWlnaHQgPSDmr4/kuKrnvZHmoLznmoTlrr3pq5jojIPlm7TvvIzlu7rorq4xOjFcclxuICogXHJcbiAqL1xyXG5jbGFzcyBHcmlkTWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvd3MgPSAwLCBjb2x1bW5zID0gMCwgZ3JpZFdpZHRoID0gMCwgZ3JpZEhlaWdodCA9IDAsIGdyaWRzID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xyXG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoID0gZ3JpZFdpZHRoO1xyXG4gICAgICAgIHRoaXMuZ3JpZEhlaWdodCA9IGdyaWRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncmlkcyA9IGdyaWRzO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdHcmlkTWFwKHJvd3MgPSAwLCBjb2x1bW5zID0gMCwgZ3JpZFdpZHRoID0gMCwgZ3JpZEhlaWdodCA9IDApe1xyXG4gICAgbGV0IGdyaWRzID0gW107XHJcbiAgICBmb3IgKGxldCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgcm93czsgcm93SW5kZXgrKykge1xyXG4gICAgICAgIGZvciAobGV0IGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBjb2x1bW5zOyBjb2xJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkID0gbmV3IEdyaWQocm93SW5kZXgsIGNvbEluZGV4KTtcclxuICAgICAgICAgICAgZ3JpZHMucHVzaChncmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IEdyaWRNYXAocm93cywgY29sdW1ucywgZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCBncmlkcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEdyaWRXaWR0aChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5ncmlkV2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZEhlaWdodChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5ncmlkSGVpZ2h0O1xyXG59XHJcbmZ1bmN0aW9uIEdldEdyaWRNYXBXaWR0aChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5jb2x1bW5zICogZ3JpZG1hcC5ncmlkV2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZE1hcEhlaWdodChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5yb3dzICogZ3JpZG1hcC5ncmlkSGVpZ2h0O1xyXG59XHJcblxyXG4vKipcclxuICog5qC55o2u5L2N572u5a6a5L2NZ3JpZFxyXG4gKiB4LCB55pivZ3JpZG1hcOW3puS4iuinkuW8gOWni+eul1xyXG4gKi9cclxuZnVuY3Rpb24gR2V0R3JpZChncmlkbWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIGlmKCFjaGVja0luKGdyaWRtYXAsIHgsIHkpKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBjb2x1bW4gPSBwYXJzZUludCh4IC8gZ3JpZG1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvdyA9IHBhcnNlSW50KHkgLyBncmlkbWFwLmdyaWRIZWlnaHQpO1xyXG4gICAgcmV0dXJuIGdyaWRtYXAuZ3JpZHNbcm93ICogZ3JpZG1hcC5jb2x1bW5zICsgY29sdW1uXTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbihncmlkbWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiB4ID4gMCAmJiB4IDwgR2V0R3JpZE1hcFdpZHRoKGdyaWRtYXApICYmIHkgPiAwICYmIHkgPCBHZXRHcmlkTWFwSGVpZ2h0KGdyaWRtYXApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBJdGVyYXRvckdyaWRtYXAoZ3JpZG1hcCA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBncmlkbWFwLmdyaWRzLmZvckVhY2goZ3JpZCA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soZ3JpZCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0R3JpZERhdGEoZ3JpZG1hcCA9IG51bGwsIHggPSAwLCB5ID0gMCl7XHJcbiAgICBsZXQgZ3JpZCA9IEdldEdyaWQoZ3JpZG1hcCwgeCwgeSk7XHJcbiAgICByZXR1cm4gZ3JpZCA/IGdyaWQuZGF0YSA6IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdHcmlkTWFwLCBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQsIEdldEdyaWRNYXBXaWR0aCwgR2V0R3JpZE1hcEhlaWdodCwgR2V0R3JpZCwgSXRlcmF0b3JHcmlkbWFwLCBHZXRHcmlkRGF0YVxyXG59IiwiaW1wb3J0IHsgTmV3UG9zIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZ2VvbWV0cmljL3BvaW50XCI7XHJcbmltcG9ydCB7IEdldEdyaWRNYXBXaWR0aCwgR2V0R3JpZE1hcEhlaWdodCwgTmV3R3JpZE1hcCwgR2V0R3JpZFdpZHRoLCBHZXRHcmlkSGVpZ2h0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dyaWRtYXBcIjtcclxuXHJcbi8qKlxyXG4gKiAyZOeTt+egluWcsOWbvu+8jOeUsUdyaWRNYXDmianlsZVcclxuICogc2FtcGxlOlxyXG4gKiBbXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSxcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXVxyXG4gKi9cclxuY2xhc3MgVGlsZU1hcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihncmlkbWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgICAgICB0aGlzLmdyaWRtYXAgPSBncmlkbWFwO1xyXG4gICAgICAgIHRoaXMucG9zID0gTmV3UG9zKHgsIHkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdUaWxlTWFwKHJvd3MgPSAwLCBjb2x1bW5zID0gMCwgZ3JpZFdpZHRoID0gMCwgZ3JpZEhlaWdodCA9IDAsIHggPSAwLCB5ID0gMCl7XHJcbiAgICBsZXQgZ3JpZG1hcCA9IE5ld0dyaWRNYXAocm93cywgY29sdW1ucywgZ3JpZFdpZHRoLCBncmlkSGVpZ2h0KTtcclxuICAgIHJldHVybiBuZXcgVGlsZU1hcChncmlkbWFwLCB4LCB5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueCAtIEdldEdyaWRNYXBXaWR0aCh0aWxlbWFwLmdyaWRtYXApICogMC41LFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnkgLSBHZXRHcmlkTWFwSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiAwLjVcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBFbmQodGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICB0aWxlbWFwLnBvcy54ICsgR2V0R3JpZE1hcFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiAwLjUsXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueSArIEdldEdyaWRNYXBIZWlnaHQodGlsZW1hcC5ncmlkbWFwKSAqIDAuNVxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZW1hcENlbnRlcih0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKHRpbGVtYXAucG9zLngsIHRpbGVtYXAucG9zLnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRHcmlkU3RhcnQodGlsZW1hcCA9IG51bGwsIGdyaWQgPSBudWxsKXtcclxuICAgIGxldCBzdGFydCA9IEdldFRpbGVtYXBTdGFydCh0aWxlbWFwKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgc3RhcnQueCArIEdldEdyaWRXaWR0aCh0aWxlbWFwLmdyaWRtYXApICogZ3JpZC5jb2xJbmRleCxcclxuICAgICAgICBzdGFydC55ICsgR2V0R3JpZEhlaWdodCh0aWxlbWFwLmdyaWRtYXApICogZ3JpZC5yb3dJbmRleFxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0R3JpZEVuZCh0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXApO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgR2V0R3JpZFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiAoZ3JpZC5jb2xJbmRleCArIDEpLFxyXG4gICAgICAgIHN0YXJ0LnkgKyBHZXRHcmlkSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiAoZ3JpZC5yb3dJbmRleCArIDEpXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRHcmlkQ2VudGVyKHRpbGVtYXAgPSBudWxsLCBncmlkID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnQgPSBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyBHZXRHcmlkV2lkdGgodGlsZW1hcC5ncmlkbWFwKSAqIChncmlkLmNvbEluZGV4ICsgMC41KSxcclxuICAgICAgICBzdGFydC55ICsgR2V0R3JpZEhlaWdodCh0aWxlbWFwLmdyaWRtYXApICogKGdyaWQucm93SW5kZXggKyAwLjUpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3VGlsZU1hcCwgR2V0VGlsZW1hcFN0YXJ0LCBHZXRUaWxlbWFwRW5kLCBHZXRUaWxlbWFwQ2VudGVyLCBcclxuICAgIEdldEdyaWRXaXRoUG9zLCBHZXRHcmlkU3RhcnQsIEdldEdyaWRFbmQsIEdldEdyaWRDZW50ZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIOaJvuWHuuS4jnJlY3Tnm7jkuqTnmoTmiYDmnIlncmlkXHJcbiAqIFRPRE8g5pyq5a6a77yM5Y+v6IO95LiN6ZyA6KaB6L+Z56eN5YGa5rOVXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRHcmlkc0J5UmVjdCh0aWxlTWFwID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgLy/mmK/lkKblnKh0aWxlbWFw5LitXHJcbiAgICBpZighSXNSZWN0Q3Jvc3ModGlsZU1hcC5yZWN0LCByZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgZ3JpZHMgPSBbXTtcclxuICAgIGxldCBwb3NTdGFydCA9IHJlY3QucG9zU3RhcnQ7XHJcbiAgICBsZXQgY29sdW1uU3RhcnQgPSBwYXJzZUludChwb3NTdGFydC54IC8gdGlsZU1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvd1N0YXJ0ID0gcGFyc2VJbnQocG9zU3RhcnQueSAvIHRpbGVNYXAuZ3JpZEhlaWdodCk7XHJcbiAgICBjb2x1bW5TdGFydCA9IGNvbHVtblN0YXJ0IDwgMCA/IDAgOiBjb2x1bW5TdGFydDtcclxuICAgIHJvd1N0YXJ0ID0gcm93U3RhcnQgPCAwID8gMCA6IHJvd1N0YXJ0O1xyXG5cclxuICAgIGxldCBwb3NFbmQgPSByZWN0LnBvc0VuZDtcclxuICAgIGxldCBjb2x1bW5FbmQgPSBwYXJzZUludChwb3NFbmQueCAvIHRpbGVNYXAuZ3JpZFdpZHRoKTtcclxuICAgIGxldCByb3dFbmQgPSBwYXJzZUludChwb3NFbmQueSAvIHRpbGVNYXAuZ3JpZEhlaWdodCk7XHJcbiAgICBjb2x1bW5FbmQgPSBjb2x1bW5FbmQgPiB0aWxlTWFwLmNvbHVtbnMgLSAxID8gdGlsZU1hcC5jb2x1bW5zIC0gMSA6IGNvbHVtbkVuZDtcclxuICAgIHJvd0VuZCA9IHJvd0VuZCA+IHRpbGVNYXAucm93cyAtIDEgPyB0aWxlTWFwLnJvd3MgLSAxIDogcm93RW5kO1xyXG5cclxuICAgIGZvcihsZXQgcm93PXJvd1N0YXJ0OyByb3c8PXJvd0VuZDsgcm93Kyspe1xyXG4gICAgICAgIGZvcihsZXQgY29sdW1uPWNvbHVtblN0YXJ0OyBjb2x1bW48PWNvbHVtbkVuZDsgY29sdW1uKyspe1xyXG4gICAgICAgICAgICBncmlkcy5wdXNoKHRpbGVNYXAuZ3JpZHNbcm93XVtjb2x1bW5dKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ3JpZHM7XHJcbn0iLCJpbXBvcnQgeyBDb2xsaWRlciB9IGZyb20gXCIuLi9iYXNlXCI7XHJcbmltcG9ydCB7IFJlbW92ZUJ5S2V5SWQsIFB1c2hUb0xpbmssIE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5cclxuY2xhc3MgR3JvdXBQYWlyIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkID0gMCwgdGVhbTEgPSBudWxsLCB0ZWFtMiA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDsgICAgIC8vbGluayB1c2VcclxuICAgICAgICB0aGlzLnRlYW0xID0gdGVhbTE7XHJcbiAgICAgICAgdGhpcy50ZWFtMiA9IHRlYW0yO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgdGVhbXMgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGdldFRlYW0odGVhbSA9IDApe1xyXG4gICAgbGV0IHQgPSB0ZWFtcy5nZXQodGVhbSk7XHJcbiAgICBpZighdCl7XHJcbiAgICAgICAgdCA9IE5ld0xpbmsoKTtcclxuICAgICAgICB0ZWFtcy5zZXQodGVhbSwgdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkR3JvdXBDb2xsaWRlcihlbnRpdHlJZCA9IDAsIHJlY3QgPSBudWxsLCB0YWcgPSAwLCB0ZWFtID0gMCkge1xyXG4gICAgbGV0IGNvbGxpZGVyID0gbmV3IENvbGxpZGVyKGVudGl0eUlkLCByZWN0LCB0YWcpO1xyXG4gICAgUHVzaFRvTGluayhnZXRUZWFtKHRlYW0pLCBjb2xsaWRlcik7XHJcbiAgICByZXR1cm4gY29sbGlkZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZUdyb3VwQ29sbGlkZXIoY29sbGlkZXJJZCA9IDAsIHRlYW0gPSAwKSB7XHJcbiAgICBSZW1vdmVCeUtleUlkKGdldFRlYW0odGVhbSksIGNvbGxpZGVySWQpO1xyXG59XHJcblxyXG52YXIgcGFpcnMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldEdyb3VwUGFpckxpc3QoKXtcclxuICAgIHJldHVybiBwYWlycztcclxufVxyXG5mdW5jdGlvbiBBZGRHcm91cFBhaXIodGVhbTEgPSAwLCB0ZWFtMiA9IDApe1xyXG4gICAgaWYodGVhbTE9PTAgfHwgdGVhbTI9PTApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IHQxID0gZ2V0VGVhbSh0ZWFtMSk7XHJcbiAgICBsZXQgdDIgPSB0ZWFtMSA9PSB0ZWFtMiA/IG51bGwgOiBnZXRUZWFtKHRlYW0yKTtcclxuICAgIGxldCBwYWlyID0gbmV3IEdyb3VwUGFpcih0ZWFtMSB8IHRlYW0yLCB0MSwgdDIpO1xyXG4gICAgUHVzaFRvTGluayhwYWlycywgcGFpcik7XHJcbiAgICByZXR1cm4gcGFpcjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7R2V0QWxsR3JvdXBDb2xsaWRlckxpc3QsIEFkZEdyb3VwQ29sbGlkZXIsIFJlbW92ZUdyb3VwQ29sbGlkZXIsIEdldEdyb3VwQ29sbGlkZXJCeUVudGl0eUlkLCBHZXRHcm91cFBhaXJMaXN0LCBBZGRHcm91cFBhaXJ9IiwiaW1wb3J0IHsgR2V0R3JvdXBQYWlyTGlzdCB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IExpbmtJdGVyYXRvciwgTGlua0NvbXBhcmUgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5pbXBvcnQgeyBJc1JlY3RzQ3Jvc3NXaXRoVmVjIH0gZnJvbSBcIi4uLy4uL3Bvcy9yZWN0L3V0aWxzXCI7XHJcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9lY3NcIjtcclxuXHJcbi8v5YiG57uE56Kw5pKe5qOA5rWL57O757ufXHJcbmNsYXNzIEdyb3VwQ29sbGlkZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICBzdXBlcig4MDApO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldEdyb3VwUGFpckxpc3QoKSwgcGFpciA9PiB7XHJcbiAgICAgICAgICAgIGlmKHBhaXIudGVhbTIgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAvL29uZSB0ZWFtXHJcbiAgICAgICAgICAgICAgICBMaW5rQ29tcGFyZShwYWlyLnRlYW0xLCAoY29sbGlkZXIxLCBjb2xsaWRlcjIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihJc1JlY3RzQ3Jvc3NXaXRoVmVjKGNvbGxpZGVyMS5yZWN0LCBjb2xsaWRlcjIucmVjdCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGNvbGxpZGVyMSwgY29sbGlkZXIyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvL3R3byB0ZWFtXHJcbiAgICAgICAgICAgICAgICBMaW5rSXRlcmF0b3IocGFpci50ZWFtMSwgY29sbGlkZXIxID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBMaW5rSXRlcmF0b3IocGFpci50ZWFtMiwgY29sbGlkZXIyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoSXNSZWN0c0Nyb3NzV2l0aFZlYyhjb2xsaWRlcjEucmVjdCwgY29sbGlkZXIyLnJlY3QpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soY29sbGlkZXIxLCBjb2xsaWRlcjIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBzeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRHcm91cENvbGxpZGVyU3lzdGVtKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighc3lzKXtcclxuICAgICAgICBzeXMgPSBuZXcgR3JvdXBDb2xsaWRlclN5c3RlbShjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3lzO1xyXG59XHJcblxyXG5leHBvcnR7R2V0R3JvdXBDb2xsaWRlclN5c3RlbX0iLCJpbXBvcnQgeyBDb2xsaWRlciB9IGZyb20gXCIuLi9iYXNlXCI7XHJcbmltcG9ydCB7IFB1c2hUb0xpbmssIFJlbW92ZUJ5S2V5SWQsIE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbGlua1wiO1xyXG5cclxuY2xhc3MgQm9keUNvbGxpZGVyIGV4dGVuZHMgQ29sbGlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCl7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICAgICAgdGhpcy5saW5lID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGJvZHlDb2xsaWRlckxpc3QgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIEdldEJvZHlDb2xsaWRlckxpc3QoKXtcclxuICAgIHJldHVybiBib2R5Q29sbGlkZXJMaXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRCb2R5Q29sbGlkZXIoZW50aXR5SWQgPSAwLCByZWN0ID0gbnVsbCwgdGFnID0gMCl7XHJcbiAgICBsZXQgYyA9IG5ldyBCb2R5Q29sbGlkZXIoZW50aXR5SWQsIHJlY3QpO1xyXG4gICAgUHVzaFRvTGluayhib2R5Q29sbGlkZXJMaXN0LCBjKTtcclxuICAgIHJldHVybiBjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVCb2R5Q29sbGlkZXIoY29sbGlkZXJJZCA9IDApe1xyXG4gICAgUmVtb3ZlQnlLZXlJZChib2R5Q29sbGlkZXJMaXN0LCBjb2xsaWRlcklkKTtcclxufVxyXG5cclxuXHJcbnZhciBibG9ja0NvbGxpZGVyTGlzdCA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gR2V0QmxvY2tDb2xsaWRlckxpc3QoKXtcclxuICAgIHJldHVybiBibG9ja0NvbGxpZGVyTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkQmxvY2tDb2xsaWRlcihlbnRpdHlJZCA9IDAsIHJlY3QgPSBudWxsLCB0YWcgPSAwKXtcclxuICAgIGxldCBjID0gbmV3IENvbGxpZGVyKGVudGl0eUlkLCByZWN0LCB0YWcpO1xyXG4gICAgUHVzaFRvTGluayhibG9ja0NvbGxpZGVyTGlzdCwgYyk7XHJcbiAgICByZXR1cm4gYztcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlQmxvY2tDb2xsaWRlcihjb2xsaWRlcklkID0gMCl7XHJcbiAgICBSZW1vdmVCeUtleUlkKGJsb2NrQ29sbGlkZXJMaXN0LCBjb2xsaWRlcklkKTtcclxufVxyXG5cclxuZXhwb3J0IHtHZXRCb2R5Q29sbGlkZXJMaXN0LCBBZGRCb2R5Q29sbGlkZXIsIFJlbW92ZUJvZHlDb2xsaWRlciwgR2V0QmxvY2tDb2xsaWRlckxpc3QsIEFkZEJsb2NrQ29sbGlkZXIsIFJlbW92ZUJsb2NrQ29sbGlkZXJ9IiwiaW1wb3J0IHsgQ29sbGlkZXIgfSBmcm9tICcuLi9iYXNlJztcclxuaW1wb3J0IHsgTmV3TGluaywgUHVzaFRvTGluaywgUmVtb3ZlQnlLZXlJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2xpbmsnO1xyXG5cclxudmFyIGNvbGxpZGVyTGlzdCA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gR2V0Tm9ybWFsQ29sbGlkZXJMaXN0KCl7XHJcbiAgICByZXR1cm4gY29sbGlkZXJMaXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBBZGROb3JtYWxDb2xsaWRlcihlbnRpdHlJZCA9IDAsIHJlY3QgPSBudWxsLCB0YWcgPSAwKSB7XHJcbiAgICBsZXQgYyA9IG5ldyBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgIFB1c2hUb0xpbmsoY29sbGlkZXJMaXN0LCBjKTtcclxuICAgIHJldHVybiBjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVOb3JtYWxDb2xsaWRlcihjb2xsaWRlcklkID0gMCkge1xyXG4gICAgUmVtb3ZlQnlLZXlJZChjb2xsaWRlckxpc3QsIGNvbGxpZGVySWQpO1xyXG59XHJcblxyXG5leHBvcnR7R2V0Tm9ybWFsQ29sbGlkZXJMaXN0LCBBZGROb3JtYWxDb2xsaWRlciwgUmVtb3ZlTm9ybWFsQ29sbGlkZXJ9IiwiaW1wb3J0IHsgRml4VW5pdFBvcywgSXNSZWN0c0Nyb3NzLCBGaXhVbml0VmVjLCBJc1JlY3RzQ3Jvc3NXaXRoVmVjIH0gZnJvbSBcIi4uLy4uL3Bvcy9yZWN0L3V0aWxzXCI7XHJcbmltcG9ydCB7IEdldEFyZWEsIEdldFJlY3RXaWR0aCwgR2V0UmVjdEhlaWdodCwgR2V0UmVjdEhhbGZIZWlnaHQsIEdldFJlY3RIYWxmV2lkdGggfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRSZWN0UG9zQ2VudGVyLCBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3RQb3NFbmQsIEdldFJlY3RVbml0UG9zIH0gZnJvbSBcIi4uLy4uL3Bvcy9yZWN0L2NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IExpbmtJdGVyYXRvciB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IEdldEJvZHlDb2xsaWRlckxpc3QsIEdldEJsb2NrQ29sbGlkZXJMaXN0IH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgR2V0VmVjLCBTZXRWZWNXaXRoRW5kUG9zLCBTZXRWZWNYLCBTZXRWZWNZIH0gZnJvbSBcIi4uLy4uL3Bvcy91dGlsc1wiO1xyXG5pbXBvcnQgeyBOZXdQb3MgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9nZW9tZXRyaWMvcG9pbnRcIjtcclxuaW1wb3J0IHsgQWJzLCBNYXgsIE1pbiB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2dlb21ldHJpYy9tYXRoXCI7XHJcblxyXG4vKipcclxuICog566A5piT5pa55qGI5p6E5oOz77yM55uu5YmN5py65Yi277yaXHJcbiAqICAgICAgYm9keeW/hemhu+aYr+enu+WKqOS4reeahO+8jOS4lOWSjGJsb2Nr56Kw5pKe5LqGXHJcbiAqICAgICAg5LuldmVj5Li65L6d5o2u77yM56Gu5a6a5pyA5aSn5rS75Yqo6IyD5Zu0XHJcbiAqICAgICAg6Iul5LiA6L656KKr5pS256qE77yM6L+Y5Y6f5Y+m5LiA6L6555qE5rS75YqoXHJcbiAqL1xyXG5jbGFzcyBCb3hDb2xsaWRlclN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKDkwMCk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBMaW5rSXRlcmF0b3IoR2V0Qm9keUNvbGxpZGVyTGlzdCgpLCBib2R5ID0+IHtcclxuICAgICAgICAgICAgaWYoIWJvZHlCZWZvcmUoYm9keSkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIExpbmtJdGVyYXRvcihHZXRCbG9ja0NvbGxpZGVyTGlzdCgpLCBibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2dpYyhib2R5LCBibG9jayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgYm94Q29sbGlkZXJTeXMgPSBudWxsXHJcbmZ1bmN0aW9uIEdldEJveENvbGxpZGVyU3lzdGVtKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighYm94Q29sbGlkZXJTeXMpe1xyXG4gICAgICAgIGJveENvbGxpZGVyU3lzID0gbmV3IEJveENvbGxpZGVyU3lzdGVtKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHJldHVybiBib3hDb2xsaWRlclN5cztcclxufVxyXG5cclxudmFyIGJvZHlTdGFydCA9IG51bGw7XHJcbnZhciBib2R5RW5kID0gbnVsbDtcclxudmFyIGJsb2NrU3RhcnQgPSBudWxsO1xyXG52YXIgYmxvY2tFbmQgPSBudWxsO1xyXG52YXIgdW5pdFZlYyA9IG51bGw7XHJcbnZhciBib2R5SGFsZldpZHRoID0gMDtcclxudmFyIGJvZHlIYWxmSGVpZ2h0ID0gMDtcclxudmFyIGJvZHlQb3MgPSBudWxsO1xyXG5cclxuLyoqXHJcbiAqIOWJjee9ruWkhOeQhu+8jOS4tOaXtuWPmOmHj+i1i+WAvO+8jOS7peWFjemHjeWkjeiuoeeul1xyXG4gKi9cclxuZnVuY3Rpb24gYm9keUJlZm9yZShib2R5Q29sbGlkZXIgPSBudWxsKXtcclxuICAgIHVuaXRWZWMgPSBHZXRWZWMoYm9keUNvbGxpZGVyLmVudGl0eUlkKTtcclxuICAgIGlmKHVuaXRWZWMueCA9PSAwICYmIHVuaXRWZWMueSA9PSAwKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBib2R5SGFsZldpZHRoID0gR2V0UmVjdEhhbGZXaWR0aChib2R5Q29sbGlkZXIucmVjdC5yZWN0KTtcclxuICAgIGJvZHlIYWxmSGVpZ2h0ID0gR2V0UmVjdEhhbGZIZWlnaHQoYm9keUNvbGxpZGVyLnJlY3QucmVjdCk7XHJcblxyXG4gICAgYm9keVN0YXJ0ID0gR2V0UmVjdFBvc1N0YXJ0KGJvZHlDb2xsaWRlci5yZWN0KTtcclxuICAgIGJvZHlFbmQgPSBHZXRSZWN0UG9zRW5kKGJvZHlDb2xsaWRlci5yZWN0KTtcclxuICAgIGJvZHlQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKGJvZHlDb2xsaWRlci5yZWN0KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2dpYyhib2R5Q29sbGlkZXIgPSBudWxsLCBibG9ja0NvbGxpZGVyID0gbnVsbCl7XHJcbiAgICBpZighSXNSZWN0c0Nyb3NzV2l0aFZlYyhib2R5Q29sbGlkZXIucmVjdCwgYmxvY2tDb2xsaWRlci5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgYmxvY2tTdGFydCA9IEdldFJlY3RQb3NTdGFydChibG9ja0NvbGxpZGVyLnJlY3QpO1xyXG4gICAgYmxvY2tFbmQgPSBHZXRSZWN0UG9zRW5kKGJsb2NrQ29sbGlkZXIucmVjdCk7XHJcbiAgICBpc0xSKCkgfHwgaXNVRCgpO1xyXG59XHJcblxyXG4vL+WPr+S7peWunumUpOeahOW3puWPs+WFs+ezu1xyXG5mdW5jdGlvbiBpc0xSKCl7XHJcbiAgICBpZih1bml0VmVjLnggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/mo4Dmn6XnurXovrnmnInmlYjmgKfvvIzouKnnur/kuI3nrpdcclxuICAgIGxldCBtYXhZMSA9IE1heChib2R5U3RhcnQueSwgYmxvY2tTdGFydC55KTtcclxuICAgIGxldCBtaW5ZMiA9IE1pbihib2R5RW5kLnksIGJsb2NrRW5kLnkpO1xyXG4gICAgaWYobWluWTIgPD0gbWF4WTEpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8v6K6h566XeOacgOaWsOa0u+WKqOiMg+WbtO+8iOacgOefrei3neemu++8iVxyXG4gICAgbGV0IHggPSB1bml0VmVjLnggPiAwID8gYmxvY2tTdGFydC54IC0gYm9keUhhbGZXaWR0aCA6IGJsb2NrRW5kLnggKyBib2R5SGFsZldpZHRoO1xyXG4gICAgU2V0VmVjWCh1bml0VmVjLCB4IC0gYm9keVBvcy54KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vL+WPr+S7peWunumUpOeahOS4iuS4i+WFs+ezu1xyXG5mdW5jdGlvbiBpc1VEKCl7XHJcbiAgICBpZih1bml0VmVjLnkgPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/mo4Dmn6XmqKrovrnmnInmlYjmgKfvvIzouKnnur/kuI3nrpdcclxuICAgIGxldCBtYXhYMSA9IE1heChib2R5U3RhcnQueCwgYmxvY2tTdGFydC54KTtcclxuICAgIGxldCBtaW5YMiA9IE1pbihib2R5RW5kLngsIGJsb2NrRW5kLngpO1xyXG4gICAgaWYobWluWDIgPD0gbWF4WDEpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8v6K6h566XeeacgOaWsOa0u+WKqOiMg+WbtO+8iOacgOefrei3neemu++8iVxyXG4gICAgbGV0IHkgPSB1bml0VmVjLnkgPiAwID8gYmxvY2tTdGFydC55IC0gYm9keUhhbGZIZWlnaHQgOiBibG9ja0VuZC55ICsgYm9keUhhbGZIZWlnaHQ7XHJcbiAgICBTZXRWZWNZKHVuaXRWZWMsIHkgLSBib2R5UG9zLnkpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0Qm94Q29sbGlkZXJTeXN0ZW19IiwiaW1wb3J0IHsgR2V0R3JvdXBDb2xsaWRlclN5c3RlbSB9IGZyb20gJy4vZ3JvdXAvc3lzdGVtJztcclxuaW1wb3J0IHsgQWRkR3JvdXBQYWlyLCBBZGRHcm91cENvbGxpZGVyLCBSZW1vdmVHcm91cENvbGxpZGVyIH0gZnJvbSAnLi9ncm91cC91dGlscyc7XHJcbmltcG9ydCB7IEFkZEJvZHlDb2xsaWRlciwgQWRkQmxvY2tDb2xsaWRlciwgUmVtb3ZlQm9keUNvbGxpZGVyLCBSZW1vdmVCbG9ja0NvbGxpZGVyIH0gZnJvbSAnLi9ib3gvdXRpbHMnO1xyXG5pbXBvcnQgeyBBZGROb3JtYWxDb2xsaWRlciwgUmVtb3ZlTm9ybWFsQ29sbGlkZXIgfSBmcm9tICcuL25vcm1hbC91dGlscyc7XHJcbmltcG9ydCB7IEFkZFN5c3RlbSB9IGZyb20gJy4uLy4uL2RpcmVjdG9yL3N5c3RlbS9ydW4nO1xyXG5pbXBvcnQgeyBHZXRCb3hDb2xsaWRlclN5c3RlbSB9IGZyb20gJy4vYm94Mi9zeXN0ZW0nO1xyXG5cclxuLyoqXHJcbiAqIOWQr+eUqOeisOaSnuajgOa1i+acuuWItlxyXG4gKiB7XHJcbiAqICAgICAgdXNlR3JvdXAgOiB0cnVlXHJcbiAqICAgICAgcGFpcnMgOiBbWzEsIDJdLCBbMiwgNF0sIFsxLCA4XS4uLl1cclxuICogICAgICB1c2VCb3ggOiB0cnVlXHJcbiAqIH1cclxuICogY2FsbGJhY2sgOiBjYWxsYmFjayA9IGZ1bmN0aW9uKGR0LCBjb2xsaWRlcjEsIGNvbGxpZGVyMilcclxuICovXHJcbmZ1bmN0aW9uIE9wZW5Db2xsaWRlcihvcHRpb25zID0gbnVsbCl7XHJcbiAgICBpZihvcHRpb25zLnVzZUJveCl7XHJcbiAgICAgICAgQWRkU3lzdGVtKEdldEJveENvbGxpZGVyU3lzdGVtKCkpO1xyXG4gICAgfVxyXG4gICAgaWYob3B0aW9ucy5ncm91cCAmJiBvcHRpb25zLmdyb3VwLmxlbmd0aCA+IDApe1xyXG4gICAgICAgIG9wdGlvbnMuZ3JvdXAuZm9yRWFjaChwYWlyID0+IHtcclxuICAgICAgICAgICAgQWRkR3JvdXBQYWlyKHBhaXJbJ3RlYW0xJ10sIHBhaXJbJ3RlYW0yJ10pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEFkZFN5c3RlbShHZXRHcm91cENvbGxpZGVyU3lzdGVtKG9wdGlvbnMuY2FsbGJhY2spKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFkZENvbGxpZGVyKGVudGl0eUlkID0gMCwgcmVjdCA9IG51bGwsIHRhZyA9IDAsIGdyb3VwID0gMCwgaXNCb2R5ID0gZmFsc2UsIGlzQmxvY2sgPSBmYWxzZSkge1xyXG4gICAgaWYoY2ZnLnVzZUJveCl7XHJcbiAgICAgICAgaWYoaXNCb2R5KXtcclxuICAgICAgICAgICAgcmV0dXJuIEFkZEJvZHlDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihpc0Jsb2NrKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFkZEJsb2NrQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYoY2ZnLnVzZUdyb3VwKXtcclxuICAgICAgICByZXR1cm4gQWRkR3JvdXBDb2xsaWRlcihlbnRpdHlJZCwgcmVjdCwgdGFnLCBncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQWRkTm9ybWFsQ29sbGlkZXIoZW50aXR5SWQsIHJlY3QsIHRhZyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBSZW1vdmVDb2xsaWRlcihjb2xsaWRlcklkID0gMCwgZ3JvdXAgPSAwLCBpc0JvZHkgPSBmYWxzZSwgaXNCbG9jayA9IGZhbHNlKSB7XHJcbiAgICBpZihncm91cCA+IDApe1xyXG4gICAgICAgIFJlbW92ZUdyb3VwQ29sbGlkZXIoY29sbGlkZXJJZCwgZ3JvdXApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmKGlzQm9keSl7XHJcbiAgICAgICAgUmVtb3ZlQm9keUNvbGxpZGVyKGNvbGxpZGVySWQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmKGlzQmxvY2spe1xyXG4gICAgICAgIFJlbW92ZUJsb2NrQ29sbGlkZXIoY29sbGlkZXJJZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgUmVtb3ZlTm9ybWFsQ29sbGlkZXIoY29sbGlkZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7T3BlbkNvbGxpZGVyLCBBZGRDb2xsaWRlciwgUmVtb3ZlQ29sbGlkZXJ9IiwiaW1wb3J0IHsgaW5pdFN5c3RlbXMgfSBmcm9tIFwiLi4vc3lzdGVtL3J1blwiO1xyXG5pbXBvcnQgeyBpbml0Q2FudmFzIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vZW5naW5lL2g1L21vZGVsXCI7XHJcbmltcG9ydCB7IG9uS2V5Q2FsbGJhY2ssIG9uTW91c2VDYWxsYmFjayB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2VuZ2luZS9oNS9wcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgTmV3Q2FtZXJhIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9jYW1lcmEvdXRpbHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVGlsZU1hcFdpdGhEYXRhIH0gZnJvbSBcIi4vYWRhcHRlclwiO1xyXG5pbXBvcnQgeyBPcGVuQ29sbGlkZXIgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NvbGxpZGUvdXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDpgJrov4flj4LmlbDphY3nva7liJ3lp4vljJbns7vnu5/otYTmupBcclxuICovXHJcbmZ1bmN0aW9uIGluaXRHYW1lKG9wdGlvbnMgPSBudWxsKSB7XHJcblxyXG4gICAgLy/lvJXmk47liJ3lp4vljJZcclxuICAgIGluaXRDYW52YXMob3B0aW9ucy5zY3JlZW4ud2lkdGgsIG9wdGlvbnMuc2NyZWVuLmhlaWdodCwgb3B0aW9ucy5mcHMpO1xyXG5cclxuICAgIC8v5rOo5YaM5oyJ6ZSu5Zue6LCDXHJcbiAgICBpZihvcHRpb25zLmtleURvd25IYW5kbGVyICYmIG9wdGlvbnMua2V5VXBIYW5sZXIpe1xyXG4gICAgICAgIG9uS2V5Q2FsbGJhY2sob3B0aW9ucy5rZXlEb3duSGFuZGxlciwgb3B0aW9ucy5rZXlVcEhhbmxlcik7XHJcbiAgICB9XHJcbiAgICBpZihvcHRpb25zLm1vdXNlZG93bkhhbmRsZXIgJiYgb3B0aW9ucy5tb3VzZXVwSGFuZGxlcil7XHJcbiAgICAgICAgb25Nb3VzZUNhbGxiYWNrKG9wdGlvbnMubW91c2Vkb3duSGFuZGxlciwgb3B0aW9ucy5tb3VzZXVwSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGluaXRDYW1lcmEob3B0aW9ucy5jYW1lcmEsIG9wdGlvbnMuc2NyZWVuKTtcclxuICAgIGluaXRTeXN0ZW1zKG9wdGlvbnMuZGVidWcpO1xyXG5cclxuICAgIC8v55O356CW5Zyw5Zu+77yM6Iie5Y+wXHJcbiAgICBpZihvcHRpb25zLnRpbGVtYXApe1xyXG4gICAgICAgIGluaXRUaWxlKG9wdGlvbnMudGlsZW1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lvIDlkK/norDmkp7ns7vnu59cclxuICAgIGlmKG9wdGlvbnMuY29sbGlkZSl7XHJcbiAgICAgICAgT3BlbkNvbGxpZGVyKG9wdGlvbnMuY29sbGlkZSk7XHJcblxyXG4gICAgICAgIC8vIGlmKG9wdGlvbnMudXNlVGlsZUNvbWJpbmUpe1xyXG4gICAgICAgIC8vICAgICBsZXQgcmVzdWx0Tm9kZXMgPSBDcmVhdGVDb21iaW5lTm9kZXModGlsZW1hcCwgY29sbGlkZS5ib3hIYW5kbGVyKTtcclxuICAgICAgICAvLyAgICAgcmVzdWx0Tm9kZXMuZm9yRWFjaChyZXN1bHQgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgY29sbGlkZS5sb2FkQ2FsbGJhY2socmVzdWx0LnZhbHVlLCByZXN1bHQucmVjdCk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaRhOWDj+acuu+8jOWFqOWxgOWNleS+i1xyXG4gKi9cclxudmFyIGNhbWVyYSA9IG51bGw7XHJcbmZ1bmN0aW9uIGluaXRDYW1lcmEoY2FtZXJhRGF0YSA9IG51bGwsIHNjcmVlbkRhdGEgPSBudWxsKXtcclxuICAgIGxldCB3aWR0aCA9IGNhbWVyYURhdGEud2lkdGggPyBjYW1lcmFEYXRhLndpZHRoIDogc2NyZWVuRGF0YS53aWR0aDtcclxuICAgIGxldCBoZWlnaHQgPSBjYW1lcmFEYXRhLmhlaWdodCA/IGNhbWVyYURhdGEuaGVpZ2h0IDogc2NyZWVuRGF0YS5oZWlnaHQ7XHJcbiAgICBjYW1lcmEgPSBOZXdDYW1lcmEoY2FtZXJhRGF0YS54LCBjYW1lcmFEYXRhLnksIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcbmZ1bmN0aW9uIEdldENhbWVyYSgpe1xyXG4gICAgcmV0dXJuIGNhbWVyYTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnk7fnoJblnLDlm77vvIzoiJ7lj7DvvIzlhajlsYDljZXkvotcclxuICovXHJcbnZhciB0aWxlbWFwID0gbnVsbDtcclxuZnVuY3Rpb24gaW5pdFRpbGUodGlsZW1hcERhdGEgPSBudWxsKXtcclxuICAgIHRpbGVtYXAgPSBjcmVhdGVUaWxlTWFwV2l0aERhdGEodGlsZW1hcERhdGEsIHRpbGVtYXBEYXRhLmluaXRIYW5kbGVyKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUaWxlbWFwKCl7XHJcbiAgICByZXR1cm4gdGlsZW1hcDtcclxufVxyXG5cclxuZXhwb3J0e2luaXRHYW1lLCBpbml0Q2FtZXJhLCBHZXRDYW1lcmEsIGluaXRUaWxlLCBnZXRUaWxlbWFwfSIsImltcG9ydCB7IGNyZWF0ZVNwcml0ZUZyYW1lLCBnZXRTcHJpdGVGcmFtZUJ5TmFtZSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZVwiO1xyXG5pbXBvcnQgeyBOZXdDYW1lcmEgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L2NhbWVyYS91dGlsc1wiO1xyXG5pbXBvcnQgeyBDcmVhdGVBbmltYXRlRnJhbWUsIENyZWF0ZUFuaW1hdGVBY3Rpb24gfSBmcm9tIFwiLi4vLi4vYWN0aW9uL2FuaW1hdGVcIjtcclxuaW1wb3J0IHsgTmV3VGlsZU1hcCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnQvdGlsZS90aWxlbWFwXCI7XHJcbmltcG9ydCB7IEl0ZXJhdG9yR3JpZG1hcCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9ncmlkbWFwXCI7XHJcblxyXG4vKipcclxuICog5Yib5bu657K+54G15binXHJcbiAqIHRleHR1cmVBcmVhRGF0YSA9IHtcclxuICogIHggOiAwLFxyXG4gKiAgeSA6IDAsXHJcbiAqICB3aWR0aCA6IDAsXHJcbiAqICBoZWlnaHQgOiAwXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEobmFtZSA9IFwiXCIsIGJpdG1hcERhdGEgPSBudWxsLCB0ZXh0dXJlQXJlYURhdGEgPSBudWxsKXtcclxuICAgIGlmKG5hbWU9PVwiXCIgfHwgIWJpdG1hcERhdGEgfHwgIXRleHR1cmVBcmVhRGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgd2lkdGggPSB0ZXh0dXJlQXJlYURhdGFbJ3dpZHRoJ107XHJcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZUFyZWFEYXRhWydoZWlnaHQnXTtcclxuICAgIGlmKCF3aWR0aCB8fCAhaGVpZ2h0KXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVTcHJpdGVGcmFtZShuYW1lLCBiaXRtYXBEYXRhLCB0ZXh0dXJlQXJlYURhdGFbJ3gnXSwgdGV4dHVyZUFyZWFEYXRhWyd5J10sIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG4vKipcclxuICogc2NyZWVuT3B0aW9ucyA9IHtcclxuICogICAgICB4IDogMCwgeSA6IDAsIHdpZHRoIDogMCwgaGVpZ2h0IDogMFxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDYW1lcmFXaXRoRGF0YShzY3JlZW5PcHRpb25zID0gbnVsbCl7XHJcbiAgICBpZighc2NyZWVuT3B0aW9ucyl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgd2lkdGggPSBzY3JlZW5PcHRpb25zWyd3aWR0aCddO1xyXG4gICAgbGV0IGhlaWdodCA9IHNjcmVlbk9wdGlvbnNbJ2hlaWdodCddO1xyXG4gICAgaWYoIXdpZHRoIHx8ICFoZWlnaHQpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5ld0NhbWVyYShcclxuICAgICAgICBzY3JlZW5PcHRpb25zWyd4J10sIHNjcmVlbk9wdGlvbnNbJ3knXSxcclxuICAgICAgICB3aWR0aCwgaGVpZ2h0XHJcbiAgICApO1xyXG59XHJcblxyXG4vKipcclxuICogdGlsZW1hcOS7peWPimdyaWTnmoRyZWN0LCBwb3PlhbPns7tcclxuICogdGlsZW1hcOeahOebuOWvueWdkOagh+aYrygwLCAwKe+8jOWNs+W3puS4iuinklxyXG4gKiBncmlk55qE5Z2Q5qCH5pivZ3JpZOefqeW9ouS4remXtFxyXG4gKiDkvovlpoLvvJp0aWxlbWFwLnBvcy54ID0gMjAsIGdyaWRXaWR0aCA9IDUwLCBjb2x1bW4gPSA1O1xyXG4gKiDpgqPkuYhncmlkWzBd55qEcG9zLng9IDIwICsgMCo1MCArIDUwLzIgPSA0NSwgcG9zU3RhcnQueCA9IDQ1IC0gNTAvMiA9IDIwXHJcbiAqIOWQjOeQhmdyaWRbNF3nmoRwb3MueD0gMjAgKyA0KjUwICsgNTAvMiA9IDI0NSwgcG9zU3RhcnQueCA9IDI0NSAtIDUwLzIgPSAyMjBcclxuICogXHJcbiAqIG9wdGlvbnM6e1xyXG4gKiAgICAgIGRhdGEgOiBbICAgICAgICAgICAgICAgIOS4gOe7tOaVsOe7hFxyXG4gKiAgICAgICAgICAxLCAxLCAxLCAwLCAwLCAxLFxyXG4gKiAgICAgICAgICAyLCAxLCAwLCAwLCAxLCAyLFxyXG4gKiAgICAgICAgICAyLCAyLCAxLCAxLCAxLCAxXHJcbiAqICAgICAgICAgIF1cclxuICogICAgICBjb2x1bW5zIDogNiAgICAg5YiX5pWwXHJcbiAqICAgICAgZ3JpZFdpZHRoIDogMzJcclxuICogICAgICBncmlkSGVpZ2h0IDogMzIgICAgIOavj+S4quagvOWtkOeahOWuvemrmFxyXG4gKiAgICAgIHggOiAwXHJcbiAqICAgICAgeSA6IDAgICAgICAgICAgIOWIneWni+S9jee9ru+8jOm7mOiupOS4unN0YWdl5Lit5b+D77yM5Y2zKDAsIDApXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVRpbGVNYXBXaXRoRGF0YShvcHRpb25zID0gbnVsbCwgaW5pdEhhbmRsZXIgPSBudWxsKXtcclxuICAgIGlmKCFvcHRpb25zIHx8IG9wdGlvbnMuY29sdW1ucyA8PSAwIHx8ICFvcHRpb25zLmRhdGEgfHwgb3B0aW9ucy5kYXRhLmxlbmd0aCA9PSAwIHx8IG9wdGlvbnMuZ3JpZFdpZHRoIDw9IDAgfHwgb3B0aW9ucy5ncmlkSGVpZ2h0IDw9IDApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy/kuKLlvIPlsI/mlbDpg6jliIYs5L+d55WZ5pW05pWw6YOo5YiG77yM6aqM6K+BdGlsZW1hcOaVsOaNruWujOaVtOaAp1xyXG4gICAgbGV0IGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnM7XHJcbiAgICBsZXQgcm93cyA9IHBhcnNlSW50KG9wdGlvbnMuZGF0YS5sZW5ndGggLyBjb2x1bW5zKTtcclxuICAgIGlmKHJvd3MgKiBjb2x1bW5zICE9IG9wdGlvbnMuZGF0YS5sZW5ndGgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgcGFyYW06IGxlbihncmlkcyk6XCIsIG9wdGlvbnMuZGF0YS5sZW5ndGgsIFwiIGNvbHVtbnM6XCIsIGNvbHVtbnMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aWxlbWFwID0gTmV3VGlsZU1hcChyb3dzLCBjb2x1bW5zLCBvcHRpb25zLmdyaWRXaWR0aCwgb3B0aW9ucy5ncmlkSGVpZ2h0LCBvcHRpb25zLngsIG9wdGlvbnMueSwgaW5pdEhhbmRsZXIpO1xyXG4gICAgaWYoaW5pdEhhbmRsZXIpe1xyXG4gICAgICAgIEl0ZXJhdG9yR3JpZG1hcCh0aWxlbWFwLmdyaWRtYXAsIGdyaWQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gb3B0aW9ucy5kYXRhW2dyaWQucm93SW5kZXggKiBjb2x1bW5zICsgZ3JpZC5jb2xJbmRleF07XHJcbiAgICAgICAgICAgIGluaXRIYW5kbGVyKHZhbCwgdGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGlsZW1hcDtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rluo/liJfluKfliqjnlLtcclxuICogYW5pbWF0ZURhdGEgPSB7XHJcbiAqICB0eXBlIDogMCxcclxuICogIGZyYW1lcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICAgIGR1cmF0aW9uIDogMCxcclxuICogICAgICAgICAgeE9mZnNldCA6IDAsXHJcbiAqICAgICAgICAgIHlPZmZzZXQgOiAwXHJcbiAqICAgICAgfVxyXG4gKiAgXVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRlV2l0aERhdGEoYW5pbWF0ZURhdGEgPSBudWxsKXtcclxuICAgIGlmKCFhbmltYXRlRGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBmcmFtZXNEYXRhID0gYW5pbWF0ZURhdGFbJ2ZyYW1lcyddO1xyXG4gICAgaWYoIWZyYW1lc0RhdGEgfHwgZnJhbWVzRGF0YS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGFuaW1hdGVGcmFtZXMgPSBbXTtcclxuICAgIGZyYW1lc0RhdGEuZm9yRWFjaChmcmFtZURhdGEgPT4ge1xyXG4gICAgICAgIGFuaW1hdGVGcmFtZXMucHVzaChcclxuICAgICAgICAgICAgQ3JlYXRlQW5pbWF0ZUZyYW1lKGdldFNwcml0ZUZyYW1lQnlOYW1lKHNwcml0ZUZyYW1lTmFtZSksXHJcbiAgICAgICAgICAgICAgICBmcmFtZURhdGFbJ2R1cmF0aW9uJ10sIGZyYW1lRGF0YVsneE9mZnNldCddLCBmcmFtZURhdGFbJ3lPZmZzZXQnXSkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ3JlYXRlQW5pbWF0ZUFjdGlvbihhbmltYXRlRGF0YVsndHlwZSddLCBlbnRpdHlJZCwgYW5pbWF0ZUZyYW1lcyk7XHJcbn1cclxuXHJcblxyXG5leHBvcnR7TG9hZFJlc291cmNlLCBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhLCBjcmVhdGVDYW1lcmFXaXRoRGF0YSwgY3JlYXRlVGlsZU1hcFdpdGhEYXRhLCBjcmVhdGVBbmltYXRlV2l0aERhdGF9IiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBHZXRWZWMsIEFkZE1vdmVyLCBSZW1vdmVNb3ZlciB9IGZyb20gXCIuLi9jb21wb25lbnQvcG9zL3V0aWxzXCI7XHJcblxyXG5jbGFzcyBNb3ZlQWN0aW9uIGV4dGVuZHMgQWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCwgcHJpb3JpdHkpO1xyXG4gICAgICAgIHRoaXMuZHggPSBkeDtcclxuICAgICAgICB0aGlzLmR5ID0gZHk7XHJcbiAgICB9XHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy52ZWMgPSBHZXRWZWModGhpcy5lbnRpdHlJZCk7XHJcbiAgICAgICAgQWRkTW92ZXIodGhpcy5lbnRpdHlJZCk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIHRoaXMudmVjLnggKz0gdGhpcy5keDtcclxuICAgICAgICB0aGlzLnZlYy55ICs9IHRoaXMuZHk7XHJcbiAgICB9XHJcbiAgICBvbkVuZCgpe1xyXG4gICAgICAgIFJlbW92ZU1vdmVyKHRoaXMuZW50aXR5SWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBDcmVhdGVNb3ZlQWN0aW9uKGVudGl0eUlkID0gMCwgcHJpb3JpdHkgPSAwLCBkeCA9IDAsIGR5ID0gMCkge1xyXG4gICAgaWYoZHggPT0gMCAmJiBkeSA9PSAwKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgTW92ZUFjdGlvbihlbnRpdHlJZCwgcHJpb3JpdHksIGR4LCBkeSk7XHJcbn1cclxuXHJcbmV4cG9ydHtNb3ZlQWN0aW9uLCBDcmVhdGVNb3ZlQWN0aW9ufSIsImltcG9ydCB7IE5ld0xpbmssIFB1c2hUb0xpbmssIEdldExpbmtEYXRhIH0gZnJvbSBcIi4uL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9saW5rXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZWNzXCI7XHJcbmltcG9ydCB7IE1vdmVBY3Rpb24gfSBmcm9tIFwiLi4vZnJhbWV3b3JrL2FjdGlvbi9tb3ZlXCI7XHJcblxyXG5jbGFzcyBDbWRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwKSB7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMudmFsID0gMDtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGNtZENvbXMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNtZENvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBuZXcgQ21kQ29tcG9uZW50KGVudGl0eUlkKTtcclxuICAgIFB1c2hUb0xpbmsoY21kQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldENtZENvbXBvbmVudChlbnRpdHlJZCA9IDApIHtcclxuICAgIGxldCBjb20gPSBHZXRMaW5rRGF0YShjbWRDb21zLCBlbnRpdHlJZCk7XHJcbiAgICByZXR1cm4gY29tID8gY29tIDogY3JlYXRlQ21kQ29tcG9uZW50KGVudGl0eUlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUHVzaENtZChjbWRDb20gPSBudWxsLCB2YWwgPSAwKSB7XHJcbiAgICBjbWRDb20udmFsID0gY21kQ29tLnZhbCB8IHZhbDtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVsZWFzZUNtZChjbWRDb20gPSBudWxsLCB2YWwgPSAwKSB7XHJcbiAgICBjbWRDb20udmFsID0gY21kQ29tLnZhbCBeIHZhbDtcclxufVxyXG5cclxuXHJcbmNsYXNzIENNRE1vdmVBY3Rpb24gZXh0ZW5kcyBNb3ZlQWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCwgcHJpb3JpdHksIGR4LCBkeSk7XHJcbiAgICB9XHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgc3VwZXIub25TdGFydCgpO1xyXG4gICAgICAgIHRoaXMuY21kID0gR2V0Q21kQ29tcG9uZW50KHRoaXMuZW50aXR5SWQpO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBsZXQgdmFsID0gdGhpcy5jbWQudmFsO1xyXG4gICAgICAgIGlmKCh2YWwgJiAxNSkgPT0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHZhbCAmIGNtZF9tdl9yaWdodCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnggKz0gdGhpcy5keDtcclxuICAgICAgICB9ZWxzZSBpZih2YWwgJiBjbWRfbXZfbGVmdCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnggLT0gdGhpcy5keDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHZhbCAmIGNtZF9tdl9kb3duKXtcclxuICAgICAgICAgICAgdGhpcy52ZWMueSArPSB0aGlzLmR5O1xyXG4gICAgICAgIH1lbHNlIGlmKHZhbCAmIGNtZF9tdl91cCl7XHJcbiAgICAgICAgICAgIHRoaXMudmVjLnkgLT0gdGhpcy5keTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENyZWF0ZUNNRE1vdmVBY3Rpb24oZW50aXR5SWQgPSAwLCBwcmlvcml0eSA9IDAsIGR4ID0gMCwgZHkgPSAwKXtcclxuICAgIGlmKGR4ID09IDAgJiYgZHkgPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENNRE1vdmVBY3Rpb24oZW50aXR5SWQsIHByaW9yaXR5LCBkeCwgZHkpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNtZF9tdl9yaWdodCA9IDE7XHJcbmV4cG9ydCBjb25zdCBjbWRfbXZfbGVmdCA9IDI7XHJcbmV4cG9ydCBjb25zdCBjbWRfbXZfdXAgPSA0O1xyXG5leHBvcnQgY29uc3QgY21kX212X2Rvd24gPSA4O1xyXG5leHBvcnQgY29uc3QgY21kX2p1bXAgPSAxNjtcclxuZXhwb3J0e0dldENtZENvbXBvbmVudCwgUHVzaENtZCwgUmVsZWFzZUNtZCwgQ3JlYXRlQ01ETW92ZUFjdGlvbn0iLCJpbXBvcnQgZGF0YSBmcm9tICcuL2RhdGEnO1xyXG5pbXBvcnQgeyBTdGFydFRlc3QgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci91dGlscy9nYW1lJztcclxuaW1wb3J0IHsgR2V0R3JpZENlbnRlciB9IGZyb20gJy4vZnJhbWV3b3JrL2NvbXBvbmVudC90aWxlL3RpbGVtYXAnO1xyXG5pbXBvcnQgeyBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9ncmlkbWFwJztcclxuaW1wb3J0IHsgQWRkQmxvY2tDb2xsaWRlciwgQWRkQm9keUNvbGxpZGVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvY29tcG9uZW50L2NvbGxpZGUvYm94Mi91dGlscyc7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4vZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2Vjcyc7XHJcbmltcG9ydCB7IE5ld1JlY3RQb3NUdXBsZSB9IGZyb20gJy4vZnJhbWV3b3JrL2NvbXBvbmVudC9wb3MvcmVjdC9jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBOZXdQb3MgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9wb2ludCc7XHJcbmltcG9ydCB7IE5ld1JlY3QgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL2dlb21ldHJpYy9yZWN0JztcclxuaW1wb3J0IHsgU2V0UG9zLCBNb3ZlIH0gZnJvbSAnLi9mcmFtZXdvcmsvY29tcG9uZW50L3Bvcy91dGlscyc7XHJcbmltcG9ydCB7IEtFWV9BLCBLRVlfVywgS0VZX1MsIEtFWV9EIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9lbmdpbmUvaDUvbW9kZWwnO1xyXG5pbXBvcnQgeyBHZXRDbWRDb21wb25lbnQsIFB1c2hDbWQsIGNtZF9tdl91cCwgY21kX212X2xlZnQsIGNtZF9tdl9kb3duLCBjbWRfbXZfcmlnaHQsIFJlbGVhc2VDbWQsIENyZWF0ZUNNRE1vdmVBY3Rpb24gfSBmcm9tICcuL2dhbWUvY21kJztcclxuaW1wb3J0IHsgUnVuQWN0aW9uIH0gZnJvbSAnLi9mcmFtZXdvcmsvYWN0aW9uL3V0aWxzJztcclxuaW1wb3J0IHsgR2V0U3RhdHVzQ2hhbmdlckFjdGlvbiwgQm94Q2FsbGJhY2sgfSBmcm9tICcuL2dhbWUvYWN0aW9uJztcclxuaW1wb3J0IHsgQWRkR3JvdXBDb2xsaWRlciB9IGZyb20gJy4vZnJhbWV3b3JrL2NvbXBvbmVudC9jb2xsaWRlL2dyb3VwL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiAgMjAxOS4xMC4wOVxyXG4gKiAgICAgIHZz5b+954S25LiN5o+Q56S6aW1wb3J05LqG77yM5oyJ54Wn572R5LiK55qE5pa55rOV77yM5Yqg5LqG5LiqanNjb25maWcuanNvbuWwseWPr+S7peS6hlxyXG4gKi9cclxuXHJcbi8v6LCo6K6w5pWw5o2u6amx5Yqo77yM5YiG5riF5Lia5Yqh6YWN572u5ZKM5qGG5p626YC76L6R6YWN572uXHJcbnZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XHJcbiAgICBrZXlEb3duSGFuZGxlciA6IGtleURvd25IYW5kbGVyLFxyXG4gICAga2V5VXBIYW5sZXIgOiBrZXlVcEhhbmxlcixcclxuICAgIGJvZHlTaXplIDogMjUsXHJcbiAgICBibG9ja1NpemUgOiAyMCxcclxuICAgIGNvbGxpZGUgOiB7XHJcblx0XHR1c2VCb3ggOiB0cnVlLFxyXG4gICAgICAgIGdyb3VwIDogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVhbTEgOiAxLFxyXG4gICAgICAgICAgICB0ZWFtMiA6IDJcclxuICAgICAgICB9XSxcclxuICAgICAgICBjYWxsYmFjayA6IGdyb3VwQ2FsbGJhY2tcclxuXHR9XHJcbn0pO1xyXG5vcHRpb25zLnRpbGVtYXAuaW5pdEhhbmRsZXIgPSBpbml0SGFuZGxlcjtcclxuXHJcblxyXG5mdW5jdGlvbiBpbml0SGFuZGxlcih2YWwgPSAwLCB0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldEdyaWRDZW50ZXIodGlsZW1hcCwgZ3JpZCk7XHJcbiAgICBzd2l0Y2godmFsKXtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgTmV3UGxheWVyKHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIE5ld0Jsb2NrKHBvcy54LCBwb3MueSwgb3B0aW9ucy5ibG9ja1NpemUgKiB2YWwsIG9wdGlvbnMuYmxvY2tTaXplICogdmFsKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0Jsb2NrKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCBpZCA9IG5ldyBFbnRpdHkoKS5pZDtcclxuICAgIFNldFBvcyhpZCwgeCwgeSk7XHJcbiAgICBsZXQgcmVjdCA9IE5ld1JlY3RQb3NUdXBsZShcclxuICAgICAgICBpZCwgMCwgMCwgTmV3UmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgKTtcclxuICAgIEFkZEJsb2NrQ29sbGlkZXIoaWQsIHJlY3QpO1xyXG4gICAgQWRkR3JvdXBDb2xsaWRlcihpZCwgcmVjdCwgMCwgMik7XHJcbn1cclxuXHJcbnZhciBwbHlJZCA9IDA7XHJcbnZhciBjbWRDb20gPSBudWxsO1xyXG5mdW5jdGlvbiBOZXdQbGF5ZXIoeCA9IDAsIHkgPSAwKXtcclxuICAgIHBseUlkID0gbmV3IEVudGl0eSgpLmlkO1xyXG4gICAgU2V0UG9zKHBseUlkLCB4LCB5KTtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdFBvc1R1cGxlKFxyXG4gICAgICAgIHBseUlkLCAwLCAwLCBOZXdSZWN0KDAsIDAsIG9wdGlvbnMuYm9keVNpemUsIG9wdGlvbnMuYm9keVNpemUpXHJcbiAgICApO1xyXG4gICAgQWRkQm9keUNvbGxpZGVyKHBseUlkLCByZWN0KTtcclxuICAgIEFkZEdyb3VwQ29sbGlkZXIocGx5SWQsIHJlY3QsIDAsIDEpO1xyXG4gICAgY21kQ29tID0gR2V0Q21kQ29tcG9uZW50KHBseUlkKTtcclxuICAgIFJ1bkFjdGlvbihDcmVhdGVDTURNb3ZlQWN0aW9uKHBseUlkLCAwLCBvcHRpb25zLmR4LCBvcHRpb25zLmR5KSk7XHJcbiAgICAvLyBSdW5BY3Rpb24oXHJcbiAgICAvLyAgICAgR2V0U3RhdHVzQ2hhbmdlckFjdGlvbihwbHlJZCwgb3B0aW9ucy5keCwgb3B0aW9ucy5qdW1wRHksIG9wdGlvbnMuZmFsbER5LCBvcHRpb25zLm1heEZhbGxEeSlcclxuICAgIC8vICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGtleURvd25IYW5kbGVyKGNvZGUgPSAwKXtcclxuICAgIHN3aXRjaChjb2RlKXtcclxuICAgICAgICBjYXNlIEtFWV9XOlxyXG4gICAgICAgICAgICBQdXNoQ21kKGNtZENvbSwgY21kX212X3VwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfQTpcclxuICAgICAgICAgICAgUHVzaENtZChjbWRDb20sIGNtZF9tdl9sZWZ0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfUzpcclxuICAgICAgICAgICAgUHVzaENtZChjbWRDb20sIGNtZF9tdl9kb3duKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfRDpcclxuICAgICAgICAgICAgUHVzaENtZChjbWRDb20sIGNtZF9tdl9yaWdodCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGtleVVwSGFubGVyKGNvZGUgPSAwKXtcclxuICAgIHN3aXRjaChjb2RlKXtcclxuICAgICAgICBjYXNlIEtFWV9XOlxyXG4gICAgICAgICAgICBSZWxlYXNlQ21kKGNtZENvbSwgY21kX212X3VwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfQTpcclxuICAgICAgICAgICAgUmVsZWFzZUNtZChjbWRDb20sIGNtZF9tdl9sZWZ0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfUzpcclxuICAgICAgICAgICAgUmVsZWFzZUNtZChjbWRDb20sIGNtZF9tdl9kb3duKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBLRVlfRDpcclxuICAgICAgICAgICAgUmVsZWFzZUNtZChjbWRDb20sIGNtZF9tdl9yaWdodCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgaSA9IDA7XHJcbmNsYXNzIE15U2NlbmUge1xyXG4gICAgb25TdGFydCgpe31cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgaSA9IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdyb3VwQ2FsbGJhY2soY29sbGlkZXIxID0gbnVsbCwgY29sbGlkZXIyID0gbnVsbCl7XHJcbiAgICBpKys7XHJcbn1cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xyXG4gICAgU3RhcnRUZXN0KG9wdGlvbnMsIG5ldyBNeVNjZW5lKCkpO1xyXG59KSgpIiwiaW1wb3J0IHsgaW5pdEdhbWUgfSBmcm9tIFwiLi4vd29ybGQvcmVzXCI7XHJcbmltcG9ydCB7IHJ1bldpdGhTY2VuZSB9IGZyb20gXCIuLi9zeXN0ZW0vcnVuXCI7XHJcblxyXG4vKipcclxuICogb3B0aW9ucyB7XHJcbiAqICAgICAgdGV4dHVyZXMgOiDmoLzlvI/op4FMb2FkUmVzb3VyY2UoKeWGhVxyXG4gKiAgICAgIHNjcmVlbiA6IHtcclxuICogICAgICAgICAgd2lkdGggOiA4MDAsXHJcbiAqICAgICAgICAgIGhlaWdodCA6IDgwMFxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAgZnBzIDogNjAsXHJcbiAqICAgICAgZGVidWcgOiBmYWxzZSxcclxuICogICAgICBjYW1lcmEgOiB7XHJcbiAqICAgICAgICAgIHggOiAwLFxyXG4gKiAgICAgICAgICB5IDogMFxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAgdGlsZW1hcCA6IOagvOW8j+WPguiAg3RpbGVtYXDkuIDoioJcclxuICogICAgICBrZXlIYW5kbGVyIDogZnVuY3Rpb24odHlwZSwga2V5Q29kZSkgICB0eXBlPTEgPSBkb3duLCB0eXBlPTIgPSB1cFxyXG4gKiAgICAgIGNvbGxpZGUgOiB7XHJcbiAqICAgICAgICAgIHVzZUJveCA6IGZhbHNlLFxyXG4gKiAgICAgICAgICB1c2VHcm91cCA6IGZhbHNlLFxyXG4gKiAgICAgICAgICBwYWlycyA6IFtcclxuICogICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICB0ZWFtMSA6IDEsXHJcbiAqICAgICAgICAgICAgICAgICAgdGVhbTIgOiAyXHJcbiAqICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgIF0sXHJcbiAqICAgICAgICAgIGhhbmRsZXIgOiBmdW5jdGlvbihkdCwgY29sbGlkZXIxLCBjb2xsaWRlcjIpXHJcbiAqICAgICAgfVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBTdGFydChvcHRpb25zID0gbnVsbCwgc2NlbmUgPSBudWxsKXtcclxuICAgIExvYWRSZXNvdXJjZShvcHRpb25zLnRleHR1cmVzLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgaW5pdEdhbWUob3B0aW9ucyk7XHJcbiAgICAgICAgcnVuV2l0aFNjZW5lKHNjZW5lKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTdG9wKCl7XHJcbiAgICBHZXRTY2VuZSgpLm9uRW5kKCk7XHJcbiAgICBHZXRTeXN0ZW1zKCkuZm9yRWFjaChzeXN0ZW0gPT4ge1xyXG4gICAgICAgIHN5c3RlbS5vbkVuZCgpO1xyXG4gICAgfSk7XHJcbiAgICBlbmdpbmUuU3RvcCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTdGFydFRlc3Qob3B0aW9ucywgc2NlbmUgPSBudWxsKXtcclxuICAgIGluaXRHYW1lKG9wdGlvbnMpO1xyXG4gICAgcnVuV2l0aFNjZW5lKHNjZW5lKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb3otYTmupDvvIzliJvlu7rnsr7ngbXluKdcclxuICogdGV4dHVyZXMgOiBbXHJcbiAqICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgIGltZyA6IFwicmVzL2EucG5nXCIsXHJcbiAqICAgICAgICAgICAgICBmcmFtZXMgOiBbXHJcbiAqICAgICAgICAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogXCJ3YWxrMVwiXHJcbiAqICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVBcmVhIDoge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgeCA6IDAsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogMCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIDogMCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDBcclxuICogICAgICAgICAgICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgfVxyXG4gKiAgICAgIF0sXHJcbiAqL1xyXG5mdW5jdGlvbiBMb2FkUmVzb3VyY2UodGV4dHVyZXNEYXRhID0gbnVsbCwgT25sb2FkQ2FsbGJhY2sgPSBudWxsLCBPbkNvbXBsZXRlQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIC8v5Yqg6L295Zu+5YOP5bm25Yib5bu65pi+56S65binXHJcbiAgICBpZighdGV4dHVyZXNEYXRhIHx8IHRleHR1cmVzRGF0YS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IF9jb3VudCA9IDA7XHJcbiAgICB0ZXh0dXJlc0RhdGEuZm9yRWFjaCh0ID0+e1xyXG4gICAgICAgIGxvYWRJbWcodC5pbWcsIGJpdG1hcERhdGEgPT4ge1xyXG4gICAgICAgICAgICB0LmZyYW1lcy5mb3JFYWNoKGZyYW1lRGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhKGZyYW1lRGF0YS5uYW1lLCBiaXRtYXBEYXRhLCBmcmFtZURhdGEudGV4dHVyZUFyZWEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX2NvdW50Kys7XHJcbiAgICAgICAgICAgIGlmKE9ubG9hZENhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgIE9ubG9hZENhbGxiYWNrKF9jb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGV4dHVyZXNEYXRhLmxlbmd0aCA9PSBfY291bnQgJiYgT25Db21wbGV0ZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgIE9uQ29tcGxldGVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IHtTdGFydCwgU3RvcCwgU3RhcnRUZXN0LCBMb2FkUmVzb3VyY2V9Il0sInNvdXJjZVJvb3QiOiIifQ==